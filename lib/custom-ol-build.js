!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,i){var n,n,n,n,n,n,n,n;(function(t){function e(t,e){var i=t.split("."),n=Bu;i[0]in n||!n.execScript||n.execScript("var "+i[0]);for(var o;i.length&&(o=i.shift());)i.length||void 0===e?n=n[o]?n[o]:n[o]={}:n[o]=e}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function o(){}function s(t){return t.jf||(t.jf=++Uu)}function r(t){this.message="Assertion failed. See /doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function a(t,e){if(!t)throw new r(e)}function h(t,e,i){return Math.min(Math.max(t,e),i)}function l(t){return a(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function u(t,e){var i=t%e;return 0>i*e?i+e:i}function c(t){return function(e){if(e)return[h(e[0],t[0],t[2]),h(e[1],t[1],t[3])]}}function f(t){return t}function d(t,e,i){this.center=t,this.resolution=e,this.rotation=i}function p(t){for(var e in t)delete t[e]}function v(t){var e,i=[];for(e in t)i.push(t[e]);return i}function g(t){for(var e in t)return!1;return!e}function b(t){function e(e){var i=t.listener,n=t.bd||t.target;return t.ed&&T(t),i.call(n,e)}return t.cd=e}function y(t,e,i,n){for(var o,s=0,r=t.length;s<r;++s)if(o=t[s],o.listener===e&&o.bd===i)return n&&(o.deleteIndex=s),o}function m(t,e){var i=t.oa;return i?i[e]:void 0}function x(t){var e=t.oa;return e||(e=t.oa={}),e}function E(t,e){var i=m(t,e);if(i){for(var n=0,o=i.length;n<o;++n)t.removeEventListener(e,i[n].cd),p(i[n]);i.length=0,(i=t.oa)&&(delete i[e],0===Object.keys(i).length&&delete t.oa)}}function w(t,e,i,n,o){var s=x(t),r=s[e];return r||(r=s[e]=[]),(s=y(r,i,n,!1))?o||(s.ed=!1):(s={bd:n,ed:!!o,listener:i,target:t,type:e},t.addEventListener(e,b(s)),r.push(s)),s}function M(t,e,i,n){(t=m(t,e))&&(i=y(t,i,n,!0))&&T(i)}function T(t){if(t&&t.target){t.target.removeEventListener(t.type,t.cd);var e=m(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&E(t.target,t.type)}p(t)}}function N(t){var e,i=x(t);for(e in i)E(t,e)}function S(){}function L(t){t.Ha||(t.Ha=!0,t.aa())}function A(t){this.type=t,this.target=null}function C(t){t.stopPropagation()}function _(){this.la={},this.D={},this.A={}}function P(t,e){var i="string"==typeof e?new A(e):e,n=i.type;i.target=t;var s,r=t.A[n];if(r){n in t.D||(t.D[n]=0,t.la[n]=0),++t.D[n];for(var a=0,h=r.length;a<h;++a)if(!1===r[a].call(t,i)||i.sf){s=!1;break}if(--t.D[n],0===t.D[n]){for(i=t.la[n],delete t.la[n];i--;)t.removeEventListener(n,o);delete t.D[n]}return s}}function D(t,e){return e?e in t.A:0<Object.keys(t.A).length}function I(){_.call(this),this.f=0}function j(t){I.call(this),s(this),this.T={},void 0!==t&&this.i(t)}function R(t){return Gu.hasOwnProperty(t)?Gu[t]:Gu[t]="change:"+t}function k(t,e,i){A.call(this,t),this.key=e,this.oldValue=i}function O(t,e){return t>e?1:t<e?-1:0}function F(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(0<i){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function B(t){return t.reduce(function(t,e){return Array.isArray(e)?t.concat(B(e)):t.concat(e)},[])}function U(t,e){var i,n=Array.isArray(e)?e:[e],o=n.length;for(i=0;i<o;i++)t[t.length]=n[i]}function W(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function V(t){var e,i=So,n=t.length,o=Array(t.length);for(e=0;e<n;e++)o[e]={index:e,value:t[e]};for(o.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=o[e].value}function G(t,e){var i=e||O;return t.every(function(e,n){if(0===n)return!0;var o=i(t[n-1],e);return!(0<o||0===o)})}function X(t){return function(e,i,n){if(void 0!==e)return e=F(t,e,n),e=h(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]}}function z(t,e,i){return function(n,o,s){if(void 0!==n)return n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-s/2+.5))+o,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)}}function H(t){if(void 0!==t)return 0}function Y(t,e){if(void 0!==t)return t+e}function Z(t){var e=2*Math.PI/t;return function(t,i){if(void 0!==t)return t=Math.floor((t+i)/e+.5)*e}}function J(){var t=5*Math.PI/180;return function(e,i){if(void 0!==e)return Math.abs(e+i)<=t?0:e+i}}function K(t){t=""+t;var e=t.indexOf("."),e=-1===e?t.length:e;return 2<e?t:Array(3-e).join("0")+t}function q(t,e){var i=Math.cos(e),n=Math.sin(e),o=t[1]*i+t[0]*n;t[0]=t[0]*i-t[1]*n,t[1]=o}function $(t){return 1-Math.pow(1-t,3)}function Q(t){return 3*t*t-2*t*t*t}function tt(t){return t}function et(t){for(var e=st(),i=0,n=t.length;i<n;++i)ct(e,t[i]);return e}function it(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function nt(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function ot(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function st(){return[1/0,1/0,-(1/0),-(1/0)]}function rt(t,e,i,n,o){return o?(o[0]=t,o[1]=e,o[2]=i,o[3]=n,o):[t,e,i,n]}function at(t){return rt(1/0,1/0,-(1/0),-(1/0),t)}function ht(t,e){var i=t[0],n=t[1];return rt(i,n,i,n,e)}function lt(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function ut(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}function ct(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function ft(t,e,i,n,o){for(;i<n;i+=o){var s=t,r=e[i],a=e[i+1];s[0]=Math.min(s[0],r),s[1]=Math.min(s[1],a),s[2]=Math.max(s[2],r),s[3]=Math.max(s[3],a)}return t}function dt(t){var e=0;return xt(t)||(e=yt(t)*gt(t)),e}function pt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function vt(t,e,i,n,o){var s=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var r=Math.sin(i);i=s*e,s*=r,e*=n;var a=n*r,h=t[0],l=t[1];t=h-i+a,n=h-i-a,r=h+i-a,i=h+i+a;var a=l-s-e,h=l-s+e,u=l+s+e,s=l+s-e;return rt(Math.min(t,n,r,i),Math.min(a,h,u,s),Math.max(t,n,r,i),Math.max(a,h,u,s),o)}function gt(t){return t[3]-t[1]}function bt(t,e){var i=st();return mt(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function yt(t){return t[2]-t[0]}function mt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function xt(t){return t[2]<t[0]||t[3]<t[1]}function Et(){return!0}function wt(){return!1}function Mt(t){this.radius=t}function Tt(t,e){var i=t[1]*Math.PI/180,n=e[1]*Math.PI/180,o=(n-i)/2,s=(e[0]-t[0])*Math.PI/180/2,i=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(n);return 2*zu.radius*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}function Nt(t){this.Ia=t.code,this.a=t.units,this.i=void 0!==t.extent?t.extent:null,this.b=void 0!==t.global&&t.global,this.f=!(!this.b||!this.i),this.l=t.getPointResolution,this.c=null,this.g=t.metersPerUnit;var e=t.code;console.assert(void 0!==e,'Option "code" is required for constructing instance');var i=window.proj4;"function"==typeof i&&(e=i.defs(e),void 0!==e&&(void 0===t.metersPerUnit&&(this.g=e.to_meter),void 0===t.units&&(this.a=e.units)))}function St(t){return t.g||Hu[t.a]}function Lt(t,e,i){t=t.Ia,e=e.Ia,t in Zu||(Zu[t]={}),Zu[t][e]=i}function At(t,e){var i;return t in Zu&&e in Zu[t]&&(i=Zu[t][e]),i}function Ct(t,e,i){var n=t.l;return n?e=n(e,i):"degrees"!=t.a&&(n=Ft(t,Rt("EPSG:4326")),e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e=n(e,e,2),e=(Tt(e.slice(0,2),e.slice(2,4))+Tt(e.slice(4,6),e.slice(6,8)))/2,t=St(t),void 0!==t&&(e/=t)),e}function _t(t){Dt(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Lt(e,t,Ut)})})}function Pt(t){Yu[t.Ia]=t,Lt(t,t,Ut)}function Dt(t){var e=[];t.forEach(function(t){e.push(Pt(t))})}function It(t){return t?"string"==typeof t?Rt(t):t:Rt("EPSG:3857")}function jt(t){return function(e,i,n){var o=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(o);var s,r;for(r=0;r<o;r+=n)for(s=t([e[r],e[r+1]]),i[r]=s[0],i[r+1]=s[1],s=n-1;2<=s;--s)i[r+s]=e[r+s];return i}}function Rt(t){var e=null;if(t instanceof Nt)e=t;else if("string"==typeof t){var e=Yu[t]||null,i=window.proj4;e||"function"!=typeof i||void 0===i.defs(t)||(e=new Nt({code:t}),Pt(e))}return e}function kt(t,e){if(t===e)return!0;var i=t.a===e.a;return t.Ia===e.Ia?i:Ft(t,e)===Ut&&i}function Ot(t,e){var i=Rt(t),n=Rt(e);return Ft(i,n)}function Ft(t,e){var i=t.Ia,n=e.Ia,o=At(i,n);if(!o){var s=window.proj4;if("function"==typeof s){var r=s.defs(i),a=s.defs(n);void 0!==r&&void 0!==a&&(r===a?_t([e,t]):(s=s(n,i),o=s.forward,s=s.inverse,r=Rt(e),a=Rt(t),Lt(r,a,jt(o)),Lt(a,r,jt(s))),o=At(i,n))}}return o||(console.assert(o,"transform should be defined"),o=Bt),o}function Bt(t,e){if(void 0!==e&&t!==e){console.assert(!1,"This should not be used internally.");for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function Ut(t,e){var i;if(void 0!==e){i=0;for(var n=t.length;i<n;++i)e[i]=t[i];i=e}else i=t.slice();return i}function Wt(t,e,i){e=Ot(e,i),t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return console.assert(0<i.length,"xs length should be larger than 0"),console.assert(0<n.length,"ys length should be larger than 0"),t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),rt(t,e,i,n,void 0)}function Vt(){j.call(this),this.v=st(),this.C=-1,this.g={},this.o=this.j=0}function Gt(t,e,i,n,o,s){for(var r=s?s:[],a=0;e<i;e+=n){var h=t[e],l=t[e+1];r[a++]=o[0]*h+o[2]*l+o[4],r[a++]=o[1]*h+o[3]*l+o[5]}return s&&r.length!=a&&(r.length=a),r}function Xt(t,e,i,n,o,s){var r,a,h=s?s:[],l=0;for(r=0;r<e;r+=i)for(h[l++]=t[r]+n,h[l++]=t[r+1]+o,a=r+2;a<r+i;++a)h[l++]=t[a];return s&&h.length!=l&&(h.length=l),h}function zt(){Vt.call(this),this.Y="XY",this.a=2,this.u=null}function Ht(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),console.assert(e,"unsupported layout: "+t),e}function Yt(t,e,i){t.a=Ht(e),t.Y=e,t.u=i}function Zt(t,e,i,n){if(e)i=Ht(e);else{for(e=0;e<n;++e){if(0===i.length)return t.Y="XY",void(t.a=2);i=i[0]}i=i.length;var o;2==i?o="XY":3==i?o="XYZ":4==i&&(o="XYZM"),console.assert(o,"unsupported stride: "+i),e=o}t.Y=e,t.a=i}function Jt(t,e,i){var n=0;console.assert(e.length==i,"length of the coordinate array should match stride");var o;for(i=0,o=e.length;i<o;++i)t[n++]=e[i];return n}function Kt(t,e,i,n){var o,s;for(o=0,s=i.length;o<s;++o){var r=i[o];console.assert(r.length==n,"length of coordinate array should match stride");var a;for(a=0;a<n;++a)t[e++]=r[a]}return e}function qt(t,e,i,n,o){o=o?o:[];var s,r,a=0;for(s=0,r=i.length;s<r;++s)e=Kt(t,e,i[s],n),o[a++]=e;return o.length=a,o}function $t(t,e,i,n,o){o=void 0!==o?o:[];for(var s=0;e<i;e+=n)o[s++]=t.slice(e,e+n);return o.length=s,o}function Qt(t,e,i,n,o){o=void 0!==o?o:[];var s,r,a=0;for(s=0,r=i.length;s<r;++s){var h=i[s];o[a++]=$t(t,e,h,n,o[a]),e=h}return o.length=a,o}function te(t,e,i,n,o,s,r){var a=(i-e)/n;if(3>a){for(;e<i;e+=n)s[r++]=t[e],s[r++]=t[e+1];return r}var h=Array(a);h[0]=1,h[a-1]=1,i=[e,i-n];for(var l,u=0;0<i.length;){var c=i.pop(),f=i.pop(),d=0,p=t[f],v=t[f+1],g=t[c],b=t[c+1];for(l=f+n;l<c;l+=n){var y,m=t[l];y=t[l+1];var x=p,E=v,w=g-x,M=b-E;if(0!==w||0!==M){var T=((m-x)*w+(y-E)*M)/(w*w+M*M);1<T?(x=g,E=b):0<T&&(x+=w*T,E+=M*T)}m=x-m,y=E-y,y=m*m+y*y,y>d&&(u=l,d=y)}d>o&&(h[(u-e)/n]=1,f+n<u&&i.push(f,u),u+n<c&&i.push(u,c))}for(l=0;l<a;++l)h[l]&&(s[r++]=t[e+l*n],s[r++]=t[e+l*n+1]);return r}function ee(t,e,i,n,o,s,r,a){var h,l;for(h=0,l=i.length;h<l;++h){var u=i[h];t:{var c=t,f=u,d=n,p=o,v=s;if(e!=f){var g=p*Math.round(c[e]/p),b=p*Math.round(c[e+1]/p);e+=d,v[r++]=g,v[r++]=b;var y,m;do if(y=p*Math.round(c[e]/p),m=p*Math.round(c[e+1]/p),e+=d,e==f){v[r++]=y,v[r++]=m;break t}while(y==g&&m==b);for(;e<f;){var x,E;if(x=p*Math.round(c[e]/p),E=p*Math.round(c[e+1]/p),e+=d,x!=y||E!=m){var w=y-g,M=m-b,T=x-g,N=E-b;w*N==M*T&&(0>w&&T<w||w==T||0<w&&T>w)&&(0>M&&N<M||M==N||0<M&&N>M)||(v[r++]=y,v[r++]=m,g=y,b=m),y=x,m=E}}v[r++]=y,v[r++]=m}}a.push(r),e=u}return r}function ie(t,e){zt.call(this),this.ha(t,e)}function ne(t,e){zt.call(this),this.ha(t,e)}function oe(t,e,i,n,o,s){for(var r=0,a=t[i-n],h=t[i-n+1];e<i;e+=n){var l=t[e],u=t[e+1];h<=s?u>s&&0<(l-a)*(s-h)-(o-a)*(u-h)&&r++:u<=s&&0>(l-a)*(s-h)-(o-a)*(u-h)&&r--,a=l,h=u}return 0!==r}function se(t,e,i,n,o,s,r){var a,h,l,u,c,f=o[s+1],d=[],p=i[0];for(l=t[p-n],c=t[p-n+1],a=e;a<p;a+=n)u=t[a],h=t[a+1],(f<=c&&h<=f||c<=f&&f<=h)&&(l=(f-c)/(h-c)*(u-l)+l,d.push(l)),l=u,c=h;for(p=NaN,c=-(1/0),d.sort(O),l=d[0],a=1,h=d.length;a<h;++a){u=d[a];var v=Math.abs(u-l);if(v>c){l=(l+u)/2;var g;t:{g=t;var b=e,y=i,m=n,x=l,E=f;if(console.assert(0<y.length,"ends should not be an empty array"),0!==y.length&&oe(g,b,y[0],m,x,E)){var w,b=1;for(w=y.length;b<w;++b)if(oe(g,y[b-1],y[b],m,x,E)){g=!1;break t}g=!0}else g=!1}g&&(p=l,c=v)}l=u}return isNaN(p)&&(p=o[s]),r?(r.push(p,f),r):[p,f]}function re(t,e,i,n){for(var o=0,s=t[i-n],r=t[i-n+1];e<i;e+=n)var a=t[e],h=t[e+1],o=o+(a-s)*(h+r),s=a,r=h;return 0<o}function ae(t,e,i,n){var o=0;n=void 0!==n&&n;var s,r;for(s=0,r=e.length;s<r;++s){var a=e[s],o=re(t,o,a,i);if(0===s){if(n&&o||!n&&!o)return!1}else if(n&&!o||!n&&o)return!1;o=a}return!0}function he(t,e,i,n,o){o=void 0!==o&&o;var s,r;for(s=0,r=i.length;s<r;++s){var a=i[s],h=re(t,e,a,n);if(0===s?o&&h||!o&&!h:o&&!h||!o&&h)for(var h=t,l=a,u=n;e<l-u;){var c;for(c=0;c<u;++c){var f=h[e+c];h[e+c]=h[l-u+c],h[l-u+c]=f}e+=u,l-=u}e=a}return e}function le(t,e,i,n){var o,s,r=0;for(o=0,s=e.length;o<s;++o)r=he(t,r,e[o],i,n);return r}function ue(t,e){zt.call(this),this.c=[],this.G=-1,this.I=null,this.O=-1,this.l=null,this.ha(t,e)}function ce(t){if(t.G!=t.f){var e=pt(t.L());t.I=se(de(t),0,t.c,t.a,e,0),t.G=t.f}return t.I}function fe(t){var e=t.Y,i=t.u;t=t.c;var n,o,s=[],r=0;for(n=0,o=t.length;n<o;++n){var a=t[n],h=new ie(null),l=h;Yt(l,e,i.slice(r,a)),l.B(),s.push(h),r=a}return s}function de(t){if(t.O!=t.f){var e=t.u;ae(e,t.c,t.a)?t.l=e:(t.l=e.slice(),t.l.length=he(t.l,0,t.c,t.a)),t.O=t.f}return t.l}function pe(t){var e;j.call(this),t=t||{},this.b=[0,0],this.a=[],this.ec=this.ec.bind(this);var i={};i[Ju]=void 0!==t.center?t.center:null,this.v=It(t.projection);var n,o,s=void 0!==t.minZoom?t.minZoom:0;e=void 0!==t.maxZoom?t.maxZoom:28;var r=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)e=t.resolutions,n=e[0],o=e[e.length-1],e=X(e);else{n=It(t.projection),o=n.L();var a=(o?Math.max(yt(o),gt(o)):360*Hu.degrees/St(n))/256/Math.pow(2,0),h=a/Math.pow(2,28);n=t.maxResolution,void 0!==n?s=0:n=a/Math.pow(r,s),o=t.minResolution,void 0===o&&(o=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(r,e):a/Math.pow(r,e):h),e=s+Math.floor(Math.log(n/o)/Math.log(r)),o=n/Math.pow(r,e-s),e=z(r,n,e-s)}this.c=n,this.o=o,this.C=r,this.l=t.resolutions,this.j=s,s=void 0!==t.extent?c(t.extent):f,r=Se(t),this.g=new d(s,e,r),void 0!==t.resolution?i[Ku]=t.resolution:void 0!==t.zoom&&(i[Ku]=this.constrainResolution(this.c,t.zoom-this.j)),i[qu]=void 0!==t.rotation?t.rotation:0,this.i(i)}function ve(t){return 0<me(t)[$u]}function ge(t){Te(t,$u,-me(t)[$u]);for(var e=0,i=t.a.length;e<i;++e){var n=t.a[e];n[0].Nb&&n[0].Nb(!1)}t.a.length=0}function be(t,e,i){var n,o=t.ya();return void 0!==o&&(n=[o[0]-i[0],o[1]-i[1]],q(n,e-we(t)),t=n,t[0]+=i[0],t[1]+=i[1]),n}function ye(t,e,i){var n,o=t.ya();return t=xe(t),void 0!==o&&void 0!==t&&(n=[i[0]-e*(i[0]-o[0])/t,i[1]-e*(i[1]-o[1])/t]),n}function me(t,e){return void 0!==e?(e[0]=t.b[0],e[1]=t.b[1],e):t.b.slice()}function xe(t){return t.get(Ku)}function Ee(t,e){return Math.max(yt(t)/e[0],gt(t)/e[1])}function we(t){return t.get(qu)}function Me(t){return!!t.ya()&&void 0!==xe(t)}function Te(t,e,i){console.assert(0<=e&&e<t.b.length,"illegal hint (%s), must be between 0 and %s",e,t.b.length),t.b[e]+=i,console.assert(0<=t.b[e],"Hint at %s must be positive, was %s",e,t.b[e]),t.B()}function Ne(t,e){t.set(Ku,e),ve(t)&&ge(t)}function Se(t){return(void 0!==t.enableRotation?t.enableRotation:1)?(t=t.constrainRotation,void 0===t||!0===t?J():!1===t?Y:"number"==typeof t?Z(t):(console.assert(!1,"illegal option for constrainRotation (%s)",t),Y)):H}function Le(t,e,i,n){this.N=t,this.M=e,this.P=i,this.S=n}function Ae(t,e,i){return t.N<=e&&e<=t.M&&t.P<=i&&i<=t.S}function Ce(t,e){return t.N==e.N&&t.P==e.P&&t.M==e.M&&t.S==e.S}function _e(t,e){return t.N<=e.M&&t.M>=e.N&&t.P<=e.S&&t.S>=e.P}function Pe(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function De(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function Ie(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,a(G(this.a,function(t,e){return e-t}),17),this.maxZoom=this.a.length-1,this.f=void 0!==t.origin?t.origin:null,this.b=null,void 0!==t.origins&&(this.b=t.origins,a(this.b.length==this.a.length,20));var e=t.extent;void 0===e||this.f||this.b||(this.f=[e[0],e[3]]),a(!this.f&&this.b||this.f&&!this.b,18),this.c=null,void 0!==t.tileSizes&&(this.c=t.tileSizes,a(this.c.length==this.a.length,19)),this.g=void 0!==t.tileSize?t.tileSize:this.c?null:256,a(!this.g&&this.c||this.g&&!this.c,22),this.l=void 0!==e?e:null,this.i=null,this.j=[0,0],void 0!==t.sizes?(console.assert(t.sizes.length==this.a.length,"number of sizes and resolutions must be equal"),this.i=t.sizes.map(function(t){return console.assert(0!==t[0],"width must not be 0"),console.assert(0!==t[1],"height must not be 0"),new Le(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this)):e&&He(this,e)}function je(t,e,i,n,o){for(o=We(t,e,o),e=e[0]-1;e>=t.minZoom;){if(i.call(null,e,Be(t,o,e,n)))return!0;--e}return!1}function Re(t,e){return t.f?t.f:(console.assert(t.minZoom<=e&&e<=t.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",t.minZoom,e,t.maxZoom),t.b[e])}function ke(t,e){return console.assert(t.minZoom<=e&&e<=t.maxZoom,"given z is not in allowed range (%s <= %s <= %s)",t.minZoom,e,t.maxZoom),t.a[e]}function Oe(t,e,i,n){return e[0]<t.maxZoom?(n=We(t,e,n),Be(t,n,e[0]+1,i)):null}function Fe(t,e,i,n){Ve(t,e[0],e[1],i,!1,Qu);var o=Qu[1],s=Qu[2];return Ve(t,e[2],e[3],i,!0,Qu),t=Qu[1],e=Qu[2],void 0!==n?(n.N=o,n.M=t,n.P=s,n.S=e):n=new Le(o,t,s,e),n}function Be(t,e,i,n){return i=ke(t,i),Fe(t,e,i,n)}function Ue(t,e){var i=Re(t,e[0]),n=ke(t,e[0]),o=De(Ge(t,e[0]),t.j);return[i[0]+(e[1]+.5)*o[0]*n,i[1]+(e[2]+.5)*o[1]*n]}function We(t,e,i){var n=Re(t,e[0]),o=ke(t,e[0]);t=De(Ge(t,e[0]),t.j);var s=n[0]+e[1]*t[0]*o;return e=n[1]+e[2]*t[1]*o,rt(s,e,s+t[0]*o,e+t[1]*o,i)}function Ve(t,e,i,n,o,s){var r=ze(t,n),a=n/ke(t,r),h=Re(t,r);return t=De(Ge(t,r),t.j),e=a*Math.floor((e-h[0])/n+(o?.5:0))/t[0],i=a*Math.floor((i-h[1])/n+(o?0:.5))/t[1],o?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),o=e,void 0!==s?(s[0]=r,s[1]=o,s[2]=i):s=[r,o,i],s}function Ge(t,e){return t.g?t.g:(console.assert(t.minZoom<=e&&e<=t.maxZoom,"z is not in allowed range (%s <= %s <= %s",t.minZoom,e,t.maxZoom),t.c[e])}function Xe(t,e){return t.i?(console.assert(t.minZoom<=e&&e<=t.maxZoom,"z is not in allowed range (%s <= %s <= %s",t.minZoom,e,t.maxZoom),t.i[e]):null}function ze(t,e,i){return h(F(t.a,e,i||0),t.minZoom,t.maxZoom)}function He(t,e){for(var i=t.a.length,n=Array(i),o=t.minZoom;o<i;++o)n[o]=Be(t,e,o);t.i=n}function Ye(t){var e=t.c;if(!e){var e=Je(t),i=Ze(e,void 0,void 0),e=new Ie({extent:e,origin:[e[0],e[3]],resolutions:i,tileSize:void 0});t.c=e}return e}function Ze(t,e,i){e=void 0!==e?e:42;var n=gt(t);for(t=yt(t),i=De(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;t<e;++t)n[t]=i/Math.pow(2,t);return n}function Je(t){t=Rt(t);var e=t.L();return e||(t=180*Hu.degrees/St(t),e=rt(-t,-t,t,t)),e}function Ke(t){this.f=t.html,this.a=t.tileRanges?t.tileRanges:null}function qe(t){j.call(this),this.a=t?t:[],Qe(this)}function $e(t,e){var i=t.a[e];return t.a.splice(e,1),Qe(t),P(t,new ti(ic,i)),i}function Qe(t){t.set(tc,t.a.length)}function ti(t,e){A.call(this,t),this.element=e}function ei(t){return Array.isArray(t)?t:sc(t)}function ii(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function ni(t){var e=[];return e[0]=h(t[0]+.5|0,0,255),e[1]=h(t[1]+.5|0,0,255),e[2]=h(t[2]+.5|0,0,255),e[3]=h(t[3],0,1),e}function oi(t){return si(t)?t:ii(t)}function si(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}function ri(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function ai(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function hi(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function li(t,e,i){A.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function ui(t){j.call(this),this.element=t.element?t.element:null,this.c=this.I=null,this.j=[],this.render=t.render?t.render:o,t.target&&(t=t.target,this.I="string"==typeof t?document.getElementById(t):t)}function ci(t){t=t?t:{},this.G=document.createElement("UL"),this.l=document.createElement("LI"),this.G.appendChild(this.l),this.l.style.display="none",this.g=void 0===t.collapsed||t.collapsed,this.v=void 0===t.collapsible||t.collapsible,this.v||(this.g=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.s=document.createElement("span"),this.s.textContent=n):this.s=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.o=document.createElement("span"),this.o.textContent=n):this.o=n;var o=this.v&&!this.g?this.s:this.o,n=document.createElement("button");n.setAttribute("type","button"),n.title=i,n.appendChild(o),w(n,"click",this.X,this),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control"+(this.g&&this.v?" ol-collapsed":"")+(this.v?"":" ol-uncollapsible"),i.appendChild(this.G),i.appendChild(n),ui.call(this,{element:i,render:t.render?t.render:fi,target:t.target}),this.C=!0,this.b={},this.a={},this.O={}}function fi(t){if(t=t.frameState){var e,i,n,o,r,a,h,l,c,f,d,p=t.layerStatesArray,v=Vu({},t.attributions),b={},y={},m=t.viewState.projection;for(i=0,e=p.length;i<e;i++)if((a=p[i].layer.na())&&(f=s(a).toString(),c=a.s))for(n=0,o=c.length;n<o;n++)if(h=c[n],l=s(h).toString(),!(l in v)){if(r=t.usedTiles[f]){var x=a.Ja(m);t:{d=h;var E=m;if(d.a){var w,M,T,N=void 0;for(N in r)if(N in d.a){T=r[N];var S;for(w=0,M=d.a[N].length;w<M;++w){if(S=d.a[N][w],_e(S,T)){d=!0;break t}var L=Be(x,Je(E),parseInt(N,10)),A=L.M-L.N+1;if((T.N<L.N||T.M>L.M)&&(_e(S,new Le(u(T.N,A),u(T.M,A),T.P,T.S))||T.M-T.N+1>A&&_e(S,L))){d=!0;break t}}}d=!1}else d=!0}}else d=!1;d?(l in b&&delete b[l],d=h.f,d in y||(y[d]=!0,v[l]=h)):b[l]=h}e=[v,b],i=e[0],e=e[1];for(var C in this.b)C in i?(this.a[C]||(this.b[C].style.display="",this.a[C]=!0),delete i[C]):C in e?(this.a[C]&&(this.b[C].style.display="none",delete this.a[C]),delete e[C]):(hi(this.b[C]),delete this.b[C],delete this.a[C]);for(C in i)n=document.createElement("LI"),n.innerHTML=i[C].f,this.G.appendChild(n),this.b[C]=n,this.a[C]=!0;for(C in e)n=document.createElement("LI"),n.innerHTML=e[C].f,n.style.display="none",this.G.appendChild(n),this.b[C]=n;C=!g(this.a)||!g(t.logos),this.C!=C&&(this.element.style.display=C?"":"none",this.C=C),C&&g(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var _;t=t.logos,C=this.O;for(_ in C)_ in t||(hi(C[_]),delete C[_]);for(var P in t)e=t[P],e instanceof HTMLElement&&(this.l.appendChild(e),C[P]=e),P in C||(_=new Image,_.src=P,""===e?i=_:(i=document.createElement("a"),i.href=e,i.appendChild(_)),this.l.appendChild(i),C[P]=i);this.l.style.display=g(t)?"none":""}else this.C&&(this.element.style.display="none",this.C=!1)}function di(t){t=t?t:{},this.a=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.g="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.l="string"==typeof e?document.createTextNode(e):e;var i=t.tipLabel?t.tipLabel:"Toggle full-screen",e=document.createElement("button");e.className=this.a+"-"+vi(),e.setAttribute("type","button"),e.title=i,e.appendChild(this.g),w(e,"click",this.v,this),i=document.createElement("div"),i.className=this.a+" ol-unselectable ol-control "+(pi()?"":"ol-unsupported"),i.appendChild(e),ui.call(this,{element:i,target:t.target}),this.o=void 0!==t.keys&&t.keys,this.b=t.source}function pi(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function vi(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function gi(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function bi(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation",i=document.createElement("button");i.className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),w(i,"click",bi.prototype.o,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:yi,this.g=t.resetNorth?t.resetNorth:void 0,ui.call(this,{element:n,render:e,target:t.target}),this.l=void 0!==t.duration?t.duration:250,this.b=void 0===t.autoHide||t.autoHide,this.s=void 0,this.b&&this.element.classList.add("ol-hidden")}function yi(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.s){var e="rotate("+t+"rad)";if(this.b){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.s=t}}function mi(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",s=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",r=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=s,a.appendChild("string"==typeof n?document.createTextNode(n):n),w(a,"click",mi.prototype.b.bind(this,i)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=r,n.appendChild("string"==typeof o?document.createTextNode(o):o),w(n,"click",mi.prototype.b.bind(this,-i)),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),ui.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function xi(t){t=t?t:{};var e=new qe;return(void 0!==t.zoom?t.zoom:1)&&e.push(new mi(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new bi(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new ci(t.attributionOptions)),e}function Ei(t,e,i,n,o){li.call(this,t,e,o),this.originalEvent=i,this.pixel=e.kd(i),this.coordinate=e.Ma(this.pixel),this.dragging=void 0!==n&&n}function wi(t,e,i,n,o){Ei.call(this,t,e,i.a,n,o),this.a=i}function Mi(t,e){var i,n,o=lc.length;for(n=0;n<o;++n)try{if(i=t.getContext(lc[n],e))return i}catch(t){}return null}function Ti(t,e){this.a=t,this.i=e}function Ni(t){Ti.call(this,t,{mousedown:this.Ke,mousemove:this.Le,mouseup:this.Oe,mouseover:this.Ne,mouseout:this.Me}),this.f=t.f,this.b=[]}function Si(t,e){for(var i,n=t.b,o=e.clientX,s=e.clientY,r=0,a=n.length;r<a&&(i=n[r]);r++){var h=Math.abs(s-i[1]);if(25>=Math.abs(o-i[0])&&25>=h)return!0}return!1}function Li(t){var e=Vi(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function Ai(t){Ti.call(this,t,{MSPointerDown:this.Te,MSPointerMove:this.Ue,MSPointerUp:this.Xe,MSPointerOut:this.Ve,MSPointerOver:this.We,MSPointerCancel:this.Se,MSGotPointerCapture:this.Qe,MSLostPointerCapture:this.Re}),this.f=t.f,this.b=["","unavailable","touch","pen","mouse"]}function Ci(t,e){var i=e;return"number"==typeof e.pointerType&&(i=Vi(e,e),i.pointerType=t.b[e.pointerType]),i}function _i(t){Ti.call(this,t,{pointerdown:this.mf,pointermove:this.nf,pointerup:this.rf,pointerout:this.pf,pointerover:this.qf,pointercancel:this.lf,gotpointercapture:this.oe,lostpointercapture:this.Ie})}function Pi(t,e,i){A.call(this,t),this.a=e,t=i?i:{},this.buttons=Di(t),this.pressure=Ii(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function Di(t){if(t.buttons||Tc)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function Ii(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0}function ji(t,e){Ti.call(this,t,{touchstart:this.Jf,touchmove:this.If,touchend:this.Hf,touchcancel:this.Gf}),this.f=t.f,this.j=e,this.b=void 0,this.g=0,this.c=void 0}function Ri(t,e,i){return e=Vi(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.g,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.b===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function ki(t,e,i){function n(){e.preventDefault()}var o,s,r=Array.prototype.slice.call(e.changedTouches),a=r.length;for(o=0;o<a;++o)s=Ri(t,e,r[o]),s.preventDefault=n,i.call(t,e,s)}function Oi(t,e){var i=t.j.b,n=e.changedTouches[0];if(t.b===n.identifier){var o=[n.clientX,n.clientY];i.push(o),setTimeout(function(){var t=i.indexOf(o);-1<t&&i.splice(t,1)},2500)}}function Fi(t){_.call(this),this.i=t,this.f={},this.c={},this.a=[],mc?Bi(this,new _i(this)):xc?Bi(this,new Ai(this)):(t=new Ni(this),Bi(this,t),yc&&Bi(this,new ji(this,t))),t=this.a.length;for(var e,i=0;i<t;i++)e=this.a[i],Ui(this,Object.keys(e.i))}function Bi(t,e){var i=Object.keys(e.i);i&&(i.forEach(function(t){var i=e.i[t];i&&(this.c[t]=i.bind(e))},t),t.a.push(e))}function Ui(t,e){e.forEach(function(t){w(this.i,t,this.b,this)},t)}function Wi(t,e){e.forEach(function(t){M(this.i,t,this.b,this)},t)}function Vi(t,e){for(var i,n={},o=0,s=Nc.length;o<s;o++)i=Nc[o][0],n[i]=t[i]||e[i]||Nc[o][1];return n}function Gi(t,e,i){e.bubbles=!1,Hi(t,"pointerleave",e,i)}function Xi(t,e,i){t.out(e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||Gi(t,e,i)}function zi(t,e,i){e.bubbles=!0,Hi(t,"pointerover",e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||(e.bubbles=!1,Hi(t,"pointerenter",e,i))}function Hi(t,e,i,n){P(t,new Pi(e,n,i))}function Yi(t,e){P(t,new Pi(e.type,e,e))}function Zi(t){_.call(this),this.b=t,this.g=0,this.j=!1,this.c=[],this.a=null,t=this.b.a,this.l=0,this.v={},this.i=new Fi(t),this.f=null,this.s=w(this.i,"pointerdown",this.ye,this),this.o=w(this.i,"pointermove",this.xf,this)}function Ji(t,e){var i=new wi("click",t.b,e);P(t,i),0!==t.g?(clearTimeout(t.g),
t.g=0,i=new wi("dblclick",t.b,e),P(t,i)):t.g=setTimeout(function(){this.g=0;var t=new wi("singleclick",this.b,e);P(this,t)}.bind(t),250)}function Ki(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.v[e.pointerId]:"pointerdown"==e.type&&(t.v[e.pointerId]=!0),t.l=Object.keys(t.v).length}function qi(t,e){_.call(this),this.ka=t,this.state=e,this.a=null,this.key=""}function $i(t){if(!t.a)return t;var e=t.a;do{if(e.da()==Sc)return e;e=e.a}while(e);return t}function Qi(t,e){this.s=t,this.g=e,this.a=[],this.b=[],this.f={}}function tn(t){var e=t.a;console.assert(0<e.length,"must have elements in order to be able to dequeue");var i=t.b,n=e[0];return 1==e.length?(e.length=0,i.length=0):(e[0]=e.pop(),i[0]=i.pop(),en(t,0)),e=t.g(n),console.assert(e in t.f,"key %s is not listed as queued",e),delete t.f[e],n}function en(t,e){for(var i=t.a,n=t.b,o=i.length,s=i[e],r=n[e],a=e;e<o>>1;){var h=2*e+1,l=2*e+2,h=l<o&&n[l]<n[h]?l:h;i[e]=i[h],n[e]=n[h],e=h}i[e]=s,n[e]=r,nn(t,a,e)}function nn(t,e,i){var n=t.a;t=t.b;for(var o=n[i],s=t[i];i>e;){var r=i-1>>1;if(!(t[r]>s))break;n[i]=n[r],t[i]=t[r],i=r}n[i]=o,t[i]=s}function on(t){var e,i,n,o=t.s,s=t.a,r=t.b,a=0,h=s.length;for(i=0;i<h;++i)e=s[i],n=o(e),1/0==n?delete t.f[t.g(e)]:(r[a]=n,s[a++]=e);for(s.length=a,r.length=a,o=(t.a.length>>1)-1;0<=o;o--)en(t,o)}function sn(t,e){Qi.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.o=e,this.i=0,this.c={}}function rn(){this.a=[],this.f=this.b=0}function an(t){j.call(this),this.Z=null,this.set(Lc,!0),this.handleEvent=t.handleEvent}function hn(t,e,i,n){if(void 0!==e){var o=we(t),s=t.ya();void 0!==o&&s&&0<n?t.animate({rotation:e,anchor:i,duration:n,easing:$}):t.rotate(e,i)}}function ln(t,e,i,n){var o=xe(t);e=t.constrainResolution(o,e,0),un(t,e,i,n)}function un(t,e,i,n){if(e){var o=xe(t),s=t.ya();void 0!==o&&s&&e!==o&&n?t.animate({resolution:e,anchor:i,duration:n,easing:$}):(i&&(i=ye(t,e,i),t.Oa(i)),Ne(t,e))}}function cn(t){t=t?t:{},this.a=t.delta?t.delta:1,an.call(this,{handleEvent:fn}),this.b=void 0!==t.duration?t.duration:250}function fn(t){var e=!1,i=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,i=i.shiftKey?-this.a:this.a,n=t.map.$();ln(n,i,e,this.b),t.preventDefault(),e=!0}return!e}function dn(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function pn(t){return t=t.originalEvent,0==t.button&&!(dc&&pc&&t.ctrlKey)}function vn(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function gn(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function bn(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function yn(t){return a(t.a,56),"mouse"==t.a.pointerType}function mn(t){t=t?t:{},an.call(this,{handleEvent:t.handleEvent?t.handleEvent:En}),this.nc=t.handleDownEvent?t.handleDownEvent:wt,this.oc=t.handleDragEvent?t.handleDragEvent:o,this.sc=t.handleMoveEvent?t.handleMoveEvent:o,this.tc=t.handleUpEvent?t.handleUpEvent:wt,this.v=!1,this.X={},this.b=[]}function xn(t){for(var e=t.length,i=0,n=0,o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return[i/e,n/e]}function En(t){if(!(t instanceof wi))return!0;var e=!1,i=t.type;return"pointerdown"!==i&&"pointerdrag"!==i&&"pointerup"!==i||(i=t.a,"pointerup"==t.type?delete this.X[i.pointerId]:"pointerdown"==t.type?this.X[i.pointerId]=i:i.pointerId in this.X&&(this.X[i.pointerId]=i),this.b=v(this.X)),this.v&&("pointerdrag"==t.type?this.oc(t):"pointerup"==t.type&&(this.v=this.tc(t))),"pointerdown"==t.type?(this.v=t=this.nc(t),e=this.G(t)):"pointermove"==t.type&&this.sc(t),!e}function wn(t){mn.call(this,{handleDownEvent:Nn,handleDragEvent:Mn,handleUpEvent:Tn}),t=t?t:{},this.a=t.kinetic,this.c=null,this.j=t.condition?t.condition:vn,this.g=!1}function Mn(t){console.assert(1<=this.b.length,"the length of this.targetPointers should be more than 1");var e=xn(this.b);if(this.a&&this.a.a.push(e[0],e[1],Date.now()),this.c){var i=this.c[0]-e[0],n=e[1]-this.c[1];t=t.map.$();var o=t.da(),n=i=[i,n],s=o.resolution;n[0]*=s,n[1]*=s,q(i,o.rotation),n=i,o=o.center,n[0]+=o[0],n[1]+=o[1],i=t.g.center(i),t.Oa(i)}this.c=e}function Tn(t){var e=t.map;if(t=e.$(),0===this.b.length){var i;if(i=!this.g&&this.a)if(i=this.a,6>i.a.length)i=!1;else{var n=Date.now()-100,o=i.a.length-3;if(i.a[o+2]<n)i=!1;else{for(var s=o-3;0<s&&i.a[s+2]>n;)s-=3;var n=i.a[o+2]-i.a[s+2],r=i.a[o]-i.a[s],o=i.a[o+1]-i.a[s+1];i.b=Math.atan2(o,r),i.f=Math.sqrt(r*r+o*o)/n,i=.05<i.f}}return i&&(i=(.05-this.a.f)/-.005,o=this.a.b,s=t.ya(),s=Ia(e,s),e=e.Ma([s[0]-i*Math.cos(o),s[1]-i*Math.sin(o)]),t.animate({center:t.g.center(e),duration:500,easing:$})),Te(t,1,-1),!1}return this.c=null,!0}function Nn(t){if(0<this.b.length&&this.j(t)){var e=t.map.$();return this.c=null,this.v||Te(e,1,1),e.Oa(t.frameState.viewState.center),this.a&&(t=this.a,t.a.length=0,t.b=0,t.f=0),this.g=1<this.b.length,!0}return!1}function Sn(t){t=t?t:{},mn.call(this,{handleDownEvent:Cn,handleDragEvent:Ln,handleUpEvent:An}),this.c=t.condition?t.condition:dn,this.a=void 0,this.g=void 0!==t.duration?t.duration:250}function Ln(t){if(yn(t)){var e=t.map,i=e.fb();if(t=t.pixel,i=Math.atan2(i[1]/2-t[1],t[0]-i[0]/2),void 0!==this.a){t=i-this.a;var e=e.$(),n=we(e);hn(e,n-t)}this.a=i}}function An(t){if(!yn(t))return!0;t=t.map.$(),Te(t,1,-1);var e=we(t),i=this.g,e=t.constrainRotation(e,0);return hn(t,e,void 0,i),!1}function Cn(t){return!!(yn(t)&&pn(t)&&this.c(t))&&(Te(t.map.$(),1,1),this.a=void 0,!0)}function _n(t){this.c=null,this.f=document.createElement("div"),this.f.style.position="absolute",this.f.className="ol-box "+t,this.b=this.i=this.a=null}function Pn(t){var e=t.i,i=t.b;t=t.f.style,t.left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function Dn(t){var e=t.i,i=t.b,e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.Ma,t.a);e[4]=e[0].slice(),t.c?t.c.ha([e]):t.c=new ue([e])}function In(t){mn.call(this,{handleDownEvent:On,handleDragEvent:Rn,handleUpEvent:kn}),t=t?t:{},this.a=new _n(t.className||"ol-dragbox"),this.c=null,this.l=t.condition?t.condition:Et,this.j=t.boxEndCondition?t.boxEndCondition:jn}function jn(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],64<=t*t+e*e}function Rn(t){if(yn(t)){var e=this.a,i=t.pixel;e.i=this.c,e.b=i,Dn(e),Pn(e),P(this,new Fn(Cc,t.coordinate,t))}}function kn(t){return!yn(t)||(this.a.setMap(null),this.j(t,this.c,t.pixel)&&(this.g(t),P(this,new Fn(_c,t.coordinate,t))),!1)}function On(t){if(yn(t)&&pn(t)&&this.l(t)){this.c=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.c;return e.i=this.c,e.b=i,Dn(e),Pn(e),P(this,new Fn(Ac,t.coordinate,t)),!0}return!1}function Fn(t,e,i){A.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function Bn(t){t=t?t:{};var e=t.condition?t.condition:gn;this.s=void 0!==t.duration?t.duration:200,this.o=void 0!==t.out&&t.out,In.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Un(t){an.call(this,{handleEvent:Wn}),t=t||{},this.a=function(t){return vn(t)&&bn(t)},this.b=void 0!==t.condition?t.condition:this.a,this.c=void 0!==t.duration?t.duration:100,this.g=void 0!==t.pixelDelta?t.pixelDelta:128}function Wn(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){var e=t.map.$(),n=xe(e)*this.g,o=0,s=0;40==i?s=-n:37==i?o=-n:39==i?o=n:s=n,n=[o,s],q(n,we(e)),i=this.c,(o=e.ya())&&(n=e.g.center([o[0]+n[0],o[1]+n[1]]),i?e.animate({duration:i,easing:tt,center:n}):e.Oa(n)),t.preventDefault(),e=!0}}return!e}function Vn(t){an.call(this,{handleEvent:Gn}),t=t?t:{},this.b=t.condition?t.condition:bn,this.a=t.delta?t.delta:1,this.c=void 0!==t.duration?t.duration:100}function Gn(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.b(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.$(),ln(i,e,void 0,this.c),t.preventDefault(),e=!0)}return!e}function Xn(t){an.call(this,{handleEvent:zn}),t=t||{},this.c=0,this.v=void 0!==t.duration?t.duration:250,this.C=void 0!==t.timeout?t.timeout:80,this.G=void 0===t.useAnchor||t.useAnchor,this.a=null,this.j=this.g=this.l=this.b=void 0}function zn(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,i=t.originalEvent;this.G&&(this.a=t.coordinate);var n;if("wheel"==t.type?(n=i.deltaY,cc&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=vc),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-i.wheelDeltaY,fc&&(n/=3)),0===n)return!1;if(t=Date.now(),void 0===this.b&&(this.b=t),(!this.g||400<t-this.b)&&(this.g=4>Math.abs(n)?Pc:Dc),this.g===Pc){e=e.$(),this.j?clearTimeout(this.j):Te(e,1,1),this.j=setTimeout(this.s.bind(this),400),n=xe(e)*Math.pow(2,n/300);var i=e.o,o=e.c,s=0;if(n<i?(n=Math.max(n,i/1.5),s=1):n>o&&(n=Math.min(n,1.5*o),s=-1),this.a){var r=ye(e,n,this.a);e.Oa(r)}return Ne(e,n),0<s?e.animate({resolution:i,easing:$,anchor:this.a,duration:500}):0>s&&e.animate({resolution:o,easing:$,anchor:this.a,duration:500}),this.b=t,!1}return this.c+=n,t=Math.max(this.C-(t-this.b),0),clearTimeout(this.l),this.l=setTimeout(this.o.bind(this,e),t),!1}function Hn(t){mn.call(this,{handleDownEvent:Jn,handleDragEvent:Yn,handleUpEvent:Zn}),t=t||{},this.c=null,this.g=void 0,this.a=!1,this.j=0,this.s=void 0!==t.threshold?t.threshold:.3,this.l=void 0!==t.duration?t.duration:250}function Yn(t){console.assert(2<=this.b.length,"length of this.targetPointers should be greater than or equal to 2");var e=0,i=this.b[0],n=this.b[1],i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);void 0!==this.g&&(e=i-this.g,this.j+=e,!this.a&&Math.abs(this.j)>this.s&&(this.a=!0)),this.g=i,t=t.map,i=t.a.getBoundingClientRect(),n=xn(this.b),n[0]-=i.left,n[1]-=i.top,this.c=t.Ma(n),this.a&&(i=t.$(),n=we(i),t.render(),hn(i,n+e,this.c))}function Zn(t){if(2>this.b.length){if(t=t.map.$(),Te(t,1,-1),this.a){var e=we(t),i=this.c,n=this.l,e=t.constrainRotation(e,0);hn(t,e,i,n)}return!1}return!0}function Jn(t){return 2<=this.b.length&&(t=t.map,this.c=null,this.g=void 0,this.a=!1,this.j=0,this.v||Te(t.$(),1,1),!0)}function Kn(t){mn.call(this,{handleDownEvent:Qn,handleDragEvent:qn,handleUpEvent:$n}),t=t?t:{},this.j=t.constrainResolution||!1,this.c=null,this.l=void 0!==t.duration?t.duration:400,this.a=void 0,this.g=1}function qn(t){console.assert(2<=this.b.length,"length of this.targetPointers should be 2 or more");var e=1,i=this.b[0],n=this.b[1],o=i.clientX-n.clientX,i=i.clientY-n.clientY,o=Math.sqrt(o*o+i*i);void 0!==this.a&&(e=this.a/o),this.a=o,1!=e&&(this.g=e),t=t.map;var o=t.$(),i=xe(o),n=t.a.getBoundingClientRect(),s=xn(this.b);s[0]-=n.left,s[1]-=n.top,this.c=t.Ma(s),t.render(),un(o,i*e,this.c)}function $n(t){if(2>this.b.length){if(t=t.map.$(),Te(t,1,-1),this.j){var e=xe(t),i=this.c,n=this.l,e=t.constrainResolution(e,0,this.g-1);un(t,e,i,n)}return!1}return!0}function Qn(t){return 2<=this.b.length&&(t=t.map,this.c=null,this.a=void 0,this.g=1,this.v||Te(t.$(),1,1),!0)}function to(t){j.call(this);var e=Vu({},t);e[Ic]=void 0!==t.opacity?t.opacity:1,e[jc]=void 0===t.visible||t.visible,e[kc]=void 0!==t.zIndex?t.zIndex:0,e[Oc]=void 0!==t.maxResolution?t.maxResolution:1/0,e[Fc]=void 0!==t.minResolution?t.minResolution:0,this.i(e),this.b={layer:this,Wb:!0}}function eo(t){return t.b.opacity=h(t.Cc(),0,1),t.b.Kd=t.zc(),t.b.visible=t.Ab(),t.b.extent=t.L(),t.b.zIndex=t.Dc(),t.b.maxResolution=t.get(Oc),t.b.minResolution=Math.max(t.get(Fc),0),t.b}function io(t){var e=t||{};t=Vu({},e),delete t.layers,e=e.layers,to.call(this,t),this.c=[],this.a={},w(this,R(Bc),this.ue,this),e?Array.isArray(e)?e=new qe(e.slice()):a(e instanceof qe,43):e=new qe,this.set(Bc,e)}function no(t){Nt.call(this,{code:t,units:"m",extent:Wc,global:!0,worldExtent:Vc,getPointResolution:function(t,e){return t/Wu(e[1]/6378137)}})}function oo(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n)),console.assert(0===e.length%i,"modulus of output.length with dimension should be 0");for(var o=0;o<n;o+=i){e[o]=Uc*t[o]/180;var s=6378137*Math.log(Math.tan(Math.PI*(t[o+1]+90)/360));s>Uc?s=Uc:s<-Uc&&(s=-Uc),e[o+1]=s}return e}function so(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n)),console.assert(0===e.length%i,"modulus of output.length with dimension should be 0");for(var o=0;o<n;o+=i)e[o]=180*t[o]/Uc,e[o+1]=360*Math.atan(Math.exp(t[o+1]/6378137))/Math.PI-90;return e}function ro(t,e){Nt.call(this,{code:t,units:"degrees",extent:zc,axisOrientation:e,global:!0,metersPerUnit:Hc,worldExtent:zc})}function ao(t,e,i,n,o){A.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=o}function ho(t){var e=Vu({},t);delete e.source,to.call(this,e),this.j=this.c=this.a=null,t.map&&this.setMap(t.map),w(this,R("source"),this.De,this),this.Mc(t.source?t.source:null)}function lo(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function uo(){this.a={},this.f=0}function co(t,e,i){return console.assert(void 0!==e,"argument crossOrigin must be defined"),e+":"+t+":"+(i?ii(i):"null")}function fo(){return[1,0,0,1,0,0]}function po(t){return go(t,1,0,0,1,0,0)}function vo(t,e){var i=t[0],n=t[1],o=t[2],s=t[3],r=t[4],a=t[5],h=e[0],l=e[1],u=e[2],c=e[3],f=e[4],d=e[5];t[0]=i*h+o*l,t[1]=n*h+s*l,t[2]=i*u+o*c,t[3]=n*u+s*c,t[4]=i*f+o*d+r,t[5]=n*f+s*d+a}function go(t,e,i,n,o,s,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t[4]=s,t[5]=r,t}function bo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function yo(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function mo(t,e){var i=Math.cos(e),n=Math.sin(e);vo(t,go(Jc,i,n,-n,i,0,0))}function xo(t,e,i,n,o,s,r,a){var h=Math.sin(s);return s=Math.cos(s),t[0]=n*s,t[1]=o*h,t[2]=-n*h,t[3]=o*s,t[4]=r*n*s-a*n*h+e,t[5]=r*o*h+a*o*s+i,t}function Eo(t,e){this.s=e,this.b={},this.l={}}function wo(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;console.assert(i,"frameState has a coordinateToPixelTransform"),xo(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),t=bo(n,i),e=t[0]*t[3]-t[1]*t[2],a(0!==e,32);var i=t[0],n=t[1],o=t[2],s=t[3],r=t[4],h=t[5];t[0]=s/e,t[1]=-n/e,t[2]=-o/e,t[3]=i/e,t[4]=(o*h-s*r)/e,t[5]=-(i*h-n*r)/e}function Mo(){if(32<Zc.f){var t,e,i=0;for(t in Zc.a)e=Zc.a[t],0!==(3&i++)||D(e)||(delete Zc.a[t],--Zc.f)}}function To(t,e){var i=s(e).toString();if(i in t.b)return t.b[i];var n=t.fd(e);return t.b[i]=n,t.l[i]=w(n,"change",t.se,t),n}function No(t,e){for(var i in t.b)if(!(i in e.layerStates)){e.postRenderFunctions.push(t.Af.bind(t));break}}function So(t,e){return t.zIndex-e.zIndex}function Lo(t){t=t?t:{};var e=Vu({},t);delete e.preload,delete e.useInterimTilesOnError,ho.call(this,e),this.set(Kc,void 0!==t.preload?t.preload:0),this.set(qc,void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function Ao(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function Co(t){this.l=t.opacity,this.v=t.rotateWithView,this.o=t.rotation,this.j=t.scale,this.J=t.snapToPixel}function _o(t){console.assert(void 0!==t.radius||void 0!==t.radius1,'must provide either "radius" or "radius1"'),this.D=this.A=this.g=null,this.c=void 0!==t.fill?t.fill:null,this.O=[0,0],this.a=t.points,this.f=void 0!==t.radius?t.radius:t.radius1,this.i=void 0!==t.radius2?t.radius2:this.f,this.s=void 0!==t.angle?t.angle:0,this.b=void 0!==t.stroke?t.stroke:null,this.C=this.T=this.fa=this.I=null;var e,i=this.G=t.atlasManager,n="",o="",r=0,a=null,h=0;this.b&&(e=oi(this.b.a),h=this.b.b,void 0===h&&(h=1),a=this.b.f,gc||(a=null),o=this.b.i,void 0===o&&(o="round"),n=this.b.c,void 0===n&&(n="round"),r=this.b.g,void 0===r&&(r=10));var l=2*(this.f+h)+1,n={strokeStyle:e,Ld:h,size:l,lineCap:n,lineDash:a,lineJoin:o,miterLimit:r};if(void 0===i){var u=ri(l,l);this.A=u.canvas,i=l=this.A.width,this.jd(n,u,0,0),this.C=[n.size,n.size],this.c?this.D=this.A:(u=ri(n.size,n.size),this.D=u.canvas,this.hd(n,u,0,0))}else l=Math.round(l),(o=!this.c)&&(u=this.hd.bind(this,n)),this.b?(r=this.b,void 0===r.j&&(r.j="s",r.j=r.a?"string"==typeof r.a?r.j+r.a:r.j+s(r.a).toString():r.j+"-",r.j+=","+(void 0!==r.c?r.c.toString():"-")+","+(r.f?r.f.toString():"-")+","+(void 0!==r.i?r.i:"-")+","+(void 0!==r.g?r.g.toString():"-")+","+(void 0!==r.b?r.b.toString():"-")),r=r.j):r="-",this.c?(a=this.c,void 0===a.f&&(a.f=a.a instanceof CanvasPattern||a.a instanceof CanvasGradient?s(a.a).toString():"f"+(a.a?ii(a.a):"-")),a=a.f):a="-",this.g&&r==this.g[1]&&a==this.g[2]&&this.f==this.g[3]&&this.i==this.g[4]&&this.s==this.g[5]&&this.a==this.g[6]||(this.g=["r"+r+a+(void 0!==this.f?this.f.toString():"-")+(void 0!==this.i?this.i.toString():"-")+(void 0!==this.s?this.s.toString():"-")+(void 0!==this.a?this.a.toString():"-"),r,a,this.f,this.i,this.s,this.a]),u=i.add(this.g[0],l,l,this.jd.bind(this,n),u),console.assert(u,"shape size is too large"),this.A=u.image,this.O=[u.offsetX,u.offsetY],i=u.image.width,o?(this.D=u.a,this.C=[u.a.width,u.a.height]):(this.D=this.A,this.C=[i,i]);this.I=[l/2,l/2],this.fa=[l,l],this.T=[i,i],Co.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function Po(t){t=t||{},_o.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function Do(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=void 0}function Io(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.i=t.lineJoin,this.g=t.miterLimit,this.b=t.width,this.j=void 0}function jo(t){t=t||{},this.g=null,this.i=Fo,void 0!==t.geometry&&this.Ga(t.geometry),this.b=void 0!==t.fill?t.fill:null,this.c=void 0!==t.image?t.image:null,this.f=void 0!==t.stroke?t.stroke:null,this.j=void 0!==t.text?t.text:null,this.a=t.zIndex}function Ro(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(a(t instanceof jo,41),e=[t]),t=function(){return e}}return t}function ko(){if(!ef){var t=new Do({color:"rgba(255,255,255,0.4)"}),e=new Io({color:"#3399CC",width:1.25});ef=[new jo({image:new Po({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return ef}function Oo(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new jo({fill:new Do({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new jo({stroke:new Io({color:e,width:5})}),new jo({stroke:new Io({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new jo({image:new Po({radius:6,fill:new Do({color:i}),stroke:new Io({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Fo(t){return t.V()}function Bo(t){t=t?t:{},console.assert(void 0===t.renderOrder||!t.renderOrder||"function"==typeof t.renderOrder,"renderOrder must be a comparator function");var e=Vu({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,ho.call(this,e),this.g=void 0!==t.renderBuffer?t.renderBuffer:100,this.s=null,this.l=void 0,this.o(t.style),this.v=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.C=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function Uo(){}function Wo(t,e,i,n,o){this.c=t,this.v=e,this.j=i,this.J=n,this.Ra=o,this.i=this.a=this.f=this.X=this.la=this.fa=null,this.oa=this.Z=this.A=this.I=this.G=this.C=0,this.ea=!1,this.g=this.ia=0,this.Ha=!1,this.T=0,this.b="",this.Ca=this.xa=0,this.Da=!1,this.s=this.Ea=0,this.O=this.o=this.l=null,this.D=[],this.Ka=fo()}function Vo(t,e,i){if(t.i){console.assert(!0,"offset should be 0"),console.assert(i==e.length,"end should be equal to the length of flatCoordinates"),e=Gt(e,0,i,2,t.J,t.D),i=t.c;var n=t.Ka,o=i.globalAlpha;1!=t.A&&(i.globalAlpha=o*t.A);var s=t.ia;t.ea&&(s+=t.Ra);var r,a;for(r=0,a=e.length;r<a;r+=2){var h=e[r]-t.C,l=e[r+1]-t.G;if(t.Ha&&(h=Math.round(h),l=Math.round(l)),0!==s||1!=t.g){var u=h+t.C,c=l+t.G;xo(n,u,c,t.g,t.g,s,-u,-c),i.setTransform.apply(i,n)}i.drawImage(t.i,t.Z,t.oa,t.T,t.I,h,l,t.T,t.I)}0===s&&1==t.g||i.setTransform(1,0,0,1,0,0),1!=t.A&&(i.globalAlpha=o)}}function Go(t,e,i,n){var o=0;if(t.O&&""!==t.b){t.l&&Ho(t,t.l),t.o&&Yo(t,t.o);var s=t.O,r=t.c,a=t.X;for(a?(a.font!=s.font&&(a.font=r.font=s.font),a.textAlign!=s.textAlign&&(a.textAlign=r.textAlign=s.textAlign),a.textBaseline!=s.textBaseline&&(a.textBaseline=r.textBaseline=s.textBaseline)):(r.font=s.font,r.textAlign=s.textAlign,r.textBaseline=s.textBaseline,t.X={font:s.font,textAlign:s.textAlign,textBaseline:s.textBaseline}),console.assert(0===o,"offset should be 0"),console.assert(i==e.length,"end should be equal to the length of flatCoordinates"),e=Gt(e,o,i,n,t.J,t.D),s=t.c,r=t.Ea,t.Da&&(r+=t.Ra);o<i;o+=n){var a=e[o]+t.xa,h=e[o+1]+t.Ca;if(0!==r||1!=t.s){var l=xo(t.Ka,a,h,t.s,t.s,r,-a,-h);s.setTransform.apply(s,l)}t.o&&s.strokeText(t.b,a,h),t.l&&s.fillText(t.b,a,h)}0===r&&1==t.s||s.setTransform(1,0,0,1,0,0)}}function Xo(t,e,i,n,o,s){var r=t.c;for(t=Gt(e,i,n,o,t.J,t.D),r.moveTo(t[0],t[1]),e=t.length,s&&(e-=2),i=2;i<e;i+=2)r.lineTo(t[i],t[i+1]);return s&&r.closePath(),n}function zo(t,e,i,n,o){var s,r;for(s=0,r=n.length;s<r;++s)i=Xo(t,e,i,n[s],o,!0);return i}function Ho(t,e){var i=t.c,n=t.fa;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.fa={fillStyle:e.fillStyle})}function Yo(t,e){var i=t.c,n=t.la;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),gc&&!W(n.lineDash,e.lineDash)&&i.setLineDash(n.lineDash=e.lineDash),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,gc&&i.setLineDash(e.lineDash),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.la={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Zo(t){I.call(this),this.a=t}function Jo(t){var e=t.a;e.Ab()&&"ready"==e.zc()&&t.B()}function Ko(t,e){e.Dd()&&t.postRenderFunctions.push(function(t,e,i){e=s(t).toString(),t.Ya(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function qo(t,e){if(e){var i,n,o;for(n=0,o=e.length;n<o;++n)i=e[n],t[s(i).toString()]=i}}function $o(t,e){var i=e.I;void 0!==i&&("string"==typeof i?t.logos[i]="":i&&(a("string"==typeof i.href,44),a("string"==typeof i.src,45),t.logos[i.src]=i.href))}function Qo(t,e,i,n){e=s(e).toString(),i=i.toString(),e in t?i in t[e]?(t=t[e][i],n.N<t.N&&(t.N=n.N),n.M>t.M&&(t.M=n.M),n.P<t.P&&(t.P=n.P),n.S>t.S&&(t.S=n.S)):t[e][i]=n:(t[e]={},t[e][i]=n)}function ts(t,e,i,n,o,r,a,h,l,u){var c=s(e).toString();c in t.wantedTiles||(t.wantedTiles[c]={});var f=t.wantedTiles[c];t=t.tileQueue;var d,p,v,g,b,y,m=i.minZoom;for(y=a;y>=m;--y)for(p=Be(i,r,y,p),v=ke(i,y),g=p.N;g<=p.M;++g)for(b=p.P;b<=p.S;++b)a-y<=h?(d=_u(e,y,g,b,n,o),0==d.da()&&(f[d.getKey()]=!0,d.getKey()in t.f||t.j([d,c,Ue(i,d.ka),v])),void 0!==l&&l.call(u,d)):e.Od(y,g,b,o)}function es(t){Zo.call(this,t),this.T=fo()}function is(t,e,i){var n=e.pixelRatio,o=e.size[0]*n,s=e.size[1]*n,r=e.viewState.rotation,a=[i[0],i[3]],h=[i[2],i[3]],l=[i[2],i[1]];i=[i[0],i[1]],yo(e.coordinateToPixelTransform,a),yo(e.coordinateToPixelTransform,h),yo(e.coordinateToPixelTransform,l),yo(e.coordinateToPixelTransform,i),t.save(),Ao(t,-r,o/2,s/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),Ao(t,r,o/2,s/2)}function ns(t,e,i,n,o){var s=t.a;if(D(s,e)){var r=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,h=n.viewState.rotation;Ao(i,-h,r/2,a/2),t=void 0!==o?o:os(t,n,0),P(s,new ao(e,new Wo(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),Ao(i,h,r/2,a/2)}}function os(t,e,i){var n=e.viewState,o=e.pixelRatio,s=o/n.resolution;return xo(t.T,o*e.size[0]/2,o*e.size[1]/2,s,-s,-n.rotation,-n.center[0]+i,-n.center[1])}function ss(t){es.call(this,t),this.J=fo()}function rs(t){ss.call(this,t),this.g=ri(),this.b=null,this.i=[],this.O=st(),this.X=new Le(0,0,0,0),this.o=fo()}function as(){}function hs(t,e,i,n){this.ia=t,this.la=e,this.overlaps=n,this.c=0,this.resolution=i,this.T=this.I=null,this.f=[],this.coordinates=[],this.Z=fo(),this.a=[],this.X=[],this.ea=fo(),this.oa=fo()}function ls(t,e,i,n,o,s,r){var a=t.coordinates.length,h=t.uc();r&&(i+=o),r=[e[i],e[i+1]];var l,u,c,f=[NaN,NaN],d=!0;for(l=i+o;l<n;l+=o){f[0]=e[l],f[1]=e[l+1],c=h[1];var p=h[2],v=h[3],g=f[0],b=f[1],y=0;g<h[0]?y|=16:g>p&&(y|=4),b<c?y|=8:b>v&&(y|=2),0===y&&(y=1),c=y,c!==u?(d&&(t.coordinates[a++]=r[0],t.coordinates[a++]=r[1]),t.coordinates[a++]=f[0],t.coordinates[a++]=f[1],d=!1):1===c?(t.coordinates[a++]=f[0],t.coordinates[a++]=f[1],d=!1):d=!0,r[0]=f[0],r[1]=f[1],u=c}return(s&&d||l===i+o)&&(t.coordinates[a++]=r[0],t.coordinates[a++]=r[1]),a}function us(t,e){t.I=[0,e,0],t.f.push(t.I),t.T=[0,e,0],t.a.push(t.T)}function cs(t,e,i){if(t.fa){var n=yo(t.Z,t.fa.slice());e.translate(n[0],n[1]),e.rotate(i)}e.fill(),t.fa&&e.setTransform.apply(e,t.oa)}function fs(t,e,i,n,o,r,a,h,l){var u;W(n,t.Z)?u=t.X:(u=Gt(t.coordinates,0,t.coordinates.length,2,n,t.X),bo(t.Z,n),console.assert(u===t.X,"pixelCoordinates should be the same as this.pixelCoordinates_")),n=!g(r);for(var c,f,d,p,v,b=0,y=a.length,m=0,x=t.ea,E=t.oa,w=0,M=0,T=t.f!=a||t.overlaps?0:200;b<y;){var N,S,L,A,C=a[b];switch(C[0]){case 0:m=C[1],n&&r[s(m).toString()]||!m.V()?b=C[2]:void 0===l||mt(l,m.V().L())?++b:b=C[2]+1;break;case 1:w>T&&(cs(t,e,o),w=0),M>T&&(e.stroke(),M=0),w||M||e.beginPath(),++b;break;case 2:console.assert("number"==typeof C[1],"second instruction should be a number"),m=C[1],c=u[m],C=u[m+1],p=u[m+2]-c,m=u[m+3]-C,m=Math.sqrt(p*p+m*m),e.moveTo(c+m,C),e.arc(c,C,m,0,2*Math.PI,!0),++b;break;case 3:e.closePath(),++b;break;case 4:console.assert("number"==typeof C[1],"second instruction should be a number"),m=C[1],console.assert("number"==typeof C[2],"third instruction should be a number"),c=C[2],N=C[3],S=C[4]*i,L=C[5]*i;var _=C[6],P=C[7],D=C[8],I=C[9];A=C[10],p=C[11],v=C[12];var j=C[13],R=C[14];for(A&&(p+=o);m<c;m+=2){if(C=u[m]-S,A=u[m+1]-L,j&&(C=Math.round(C),A=Math.round(A)),1!=v||0!==p){var k=C+S,O=A+L;xo(x,k,O,v,v,p,-k,-O),e.setTransform.apply(e,x)}k=e.globalAlpha,1!=P&&(e.globalAlpha=k*P);var O=R+D>N.width?N.width-D:R,F=_+I>N.height?N.height-I:_;e.drawImage(N,D,I,O,F,C,A,O*i,F*i),1!=P&&(e.globalAlpha=k),1==v&&0===p||e.setTransform.apply(e,E)}++b;break;case 5:for(console.assert("number"==typeof C[1],"2nd instruction should be a number"),m=C[1],console.assert("number"==typeof C[2],"3rd instruction should be a number"),c=C[2],console.assert("string"==typeof C[3],"4th instruction should be a string"),L=C[3],console.assert("number"==typeof C[4],"5th instruction should be a number"),_=C[4]*i,console.assert("number"==typeof C[5],"6th instruction should be a number"),P=C[5]*i,console.assert("number"==typeof C[6],"7th instruction should be a number"),p=C[6],console.assert("number"==typeof C[7],"8th instruction should be a number"),v=C[7]*i,console.assert("boolean"==typeof C[8],"9th instruction should be a boolean"),N=C[8],console.assert("boolean"==typeof C[9],"10th instruction should be a boolean"),S=C[9],(A=C[10])&&(p+=o);m<c;m+=2){for(C=u[m]+_,A=u[m+1]+P,1==v&&0===p||(xo(x,C,A,v,v,p,-C,-A),e.setTransform.apply(e,x)),D=L.split("\n"),I=D.length,1<I?(j=Math.round(1.5*e.measureText("M").width),A-=(I-1)/2*j):j=0,R=0;R<I;R++)k=D[R],S&&e.strokeText(k,C,A),N&&e.fillText(k,C,A),A+=j;1==v&&0===p||e.setTransform.apply(e,E)}++b;break;case 6:if(void 0!==h&&(m=C[1],m=h(m)))return m;++b;break;case 7:T?w++:cs(t,e,o),++b;break;case 8:for(console.assert("number"==typeof C[1],"2nd instruction should be a number"),m=C[1],console.assert("number"==typeof C[2],"3rd instruction should be a number"),c=C[2],C=u[m],A=u[m+1],p=C+.5|0,v=A+.5|0,p===f&&v===d||(e.moveTo(C,A),f=p,d=v),m+=2;m<c;m+=2)C=u[m],A=u[m+1],p=C+.5|0,v=A+.5|0,(m==c-2||p!==f||v!==d)&&(e.lineTo(C,A),f=p,d=v);++b;break;case 9:console.assert(si(C[1]),"2nd instruction should be a string, CanvasPattern, or CanvasGradient"),t.fa=C[2],w&&(cs(t,e,o),w=0),e.fillStyle=C[1],++b;break;case 10:console.assert(si(C[1]),"2nd instruction should be a string, CanvasPattern, or CanvasGradient"),console.assert("number"==typeof C[2],"3rd instruction should be a number"),console.assert("string"==typeof C[3],"4rd instruction should be a string"),console.assert("string"==typeof C[4],"5th instruction should be a string"),console.assert("number"==typeof C[5],"6th instruction should be a number"),console.assert(C[6],"7th instruction should not be null"),console.assert("number"==typeof C[8],"9th instruction should be a number"),f=void 0===C[7]||C[7];var B=C[8];d=C[2],M&&(e.stroke(),M=0),e.strokeStyle=C[1],e.lineWidth=f?d*i:d,e.lineCap=C[3],e.lineJoin=C[4],e.miterLimit=C[5],gc&&(d=C[6],f&&i!==B&&(d=d.map(function(t){return t*i/B}),C[6]=d,C[8]=i),e.setLineDash(d)),d=f=NaN,++b;break;case 11:console.assert("string"==typeof C[1],"2nd instruction should be a string"),console.assert("string"==typeof C[2],"3rd instruction should be a string"),console.assert("string"==typeof C[3],"4th instruction should be a string"),e.font=C[1],e.textAlign=C[2],e.textBaseline=C[3],++b;break;case 12:T?M++:e.stroke(),++b;break;default:console.assert(!1,"Unknown canvas render instruction"),++b}}w&&cs(t,e,o),M&&e.stroke(),console.assert(b==a.length,"all instructions should be consumed")}function ds(t){var e=t.a;e.reverse();var i,n,o,s=e.length,r=-1;for(i=0;i<s;++i)if(n=e[i],o=n[0],6==o)console.assert(-1==r,"begin should be -1"),r=i;else if(0==o){for(n[2]=i,console.assert(0<=r,"begin should be larger than or equal to 0"),n=t.a,o=i,console.assert(0<=r,"Array begin index should be equal to or greater than 0"),console.assert(o<n.length,"Array end index should be less than the array length");r<o;){var a=n[r];n[r]=n[o],n[o]=a,++r,--o}r=-1}}function ps(t,e){console.assert(t.I,"this.beginGeometryInstruction1_ should not be null"),t.I[2]=t.f.length,t.I=null,console.assert(t.T,"this.beginGeometryInstruction2_ should not be null"),t.T[2]=t.a.length,t.T=null;var i=[6,e];t.f.push(i),t.a.push(i)}function vs(t,e,i,n){hs.call(this,t,e,i,n),this.C=this.O=null,this.J=this.G=this.v=this.D=this.A=this.o=this.s=this.l=this.j=this.i=this.b=void 0}function gs(t,e,i,n){hs.call(this,t,e,i,n),this.i=null,this.b={ob:void 0,jb:void 0,kb:null,lb:void 0,mb:void 0,nb:void 0,Bc:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function bs(t,e,i,n,o){var s=t.coordinates.length;return e=ls(t,e,i,n,o,!1,!1),s=[8,s,e],t.f.push(s),t.a.push(s),n}function ys(t){var e=t.b,i=e.strokeStyle,n=e.lineCap,o=e.lineDash,s=e.lineJoin,r=e.lineWidth,a=e.miterLimit;console.assert(void 0!==i,"strokeStyle should be defined"),console.assert(void 0!==n,"lineCap should be defined"),console.assert(o,"lineDash should not be null"),console.assert(void 0!==s,"lineJoin should be defined"),console.assert(void 0!==r,"lineWidth should be defined"),console.assert(void 0!==a,"miterLimit should be defined"),e.ob==i&&e.jb==n&&W(e.kb,o)&&e.lb==s&&e.mb==r&&e.nb==a||(e.Bc!=t.coordinates.length&&(t.f.push([12]),e.Bc=t.coordinates.length),t.f.push([10,i,r,n,s,a,o,!0,1],[1]),e.ob=i,e.jb=n,e.kb=o,e.lb=s,e.mb=r,e.nb=a)}function ms(t,e,i,n){hs.call(this,t,e,i,n),this.i=null,this.b={gd:void 0,ob:void 0,jb:void 0,kb:null,lb:void 0,mb:void 0,nb:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function xs(t,e,i,n,o){var s=t.b,r=void 0!==s.fillStyle,a=void 0!=s.strokeStyle,h=n.length,l=[1];for(t.f.push(l),t.a.push(l),l=0;l<h;++l){var u=n[l],c=t.coordinates.length;i=ls(t,e,i,u,o,!0,!a),i=[8,c,i],t.f.push(i),t.a.push(i),a&&(i=[3],t.f.push(i),t.a.push(i)),i=u}return e=[7],t.a.push(e),r&&t.f.push(e),a&&(console.assert(void 0!==s.lineWidth,"state.lineWidth should be defined"),s=[12],t.f.push(s),t.a.push(s)),i}function Es(t,e){var i=t.b,n=i.fillStyle,o=i.strokeStyle,s=i.lineCap,r=i.lineDash,a=i.lineJoin,h=i.lineWidth,l=i.miterLimit;
if(void 0!==n&&("string"!=typeof n||i.gd!=n)){var u=[9,n];"string"!=typeof n&&(n=e.L(),u.push([n[0],n[3]])),t.f.push(u),i.gd=i.fillStyle}void 0!==o&&(console.assert(void 0!==s,"lineCap should be defined"),console.assert(r,"lineDash should not be null"),console.assert(void 0!==a,"lineJoin should be defined"),console.assert(void 0!==h,"lineWidth should be defined"),console.assert(void 0!==l,"miterLimit should be defined"),i.ob==o&&i.jb==s&&W(i.kb,r)&&i.lb==a&&i.mb==h&&i.nb==l||(t.f.push([10,o,h,s,a,l,r,!0,1]),i.ob=o,i.jb=s,i.kb=r,i.lb=a,i.mb=h,i.nb=l))}function ws(t,e,i,n){hs.call(this,t,e,i,n),this.G=this.C=this.J=null,this.l="",this.o=this.s=0,this.A=void 0,this.v=this.D=0,this.j=this.i=this.b=null}function Ms(t,e,i,n,o){if(""!==t.l&&t.j&&(t.b||t.i)){if(t.b){var s=t.b,r=t.J;if(!r||r.fillStyle!=s.fillStyle){var a=[9,s.fillStyle];t.f.push(a),t.a.push(a),r?r.fillStyle=s.fillStyle:t.J={fillStyle:s.fillStyle}}}t.i&&(s=t.i,r=t.C,r&&r.lineCap==s.lineCap&&r.lineDash==s.lineDash&&r.lineJoin==s.lineJoin&&r.lineWidth==s.lineWidth&&r.miterLimit==s.miterLimit&&r.strokeStyle==s.strokeStyle||(a=[10,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,s.lineDash,!1,1],t.f.push(a),t.a.push(a),r?(r.lineCap=s.lineCap,r.lineDash=s.lineDash,r.lineJoin=s.lineJoin,r.lineWidth=s.lineWidth,r.miterLimit=s.miterLimit,r.strokeStyle=s.strokeStyle):t.C={lineCap:s.lineCap,lineDash:s.lineDash,lineJoin:s.lineJoin,lineWidth:s.lineWidth,miterLimit:s.miterLimit,strokeStyle:s.strokeStyle})),s=t.j,r=t.G,r&&r.font==s.font&&r.textAlign==s.textAlign&&r.textBaseline==s.textBaseline||(a=[11,s.font,s.textAlign,s.textBaseline],t.f.push(a),t.a.push(a),r?(r.font=s.font,r.textAlign=s.textAlign,r.textBaseline=s.textBaseline):t.G={font:s.font,textAlign:s.textAlign,textBaseline:s.textBaseline}),us(t,o),s=t.coordinates.length,e=ls(t,e,0,i,n,!1,!1),e=[5,s,e,t.l,t.s,t.o,t.D,t.v,!!t.b,!!t.i,t.A],t.f.push(e),t.a.push(e),ps(t,o)}}function Ts(t,e,i,n,o){this.A=t,this.c=e,this.s=n,this.o=i,this.i=o,this.f={},this.j=ri(1,1),this.l=fo()}function Ns(t,e,i){var n,o=Math.floor(t.length/2);if(e>=o)for(n=o;n<e;n++)t[n][i]=!0;else if(e<o)for(n=e+1;n<o;n++)t[n][i]=!0}function Ss(t){if(void 0!==of[t])return of[t];for(var e=2*t+1,i=Array(e),n=0;n<e;n++)i[n]=Array(e);for(var e=t,o=n=0;e>=n;)Ns(i,t+e,t+n),Ns(i,t+n,t+e),Ns(i,t-n,t+e),Ns(i,t-e,t+n),Ns(i,t-e,t-n),Ns(i,t-n,t-e),Ns(i,t+n,t-e),Ns(i,t+e,t-n),n++,o+=1+2*n,0<2*(o-e)+1&&(--e,o+=1-2*e);return of[t]=i}function Ls(t){for(var e in t.f){var i,n=t.f[e];for(i in n)n[i].Xb()}}function As(t,e,i,n,o,s,r){var a=Object.keys(t.f).map(Number);a.sort(function(t,e){return e-t});var h,l,u,c,f;for(h=0,l=a.length;h<l;++h)for(c=t.f[a[h].toString()],u=nf.length-1;0<=u;--u)if(f=c[nf[u]],void 0!==f&&(f=fs(f,e,1,i,n,o,f.a,s,r)))return f}function Cs(t,e){return s(t)-s(e)}function _s(t,e){var i=.5*t/e;return i*i}function Ps(t,e,i,n,o,s){var r,a,h=!1;return(r=i.c)&&(a=r.Cb(),2==a||3==a?r.Nd(o,s):(0==a&&r.load(),a=r.Cb(),console.assert(1==a,"imageState should be LOADING"),r.qd(o,s),h=!0)),(o=(0,i.i)(e))&&(n=o.yc(n),(0,rf[n.ca()])(t,n,i,e)),h}function Ds(t){es.call(this,t),this.b=!1,this.C=-1,this.J=NaN,this.g=st(),this.c=this.o=null,this.i=ri()}function Is(t,e){Eo.call(this,0,e),this.c=ri(),this.a=this.c.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.f=!0,this.i=fo()}function js(t,e,i){var n=t.s,o=t.c;if(D(n,e)){var s=i.extent,r=i.pixelRatio,a=i.viewState.rotation,h=i.viewState,l=i.pixelRatio/h.resolution;t=xo(t.i,t.a.width/2,t.a.height/2,l,-l,-h.rotation,-h.center[0],-h.center[1]),P(n,new ao(e,new Wo(o,r,s,t,a),i,o,null))}}function Rs(t,e,i,n,o,s){return t=(i-t)*(s-e)-(o-t)*(n-e),t<=uf&&t>=-uf?void 0:0<t}function ks(t){this.a=t}function Os(t){this.a=t}function Fs(t){this.a=t}function Bs(){this.a="precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n"}function Us(){this.a="varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n"}function Ws(t,e){this.C=t.getUniformLocation(e,"u_fillColor"),this.G=t.getUniformLocation(e,"u_lineWidth"),this.c=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.i=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.f=t.getUniformLocation(e,"u_opacity"),this.I=t.getUniformLocation(e,"u_pixelRatio"),this.b=t.getUniformLocation(e,"u_projectionMatrix"),this.T=t.getUniformLocation(e,"u_size"),this.O=t.getUniformLocation(e,"u_strokeColor"),this.j=t.getAttribLocation(e,"a_instruction"),this.a=t.getAttribLocation(e,"a_position"),this.D=t.getAttribLocation(e,"a_radius")}function Vs(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Gs(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Xs(t,e){this.origin=pt(e),this.Ea=fo(),this.Ca=fo(),this.Da=fo(),this.xa=Vs(),this.a=[],this.s=null,this.b=[],this.i=[],this.f=[],this.l=null,this.j=void 0}function zs(t,e,i,n){t.drawElements(4,n-i,e.b?5125:5123,i*(e.b?4:2))}function Hs(t){this.a=void 0!==t?t:[],this.f=df}function Ys(t,e){Xs.call(this,0,e),this.D=null,this.o=[],this.A=[],this.v=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineWidth:void 0,B:!1}}function Zs(t,e,i,n){e.uniform4fv(t.D.O,i),e.uniform1f(t.D.G,n)}function Js(){this.a="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"}function Ks(){this.a="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n"}function qs(t,e){this.c=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.i=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.f=t.getUniformLocation(e,"u_opacity"),this.b=t.getUniformLocation(e,"u_projectionMatrix"),this.o=t.getAttribLocation(e,"a_offsets"),this.A=t.getAttribLocation(e,"a_opacity"),this.a=t.getAttribLocation(e,"a_position"),this.v=t.getAttribLocation(e,"a_rotateWithView"),this.J=t.getAttribLocation(e,"a_texCoord")}function $s(t,e){if(this.o=t,this.a=e,this.f={},this.i={},this.c={},this.l=this.s=this.g=this.j=null,this.b=0<=Fu.indexOf("OES_element_index_uint")){var i=e.getExtension("OES_element_index_uint");console.assert(i,'Failed to get extension "OES_element_index_uint"')}w(this.o,"webglcontextlost",this.A,this),w(this.o,"webglcontextrestored",this.D,this)}function Qs(t,e,i){var n=t.a,o=i.a,r=String(s(i));if(r in t.f)n.bindBuffer(e,t.f[r].buffer);else{var a=n.createBuffer();n.bindBuffer(e,a),console.assert(34962==e||34963==e,"target is supposed to be an ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER");var h;34962==e?h=new Float32Array(o):34963==e&&(h=t.b?new Uint32Array(o):new Uint16Array(o)),n.bufferData(e,h,i.f),t.f[r]={La:i,buffer:a}}}function tr(t,e){var i=t.a,n=String(s(e));console.assert(n in t.f,"attempted to delete uncached buffer");var o=t.f[n];i.isContextLost()||i.deleteBuffer(o.buffer),delete t.f[n]}function er(t){if(!t.g){var e=t.a,i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i);var n=rr(e,1,1),o=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,o),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.g=i,t.s=n,t.l=o}return t.g}function ir(t,e){var i=String(s(e));if(i in t.i)return t.i[i];var n=t.a,o=n.createShader(e.ca());return n.shaderSource(o,e.a),n.compileShader(o),console.assert(n.getShaderParameter(o,35713)||n.isContextLost(),n.getShaderInfoLog(o)||"illegal state, shader not compiled or context lost"),t.i[i]=o}function nr(t,e,i){var n=s(e)+"/"+s(i);if(n in t.c)return t.c[n];var o=t.a,r=o.createProgram();return o.attachShader(r,ir(t,e)),o.attachShader(r,ir(t,i)),o.linkProgram(r),console.assert(o.getProgramParameter(r,35714)||o.isContextLost(),o.getProgramInfoLog(r)||"illegal state, shader not linked or context lost"),t.c[n]=r}function or(t,e){return e!=t.j&&(t.a.useProgram(e),t.j=e,!0)}function sr(t,e,i){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==i&&t.texParameteri(3553,10243,i),n}function rr(t,e,i){var n=sr(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),n}function ar(t,e){Xs.call(this,0,e),this.C=this.J=void 0,this.v=[],this.c=[],this.G=void 0,this.A=[],this.o=[],this.T=this.I=void 0,this.Ha=null,this.oa=this.Z=this.X=this.la=this.fa=this.O=void 0,this.ia=[],this.D=[],this.ea=void 0}function hr(t,e,i,n){console.assert(void 0!==t.J,"anchorX is defined"),console.assert(void 0!==t.C,"anchorY is defined"),console.assert(void 0!==t.G,"height is defined"),console.assert(void 0!==t.I,"imageHeight is defined"),console.assert(void 0!==t.T,"imageWidth is defined"),console.assert(void 0!==t.O,"opacity is defined"),console.assert(void 0!==t.fa,"originX is defined"),console.assert(void 0!==t.la,"originY is defined"),console.assert(void 0!==t.X,"rotateWithView is defined"),console.assert(void 0!==t.Z,"rotation is defined"),console.assert(void 0!==t.oa,"scale is defined"),console.assert(void 0!==t.ea,"width is defined");var o,s,r,a,h,l,u=t.J,c=t.C,f=t.G,d=t.I,p=t.T,v=t.O,g=t.fa,b=t.la,y=t.X?1:0,m=-t.Z,x=t.oa,E=t.ea,w=Math.cos(m),m=Math.sin(m),M=t.a.length,T=t.f.length;for(o=0;o<i;o+=n)h=e[o]-t.origin[0],l=e[o+1]-t.origin[1],s=T/8,r=-x*u,a=-x*(f-c),t.f[T++]=h,t.f[T++]=l,t.f[T++]=r*w-a*m,t.f[T++]=r*m+a*w,t.f[T++]=g/p,t.f[T++]=(b+f)/d,t.f[T++]=v,t.f[T++]=y,r=x*(E-u),a=-x*(f-c),t.f[T++]=h,t.f[T++]=l,t.f[T++]=r*w-a*m,t.f[T++]=r*m+a*w,t.f[T++]=(g+E)/p,t.f[T++]=(b+f)/d,t.f[T++]=v,t.f[T++]=y,r=x*(E-u),a=x*c,t.f[T++]=h,t.f[T++]=l,t.f[T++]=r*w-a*m,t.f[T++]=r*m+a*w,t.f[T++]=(g+E)/p,t.f[T++]=b/d,t.f[T++]=v,t.f[T++]=y,r=-x*u,a=x*c,t.f[T++]=h,t.f[T++]=l,t.f[T++]=r*w-a*m,t.f[T++]=r*m+a*w,t.f[T++]=g/p,t.f[T++]=b/d,t.f[T++]=v,t.f[T++]=y,t.a[M++]=s,t.a[M++]=s+1,t.a[M++]=s+2,t.a[M++]=s,t.a[M++]=s+2,t.a[M++]=s+3}function lr(t,e,i,n){console.assert(0===t.length,"upon creation, textures is empty");var o,r,a,h,l=e.length;for(h=0;h<l;++h){if(r=e[h],a=s(r).toString(),a in i)o=i[a];else{o=n;var u=sr(o,33071,33071);o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r),o=u,i[a]=o}t[h]=o}}function ur(t,e,i){var n=e-i;if(t[0]===t[n]&&t[1]===t[n+1]&&3<(e-0)/i){for(var o=n=0,s=t[e-i],r=t[e-i+1];n<e;n+=i)var a=t[n],h=t[n+1],o=o+(r*a-s*h),s=a,r=h;t=!!(o/2)}else t=!1;return t}function cr(){this.a="precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"}function fr(){this.a="varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n"}function dr(t,e){this.C=t.getUniformLocation(e,"u_color"),this.G=t.getUniformLocation(e,"u_lineWidth"),this.O=t.getUniformLocation(e,"u_miterLimit"),this.c=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.i=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.f=t.getUniformLocation(e,"u_opacity"),this.I=t.getUniformLocation(e,"u_pixelRatio"),this.b=t.getUniformLocation(e,"u_projectionMatrix"),this.T=t.getUniformLocation(e,"u_size"),this.g=t.getAttribLocation(e,"a_direction"),this.l=t.getAttribLocation(e,"a_lastPos"),this.s=t.getAttribLocation(e,"a_nextPos"),this.a=t.getAttribLocation(e,"a_position")}function pr(t,e){Xs.call(this,0,e),this.D=null,this.A=[],this.o=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,B:!1}}function vr(t,e,i,n){var o,s,r,a,h,l,u,c=t.f.length,f=t.a.length,d="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,p="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,v=ur(e,i,n),g=f,b=1;for(o=0;o<i;o+=n){if(a=c/7,h=l,l=u||[e[o],e[o+1]],0===o){if(u=[e[o+n],e[o+n+1]],i-0===2*n&&W(l,u))break;if(!v){p&&(c=gr(t,[0,0],l,u,7*b*p,c),c=gr(t,[0,0],l,u,7*-b*p,c),t.a[f++]=a+2,t.a[f++]=a,t.a[f++]=a+1,t.a[f++]=a+1,t.a[f++]=a+3,t.a[f++]=a+2),c=gr(t,[0,0],l,u,3*b*(p||1),c),c=gr(t,[0,0],l,u,3*-b*(p||1),c),g=c/7-1;continue}h=[e[i-2*n],e[i-2*n+1]],s=u}else{if(o===i-n){v?u=s:(console.assert(h,"p0 should be defined"),h=h||[0,0],c=gr(t,h,l,[0,0],5*b*(p||1),c),c=gr(t,h,l,[0,0],5*-b*(p||1),c),t.a[f++]=a,t.a[f++]=g-1,t.a[f++]=g,t.a[f++]=g,t.a[f++]=a+1,t.a[f++]=a,p&&(c=gr(t,h,l,[0,0],11*b*p,c),c=gr(t,h,l,[0,0],11*-b*p,c),t.a[f++]=a+2,t.a[f++]=a,t.a[f++]=a+1,t.a[f++]=a+1,t.a[f++]=a+3,t.a[f++]=a+2));break}u=[e[o+n],e[o+n+1]]}r=Rs(h[0],h[1],l[0],l[1],u[0],u[1])?-1:1,c=gr(t,h,l,u,13*r*(d||1),c),c=gr(t,h,l,u,17*r*(d||1),c),c=gr(t,h,l,u,19*-r*(d||1),c),0<o&&(t.a[f++]=a,t.a[f++]=g-1,t.a[f++]=g,t.a[f++]=a+2,t.a[f++]=a,t.a[f++]=0<b*r?g:g-1),t.a[f++]=a,t.a[f++]=a+2,t.a[f++]=a+1,g=a+2,b=r,d&&(c=gr(t,h,l,u,23*r*d,c),t.a[f++]=a+1,t.a[f++]=a+3,t.a[f++]=a)}v&&(console.assert(a,"n should be defined"),a=a||c/7,r=re([h[0],h[1],l[0],l[1],u[0],u[1]],0,6,2)?1:-1,c=gr(t,h,l,u,13*r*(d||1),c),gr(t,h,l,u,19*-r*(d||1),c),t.a[f++]=a,t.a[f++]=g-1,t.a[f++]=g,t.a[f++]=a+1,t.a[f++]=a,t.a[f++]=0<b*r?g:g-1)}function gr(t,e,i,n,o,s){return t.f[s++]=e[0],t.f[s++]=e[1],t.f[s++]=i[0],t.f[s++]=i[1],t.f[s++]=n[0],t.f[s++]=n[1],t.f[s++]=o,s}function br(t,e,i){return e-=0,!(e<2*i)&&(e!==2*i||!W([t[0],t[1]],[t[0+i],t[i+1]]))}function yr(t,e,i,n){if(ur(e,e.length,n)||(e.push(e[0]),e.push(e[1])),vr(t,e,e.length,n),i.length){var o;for(e=0,o=i.length;e<o;++e)ur(i[e],i[e].length,n)||(i[e].push(i[e][0]),i[e].push(i[e][1])),vr(t,i[e],i[e].length,n)}}function mr(t,e,i){i=void 0===i?t.a.length:i,t.b.push(i),t.i.push(e),t.c.B&&(t.o.push(i),t.c.B=!1)}function xr(t,e,i,n,o){e.uniform4fv(t.D.C,i),e.uniform1f(t.D.G,n),e.uniform1f(t.D.O,o)}function Er(){this.a="precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"}function wr(){this.a="\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n"}function Mr(t,e){this.C=t.getUniformLocation(e,"u_color"),this.c=t.getUniformLocation(e,"u_offsetRotateMatrix"),this.i=t.getUniformLocation(e,"u_offsetScaleMatrix"),this.f=t.getUniformLocation(e,"u_opacity"),this.b=t.getUniformLocation(e,"u_projectionMatrix"),this.a=t.getAttribLocation(e,"a_position")}function Tr(t){this.a=this.f=this.b=void 0,this.i=void 0===t||t,this.c=0}function Nr(t){var e=t.a;if(e){var i=e.next,n=e.ua;i&&(i.ua=n),n&&(n.next=i),t.a=i||n,t.b===t.f?(t.a=void 0,t.b=void 0,t.f=void 0):t.b===e?t.b=t.a:t.f===e&&(t.f=n?t.a.ua:t.a),t.c--}}function Sr(t){if(t.a=t.b,t.a)return t.a.data}function Lr(t){if(t.a&&t.a.next)return t.a=t.a.next,t.a.data}function Ar(t){if(t.a&&t.a.next)return t.a.next.data}function Cr(t){if(t.a&&t.a.ua)return t.a=t.a.ua,t.a.data}function _r(t){if(t.a&&t.a.ua)return t.a.ua.data}function Pr(t){if(t.a)return t.a.data}function Dr(t){this.b=xf(t),this.a={},this.f=0}function Ir(t,e,i){console.assert(s(i)in t.a,"uid (%s) of value (%s) does not exist",s(i),i);var n=t.a[s(i)];if(!lt([n.N,n.P,n.M,n.S],e)){if(t.f)throw Error("Can not update extent while reading");t.remove(i),t.Na(e,i)}}function jr(t){return t.b.all().map(function(t){return t.value})}function Rr(t,e){return t.b.search({N:e[0],P:e[1],M:e[2],S:e[3]}).map(function(t){return t.value})}function kr(t,e,i,n){++t.f;try{return Or(Rr(t,e),i,n)}finally{--t.f}}function Or(t,e,i){for(var n,o=0,s=t.length;o<s&&!(n=e.call(i,t[o]));o++);return n}function Fr(t,e){Xs.call(this,0,e),this.j=new pr(0,e),this.D=null,this.A=[],this.c=[],this.o={fillColor:null,B:!1}}function Br(t,e,i,n){var o=new Tr,s=new Dr;if(e=Ur(t,e,n,o,s,!0),i.length){var r,a,h=[];for(r=0,a=i.length;r<a;++r){var l={list:new Tr,M:void 0};h.push(l),l.M=Ur(t,i[r],n,l.list,s,!1)}for(h.sort(function(t,e){return e.M-t.M}),r=0;r<h.length;++r)Vr(h[r].list,h[r].M,o,e,s)}Wr(o,s,!1),Gr(t,o,s)}function Ur(t,e,i,n,o,s){var r,a,h,l,u,c=t.f.length/2,f=[],d=[];if(s===re(e,0,e.length,i))for(l=h=Yr(t,e[0],e[1],c++),s=e[0],r=i,a=e.length;r<a;r+=i)u=Yr(t,e[r],e[r+1],c++),d.push(Zr(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),s=e[r]>s?e[r]:s,l=u;else for(r=e.length-i,l=h=Yr(t,e[r],e[r+1],c++),s=e[r],r-=i,a=0;r>=a;r-=i)u=Yr(t,e[r],e[r+1],c++),d.push(Zr(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),s=e[r]>s?e[r]:s,l=u;return d.push(Zr(u,h,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),o.load(f,d),s}function Wr(t,e,i){var n=Sr(t),o=n,s=Lr(t),r=!1;do{var a=i?Rs(s.H.x,s.H.y,o.H.x,o.H.y,o.K.x,o.K.y):Rs(o.K.x,o.K.y,o.H.x,o.H.y,s.H.x,s.H.y);void 0===a?(Jr(o,s,t,e),r=!0,s===n&&(n=Ar(t)),s=o,Cr(t)):o.H.va!==a&&(o.H.va=a,r=!0),o=s,s=Lr(t)}while(o!==n);return r}function Vr(t,e,i,n,o){Wr(t,o,!0);for(var s=Sr(t);s.H.x!==e;)s=Lr(t);e=s.H,n={x:n,y:e.y,qa:-1};var r,a,h,l,u=1/0;for(h=qr({K:e,H:n},o,!0),r=0,a=h.length;r<a;++r){var c=h[r];if(void 0===c.K.va){var f=$r(e,n,c.K,c.H,!0),d=Math.abs(e.x-f[0]);d<u&&(u=d,l={x:f[0],y:f[1],qa:-1},s=c)}}if(1/0!==u){if(h=s.H,0<u&&(s=Kr(e,l,s.H,o),s.length))for(l=1/0,r=0,a=s.length;r<a;++r)u=s[r],c=Math.atan2(e.y-u.y,n.x-u.x),(c<l||c===l&&u.x<h.x)&&(l=c,h=u);for(s=Sr(i);s.H!==h;)s=Lr(i);n={x:e.x,y:e.y,qa:e.qa,va:void 0},r={x:s.H.x,y:s.H.y,qa:s.H.qa,va:void 0},Ar(t).K=n,Zr(e,s.H,t,o),Zr(r,n,t,o),s.H=r,t.i&&t.a&&(t.b=t.a,t.f=t.a.ua),i.concat(t)}}function Gr(t,e,i){for(var n=!1,o=Hr(e,i);3<e.c;)if(o){if(!Xr(t,e,i,o,n)&&!Wr(e,i,n)&&!zr(t,e,i,!0)){console.assert(!1,"Unexpected simple polygon geometry");break}}else if(!Xr(t,e,i,o,n)&&!Wr(e,i,n)&&!zr(t,e,i)){if(!(o=Hr(e,i))){o=t,n=e,s=r=Sr(n);do{if(a=qr(s,i),a.length){for(r=a[0],a=$r(s.K,s.H,r.K,r.H),a=Yr(o,a[0],a[1],o.f.length/2),h=new Tr,l=new Dr,Zr(a,s.H,h,l),s.H=a,Ir(i,[Math.min(s.K.x,a.x),Math.min(s.K.y,a.y),Math.max(s.K.x,a.x),Math.max(s.K.y,a.y)],s),s=Lr(n);s!==r;)Zr(s.K,s.H,h,l),i.remove(s),Nr(n),s=Pr(n);Zr(r.K,a,h,l),r.K=a,Ir(i,[Math.min(r.H.x,a.x),Math.min(r.H.y,a.y),Math.max(r.H.x,a.x),Math.max(r.H.y,a.y)],r),Wr(n,i,!1),Gr(o,n,i),Wr(h,l,!1),Gr(o,h,l);break}s=Lr(n)}while(s!==r);break}var n=e,s=2*n.c,r=Array(s),a=Sr(n),h=a,l=0;do r[l++]=h.K.x,r[l++]=h.K.y,h=Lr(n);while(h!==a);n=!re(r,0,s,2),Wr(e,i,n)}3===e.c&&(o=t.a.length,t.a[o++]=_r(e).K.qa,t.a[o++]=Pr(e).K.qa,t.a[o++]=Ar(e).K.qa)}function Xr(t,e,i,n,o){var s,r,a,h=t.a.length,l=Sr(e),u=_r(e),c=l,f=Lr(e),d=Ar(e),p=!1;do{if(s=c.K,r=c.H,a=f.H,!1===r.va){var v=o?Qr(d.H,a,r,s,u.K):Qr(u.K,s,r,a,d.H);!n&&0!==qr({K:s,H:a},i).length||!v||0!==Kr(s,r,a,i,!0).length||!n&&!1!==s.va&&!1!==a.va&&re([u.K.x,u.K.y,s.x,s.y,r.x,r.y,a.x,a.y,d.H.x,d.H.y],0,10,2)!==!o||(t.a[h++]=s.qa,t.a[h++]=r.qa,t.a[h++]=a.qa,Jr(c,f,e,i),f===l&&(l=d),p=!0)}u=_r(e),c=Pr(e),f=Lr(e),d=Ar(e)}while(c!==l&&3<e.c);return p}function zr(t,e,i,n){var o=Sr(e);Lr(e);var s=o,r=Lr(e),a=!1;do{var h=$r(s.K,s.H,r.K,r.H,n);if(h){var l,a=t.a.length,u=t.f.length/2,c=Cr(e);if(Nr(e),i.remove(c),l=c===o,n?(h[0]===s.K.x&&h[1]===s.K.y?(Cr(e),h=s.K,r.K=h,i.remove(s),l=l||s===o):(h=r.H,s.H=h,i.remove(r),l=l||r===o),Nr(e)):(h=Yr(t,h[0],h[1],u),s.H=h,r.K=h,Ir(i,[Math.min(s.K.x,s.H.x),Math.min(s.K.y,s.H.y),Math.max(s.K.x,s.H.x),Math.max(s.K.y,s.H.y)],s),Ir(i,[Math.min(r.K.x,r.H.x),Math.min(r.K.y,r.H.y),Math.max(r.K.x,r.H.x),Math.max(r.K.y,r.H.y)],r)),t.a[a++]=c.K.qa,t.a[a++]=c.H.qa,t.a[a++]=h.qa,a=!0,l)break}s=_r(e),r=Lr(e)}while(s!==o);return a}function Hr(t,e){var i=Sr(t),n=i;do{if(qr(n,e).length)return!1;n=Lr(t)}while(n!==i);return!0}function Yr(t,e,i,n){var o=t.f.length;return t.f[o++]=e,t.f[o++]=i,{x:e,y:i,qa:n,va:void 0}}function Zr(t,e,i,n){var o={K:t,H:e},s={ua:void 0,next:void 0,data:o},r=i.a;if(r){var a=r.next;s.ua=r,s.next=a,r.next=s,a&&(a.ua=s),r===i.f&&(i.f=s)}else i.b=s,i.f=s,i.i&&(s.next=s,s.ua=s);return i.a=s,i.c++,n&&n.Na([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],o),o}function Jr(t,e,i,n){Pr(i)===e&&(Nr(i),t.H=e.H,n.remove(e),Ir(n,[Math.min(t.K.x,t.H.x),Math.min(t.K.y,t.H.y),Math.max(t.K.x,t.H.x),Math.max(t.K.y,t.H.y)],t))}function Kr(t,e,i,n,o){var s,r,a,h=[],l=Rr(n,[Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]);for(n=0,s=l.length;n<s;++n)for(r in l[n])a=l[n][r],"object"!=typeof a||o&&!a.va||a.x===t.x&&a.y===t.y||a.x===e.x&&a.y===e.y||a.x===i.x&&a.y===i.y||-1!==h.indexOf(a)||!oe([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,a.x,a.y)||h.push(a);return h}function qr(t,e,i){var n=t.K,o=t.H;e=Rr(e,[Math.min(n.x,o.x),Math.min(n.y,o.y),Math.max(n.x,o.x),Math.max(n.y,o.y)]);var s,r,a=[];for(s=0,r=e.length;s<r;++s){var h=e[s];t!==h&&(i||h.K!==o||h.H!==n)&&$r(n,o,h.K,h.H,i)&&a.push(h)}return a}function $r(t,e,i,n,o){var s=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!==s&&(n=((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x))/s,i=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/s,!o&&n>uf&&n<1-uf&&i>uf&&i<1-uf||o&&0<=n&&1>=n&&0<=i&&1>=i))return[t.x+n*(e.x-t.x),t.y+n*(e.y-t.y)]}function Qr(t,e,i,n,o){if(void 0===e.va||void 0===n.va)return!1;var s=(i.x-n.x)*(e.y-n.y)>(i.y-n.y)*(e.x-n.x);return o=(o.x-n.x)*(e.y-n.y)<(o.y-n.y)*(e.x-n.x),t=(t.x-e.x)*(n.y-e.y)>(t.y-e.y)*(n.x-e.x),i=(i.x-e.x)*(n.y-e.y)<(i.y-e.y)*(n.x-e.x),e=e.va?i||t:i&&t,(n.va?o||s:o&&s)&&e}function ta(){}function ea(t,e,i){this.i=e,this.j=t,this.c=i,this.f={}}function ia(t,e){var i,n=[];for(i in t.f){var o,s=t.f[i];for(o in s)n.push(s[o].Aa(e))}return function(){for(var t,e=n.length,i=0;i<e;i++)t=n[i].apply(this,arguments);return t}}function na(t,e){for(var i in t.f){var n,o=t.f[i];for(n in o)o[n].za(e)}}function oa(t,e,i,n,o,s,r,a,h,l,u){var c=Ef,f=Object.keys(t.f).map(Number);f.sort(function(t,e){return e-t});var d,p,v,g,b;for(d=0,p=f.length;d<p;++d)for(g=t.f[f[d].toString()],v=nf.length-1;0<=v;--v)if(b=g[nf[v]],void 0!==b&&(b=b.g(e,i,n,o,c,s,r,a,h,l,u)))return b;
}function sa(t,e,i,n,o,s,r,a){var h=i.a;return h.bindFramebuffer(h.FRAMEBUFFER,er(i)),void 0!==oa(t,i,e,n,o,s,r,a,function(){var t=new Uint8Array(4);return h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,t),0<t[3]},!1)}function ra(t,e,i,n,o,s,r){this.a=t,this.f=e,this.b=s,this.c=r,this.j=o,this.g=n,this.i=i,this.l=this.s=this.o=null}function aa(){this.a="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n"}function ha(){this.a="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n"}function la(t,e){this.b=t.getUniformLocation(e,"u_opacity"),this.c=t.getUniformLocation(e,"u_projectionMatrix"),this.g=t.getUniformLocation(e,"u_texCoordMatrix"),this.i=t.getUniformLocation(e,"u_texture"),this.a=t.getAttribLocation(e,"a_position"),this.f=t.getAttribLocation(e,"a_texCoord")}function ua(t,e){Zo.call(this,e),this.c=t,this.X=new Hs([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.j=this.Qa=null,this.l=void 0,this.O=fo(),this.Z=fo(),this.C=Vs(),this.o=null}function ca(t,e,i){var n=t.c.c;if(void 0===t.l||t.l!=i){e.postRenderFunctions.push(function(t,e,i){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(i))}.bind(null,n,t.j,t.Qa)),e=rr(n,i,i);var o=n.createFramebuffer();n.bindFramebuffer(36160,o),n.framebufferTexture2D(36160,36064,3553,e,0),t.Qa=e,t.j=o,t.l=i}else n.bindFramebuffer(36160,t.j)}function fa(t,e,i,n){if(t=t.a,D(t,e)){var o=n.viewState;P(t,new ao(e,new ra(i,o.center,o.resolution,o.rotation,n.size,n.extent,n.pixelRatio),n,null,i))}}function da(t,e,i,n){t=i-t,e=n-e;var o=Math.sqrt(t*t+e*e);return[Math.round(i+t/o),Math.round(n+e/o)]}function pa(t,e,i,n,o,s,r,a,h,l,u){var c=ri(Math.round(i*t),Math.round(i*e));if(0===h.length)return c.canvas;c.scale(i,i);var f=st();h.forEach(function(t){ut(f,t.extent)});var d=ri(Math.round(i*yt(f)/n),Math.round(i*gt(f)/n)),p=i/n;h.forEach(function(t){d.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,(t.extent[0]-f[0])*p,-(t.extent[3]-f[3])*p,yt(t.extent)*p,gt(t.extent)*p)});var v=[r[0],r[3]];return a.c.forEach(function(t){var e=t.source,o=t.target,r=e[1][0],a=e[1][1],h=e[2][0],l=e[2][1];t=(o[0][0]-v[0])/s;var u=-(o[0][1]-v[1])/s,p=(o[1][0]-v[0])/s,g=-(o[1][1]-v[1])/s,b=(o[2][0]-v[0])/s,y=-(o[2][1]-v[1])/s,o=e[0][0],e=e[0][1],r=r-o,a=a-e,h=h-o,l=l-e;t:{for(r=[[r,a,0,0,p-t],[h,l,0,0,b-t],[0,0,r,a,g-u],[0,0,h,l,y-u]],a=r.length,h=0;h<a;h++)console.assert(r[h].length==a+1,"every row should have correct number of columns");for(h=0;h<a;h++){for(var l=h,m=Math.abs(r[h][h]),x=h+1;x<a;x++){var E=Math.abs(r[x][h]);E>m&&(m=E,l=x)}if(0===m){r=null;break t}for(m=r[l],r[l]=r[h],r[h]=m,l=h+1;l<a;l++)for(m=-r[l][h]/r[h][h],x=h;x<a+1;x++)r[l][x]=h==x?0:r[l][x]+m*r[h][x]}for(h=Array(a),l=a-1;0<=l;l--)for(h[l]=r[l][a]/r[l][l],m=l-1;0<=m;m--)r[m][a]-=r[m][l]*h[l];r=h}r&&(c.save(),c.beginPath(),Nf?(h=(t+p+b)/3,l=(u+g+y)/3,a=da(h,l,t,u),p=da(h,l,p,g),b=da(h,l,b,y),c.moveTo(p[0],p[1]),c.lineTo(a[0],a[1]),c.lineTo(b[0],b[1])):(c.moveTo(p,g),c.lineTo(t,u),c.lineTo(b,y)),c.clip(),c.transform(r[0],r[2],r[1],r[3],t,u),c.translate(f[0]-o,f[3]-e),c.scale(n/i,-n/i),c.drawImage(d.canvas,0,0),c.restore())}),u&&(c.save(),c.strokeStyle="black",c.lineWidth=1,a.c.forEach(function(t){var e=t.target;t=(e[0][0]-v[0])/s;var i=-(e[0][1]-v[1])/s,n=(e[1][0]-v[0])/s,o=-(e[1][1]-v[1])/s,r=(e[2][0]-v[0])/s,e=-(e[2][1]-v[1])/s;c.beginPath(),c.moveTo(n,o),c.lineTo(t,i),c.lineTo(r,e),c.closePath(),c.stroke()}),c.restore()),c.canvas}function va(t,e,i,n,o){this.b=t,this.i=e;var s={},r=Ot(this.i,this.b);this.f=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=r(t)),s[e]},this.g=n,this.o=o*o,this.c=[],this.l=!1,this.s=this.b.f&&!!n&&!!this.b.L()&&yt(n)==yt(this.b.L()),this.a=this.b.L()?yt(this.b.L()):null,this.j=this.i.L()?yt(this.i.L()):null,t=[i[0],i[3]],e=[i[2],i[3]],n=[i[2],i[1]],i=[i[0],i[1]],o=this.f(t);var a=this.f(e),h=this.f(n),l=this.f(i);if(ga(this,t,e,n,i,o,a,h,l,10),this.l){console.assert(null!==this.a);var u=1/0;this.c.forEach(function(t){u=Math.min(u,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-u>this.a/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-u>this.a/2&&(e[0][0]-=this.a),e[1][0]-u>this.a/2&&(e[1][0]-=this.a),e[2][0]-u>this.a/2&&(e[2][0]-=this.a),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.a/2&&(t.source=e)}},this)}s={}}function ga(t,e,i,n,o,s,r,a,h,l){var c=et([s,r,a,h]),f=t.a?yt(c)/t.a:null,d=t.a,p=t.b.f&&.5<f&&1>f,v=!1;if(0<l){if(t.i.b&&t.j)var g=et([e,i,n,o]),v=v|.25<yt(g)/t.j;!p&&t.b.b&&f&&(v|=.25<f)}if(v||!t.g||mt(c,t.g)){if(!(v||isFinite(s[0])&&isFinite(s[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(0<l))return;v=!0}if(0<l&&(v||(c=t.f([(e[0]+n[0])/2,(e[1]+n[1])/2]),d=p?(u(s[0],d)+u(a[0],d))/2-u(c[0],d):(s[0]+a[0])/2-c[0],c=(s[1]+a[1])/2-c[1],v=d*d+c*c>t.o),v))return void(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])?(p=[(i[0]+n[0])/2,(i[1]+n[1])/2],d=t.f(p),c=[(o[0]+e[0])/2,(o[1]+e[1])/2],f=t.f(c),ga(t,e,i,p,c,s,r,d,f,l-1),ga(t,c,p,n,o,f,d,a,h,l-1)):(p=[(e[0]+i[0])/2,(e[1]+i[1])/2],d=t.f(p),c=[(n[0]+o[0])/2,(n[1]+o[1])/2],f=t.f(c),ga(t,e,p,c,o,s,d,f,h,l-1),ga(t,p,i,n,c,d,r,a,f,l-1)));if(p){if(!t.s)return;t.l=!0}t.c.push({source:[s,a,h],target:[e,n,o]}),t.c.push({source:[s,r,a],target:[e,i,n]})}}function ba(t){var e=st();return t.c.forEach(function(t){t=t.source,ct(e,t[0]),ct(e,t[1]),ct(e,t[2])}),e}function ya(t){j.call(this),this.c=Rt(t.projection),this.s=ma(t.attributions),this.I=t.logo,this.O=void 0!==t.state?t.state:"ready",this.l=void 0!==t.wrapX&&t.wrapX}function ma(t){if("string"==typeof t)return[new Ke({html:t})];if(t instanceof Ke)return[t];if(Array.isArray(t)){for(var e=t.length,i=Array(e),n=0;n<e;n++){var o=t[n];i[n]="string"==typeof o?new Ke({html:o}):o}return i}return null}function xa(){this.a="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n"}function Ea(){this.a="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n"}function wa(t,e){this.b=t.getUniformLocation(e,"u_texture"),this.c=t.getUniformLocation(e,"u_tileOffset"),this.a=t.getAttribLocation(e,"a_position"),this.f=t.getAttribLocation(e,"a_texCoord")}function Ma(t,e){ua.call(this,t,e),this.I=Af,this.ea=Cf,this.b=null,this.G=new Hs([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.J=this.i=null,this.g=-1,this.T=[0,0]}function Ta(t,e){ua.call(this,t,e),this.g=!1,this.T=-1,this.I=NaN,this.J=st(),this.i=this.b=this.G=null}function Na(){this.c=0,this.b={},this.f=this.a=null}function Sa(t,e){return t.b.hasOwnProperty(e)}function La(t){return console.assert(t.a,"oldest must not be null"),t.a.ib}function Aa(t,e){Eo.call(this,0,e),this.a=document.createElement("CANVAS"),this.a.style.width="100%",this.a.style.height="100%",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.D=this.v=0,this.J=ri(),this.o=!0,this.c=Mi(this.a,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),console.assert(this.c,"got a WebGLRenderingContext"),this.i=new $s(this.a,this.c),w(this.a,"webglcontextlost",this.ff,this),w(this.a,"webglcontextrestored",this.gf,this),this.f=new Na,this.A=null,this.j=new Qi(function(t){var e=t[1];t=t[2];var i=e[0]-this.A[0],e=e[1]-this.A[1];return 65536*Math.log(t)+Math.sqrt(i*i+e*e)/t}.bind(this),function(t){return t[0].getKey()}),this.C=function(){if(0!==this.j.a.length){on(this.j);var t=tn(this.j);Ca(this,t[0],t[3],t[4])}return!1}.bind(this),this.g=0,Pa(this)}function Ca(t,e,i,n){var o=t.c,s=e.getKey();if(Sa(t.f,s))t=t.f.get(s),o.bindTexture(3553,t.Qa),9729!=t.rd&&(o.texParameteri(3553,10240,9729),t.rd=9729),9729!=t.sd&&(o.texParameteri(3553,10241,9729),t.sd=9729);else{var r=o.createTexture();if(o.bindTexture(3553,r),0<n){var a=t.J.canvas,h=t.J;t.v!==i[0]||t.D!==i[1]?(a.width=i[0],a.height=i[1],t.v=i[0],t.D=i[1]):h.clearRect(0,0,i[0],i[1]),h.drawImage(e.gb(),n,n,i[0],i[1],0,0,i[0],i[1]),o.texImage2D(3553,0,6408,6408,5121,a)}else o.texImage2D(3553,0,6408,6408,5121,e.gb());o.texParameteri(3553,10240,9729),o.texParameteri(3553,10241,9729),o.texParameteri(3553,10242,33071),o.texParameteri(3553,10243,33071),t.f.set(s,{Qa:r,rd:9729,sd:9729})}}function _a(t,e,i){var n=t.s;if(D(n,e)){t=t.i;var o=i.viewState;P(n,new ao(e,new ra(t,o.center,o.resolution,o.rotation,i.size,i.extent,i.pixelRatio),i,null,t))}}function Pa(t){t=t.c,t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}function Da(t){j.call(this);var e=ja(t);this.gc=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.kc=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.oc=void 0!==t.pixelRatio?t.pixelRatio:vc,this.nc=e.logos,this.ia=function(){this.g=void 0,this.Bf.call(this,Date.now())}.bind(this),this.Ra=fo(),this.sc=fo(),this.Fb=0,this.b=null,this.Ka=st(),this.C=this.O=this.X=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(yc?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.o=document.createElement("DIV"),this.o.className="ol-overlaycontainer",this.a.appendChild(this.o),this.s=document.createElement("DIV"),this.s.className="ol-overlaycontainer-stopevent",t="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ");for(var i=0,n=t.length;i<n;++i)w(this.s,t[i],C);this.a.appendChild(this.s),this.Ca=new Zi(this);for(var o in ac)w(this.Ca,ac[o],this.md,this);this.xa=e.keyboardEventTarget,this.l=null,w(this.a,"wheel",this.bb,this),w(this.a,"mousewheel",this.bb,this),this.v=e.controls,this.j=e.interactions,this.G=e.overlays,this.Gd={},this.I=new e.Df(this.a,this),this.Z=null,this.ea=[],this.Ea=[],this.Da=new sn(this.me.bind(this),this.Fe.bind(this)),this.tc={},w(this,R(Pf),this.re,this),w(this,R(jf),this.Ge,this),w(this,R(Df),this.Ce,this),w(this,R(If),this.Ee,this),this.i(e.values),this.v.forEach(function(t){t.setMap(this)},this),w(this.v,ec,function(t){t.element.setMap(this)},this),w(this.v,ic,function(t){t.element.setMap(null)},this),this.j.forEach(function(t){t.setMap(this)},this),w(this.j,ec,function(t){t.element.setMap(this)},this),w(this.j,ic,function(t){t.element.setMap(null)},this),this.G.forEach(this.ad,this),w(this.G,ec,function(t){this.ad(t.element)},this),w(this.G,ic,function(t){var e=t.element.td;void 0!==e&&delete this.Gd[e.toString()],t.element.setMap(null)},this)}function Ia(t,e){var i=t.b;return i?yo(i.coordinateToPixelTransform,e.slice(0,2)):null}function ja(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var o=t.logo;"string"==typeof o?n[o]="":o instanceof HTMLElement?n[s(o).toString()]=o:o&&(a("string"==typeof o.href,44),a("string"==typeof o.src,45),n[o.src]=o.href)}o=t.layers instanceof io?t.layers:new io({layers:t.layers}),i[Pf]=o,i[If]=t.target,i[jf]=void 0!==t.view?t.view:new pe;var r,o=Eo;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:a(!1,46),0<=r.indexOf("dom")&&(console.assert(!1,"The DOM render has been removed"),r=r.concat(_f))):r=_f;var h,l;for(h=0,l=r.length;h<l;++h){var u=r[h];if("canvas"==u){if(bc){o=Is;break}}else if("webgl"==u&&hc){o=Aa;break}}return void 0!==t.controls?Array.isArray(t.controls)?r=new qe(t.controls.slice()):(a(t.controls instanceof qe,47),r=t.controls):r=xi(),void 0!==t.interactions?Array.isArray(t.interactions)?h=new qe(t.interactions.slice()):(a(t.interactions instanceof qe,48),h=t.interactions):(h={},l=new qe,u=new rn,(void 0!==h.altShiftDragRotate?h.altShiftDragRotate:1)&&l.push(new Sn),(void 0!==h.doubleClickZoom?h.doubleClickZoom:1)&&l.push(new cn({delta:h.zoomDelta,duration:h.zoomDuration})),(void 0!==h.dragPan?h.dragPan:1)&&l.push(new wn({kinetic:u})),(void 0!==h.pinchRotate?h.pinchRotate:1)&&l.push(new Hn),(void 0!==h.pinchZoom?h.pinchZoom:1)&&l.push(new Kn({duration:h.zoomDuration})),(void 0!==h.keyboard?h.keyboard:1)&&(l.push(new Un),l.push(new Vn({delta:h.zoomDelta,duration:h.zoomDuration}))),(void 0!==h.mouseWheelZoom?h.mouseWheelZoom:1)&&l.push(new Xn({duration:h.zoomDuration})),(void 0!==h.shiftDragZoom?h.shiftDragZoom:1)&&l.push(new Bn({duration:h.zoomDuration})),h=l),void 0!==t.overlays?Array.isArray(t.overlays)?t=new qe(t.overlays.slice()):(a(t.overlays instanceof qe,49),t=t.overlays):t=new qe,{controls:r,interactions:h,keyboardEventTarget:e,logos:n,overlays:t,Df:o,values:i}}function Ra(t){j.call(this),this.td=t.id,this.l=void 0===t.insertFirst||t.insertFirst,this.s=void 0===t.stopEvent||t.stopEvent,this.b=document.createElement("DIV"),this.b.className="ol-overlay-container",this.b.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.g=t.autoPanAnimation||{},this.j=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Mb:"",Vb:"",Zb:"",dc:"",visible:!0},this.c=null,w(this,R(Xf),this.qe,this),w(this,R(zf),this.we,this),w(this,R(Hf),this.xe,this),w(this,R(Yf),this.ze,this),w(this,R(Zf),this.Ae,this),void 0!==t.element&&this.set(Xf,t.element),this.set(Hf,void 0!==t.offset?t.offset:[0,0]),this.set(Zf,void 0!==t.positioning?t.positioning:Wf),void 0!==t.position&&this.ud(t.position)}function ka(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,i=i.top+window.pageYOffset;return[n,i,n+e[0],i+e[1]]}function Oa(t,e){t.a.visible!==e&&(t.b.style.display=e?"":"none",t.a.visible=e)}function Fa(t){var e=t.get(zf),i=t.get(Yf);if(void 0!==e&&e.b&&void 0!==i){var i=Ia(e,i),n=e.fb(),e=t.b.style,o=t.get(Hf),s=t.get(Zf);console.assert(void 0!==s,"positioning should be defined");var r=o[0],o=o[1];s==Of||s==Uf||s==Gf?(""!==t.a.Vb&&(t.a.Vb=e.left=""),r=Math.round(n[0]-i[0]-r)+"px",t.a.Zb!=r&&(t.a.Zb=e.right=r)):(""!==t.a.Zb&&(t.a.Zb=e.right=""),s!=kf&&s!=Bf&&s!=Vf||(r-=t.b.offsetWidth/2),r=Math.round(i[0]+r)+"px",t.a.Vb!=r&&(t.a.Vb=e.left=r)),s==Rf||s==kf||s==Of?(""!==t.a.dc&&(t.a.dc=e.top=""),i=Math.round(n[1]-i[1]-o)+"px",t.a.Mb!=i&&(t.a.Mb=e.bottom=i)):(""!==t.a.Mb&&(t.a.Mb=e.bottom=""),s!=Ff&&s!=Bf&&s!=Uf||(o-=t.b.offsetHeight/2),i=Math.round(i[1]+o)+"px",t.a.dc!=i&&(t.a.dc=e.top=i)),Oa(t,!0)}else Oa(t,!1)}function Ba(t){j.call(this),this.a=void 0,this.b="geometry",this.j=null,this.g=void 0,this.c=null,w(this,R(this.b),this.Sb,this),void 0!==t&&(t instanceof Vt||!t?this.Ga(t):this.i(t))}function Ua(t,e){M(t,R(t.b),t.Sb,t),t.b=e,w(t,R(t.b),t.Sb,t),t.Sb()}function Wa(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(a(t instanceof jo,41),e=[t]),t=function(){return e}}return t}function Va(t){return Ga(t,!1,[]).join("")}function Ga(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Ga(t,e,i);return i}function Xa(t){return t instanceof Document}function za(t){return t instanceof Node}function Ha(t){return(new DOMParser).parseFromString(t,"application/xml")}function Ya(t,e){return function(i,n){var o=t.call(void 0!==e?e:this,i,n);if(void 0!==o){var s=n[n.length-1];console.assert(Array.isArray(s),"objectStack is supposed to be an array of arrays"),s.push(o)}}}function Za(t,e){return function(i,n){var o=t.call(void 0!==e?e:this,i,n);void 0!==o&&(n[n.length-1]=o)}}function Ja(t){return console.assert(void 0!==t,"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(e,i){var n=t.call(this,e,i);if(void 0!==n){var o,s=i[i.length-1],r=e.localName;o=r in s?s[r]:s[r]=[],o.push(n)}}}function Ka(t,e){return console.assert(void 0!==t,"undefined valueReader, expected function(this: T, Node, Array.<*>)"),function(i,n){var o=t.call(this,i,n);void 0!==o&&(n[n.length-1][void 0!==e?e:i.localName]=o)}}function qa(t){return function(e,i,n){t.call(this,e,i,n),i=n[n.length-1].node,console.assert(za(i)||Xa(i),"expected parentNode %s to be a Node or a Document",i),i.appendChild(e)}}function $a(t){var e,i;return function(n,o,s){if(void 0===e){e={};var r={};r[n.localName]=t,e[n.namespaceURI]=r,i=Qa(n.localName)}oh(e,i,o,s)}}function Qa(t){return function(e,i,n){return i=i[i.length-1].node,console.assert(za(i)||Xa(i),"expected node %s to be a Node or a Document",i),e=t,void 0===e&&(e=n),n=i.namespaceURI,console.assert(void 0!==e,"nodeName was undefined"),Jf.createElementNS(n,e)}}function th(t,e){for(var i=e.length,n=Array(i),o=0;o<i;++o)n[o]=t[e[o]];return n}function eh(t,e,i){i=void 0!==i?i:{};var n,o;for(n=0,o=t.length;n<o;++n)i[t[n]]=e;return i}function ih(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var o=t[e.namespaceURI];void 0!==o&&(o=o[e.localName])&&o.call(n,e,i)}}function nh(t,e,i,n,o){return n.push(t),ih(e,i,n,o),n.pop()}function oh(t,e,i,n,o,s){for(var r,a,h=(void 0!==o?o:i).length,l=0;l<h;++l)r=i[l],void 0!==r&&(a=e.call(s,r,n,void 0!==o?o[l]:void 0),void 0!==a&&t[a.namespaceURI][a.localName].call(s,a,r,n))}function sh(t,e,i,n,o,s,r){o.push(t),oh(e,i,n,o,s,r),o.pop()}function rh(t,e,i){return function(n,o,s){var r=new XMLHttpRequest;r.open("GET","function"==typeof t?t(n,o,s):t,!0),"arraybuffer"==e.ca()&&(r.responseType="arraybuffer"),r.onload=function(){if(!r.status||200<=r.status&&300>r.status){var t,n=e.ca();"json"==n||"text"==n?t=r.responseText:"xml"==n?(t=r.responseXML)||(t=Ha(r.responseText)):"arraybuffer"==n&&(t=r.response),t&&i.call(this,e.Yb(t,{featureProjection:s}),e.Hc(t))}}.bind(this),r.send()}}function ah(t,e){return rh(t,e,function(t){this.mc(t)})}function hh(){this.b=this.defaultDataProjection=null}function lh(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.Hc(e),featureProjection:i.featureProjection}),Vu({dataProjection:t.defaultDataProjection,featureProjection:t.b},n)}function uh(t,e,i){var n,o=i?Rt(i.featureProjection):null,s=i?Rt(i.dataProjection):null;if(n=o&&s&&!kt(o,s)?t instanceof Vt?(e?t.clone():t).s(e?o:s,e?s:o):Wt(e?t.slice():t,e?o:s,e?s:o):t,e&&i&&i.decimals){var r=Math.pow(10,i.decimals);t=function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*r)/r;return t},Array.isArray(n)?t(n):n.Lb(t)}return n}function ch(){hh.call(this)}function fh(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function dh(t,e,i,n,o){console.assert(!0,"fraction should be in between 0 and 1");var s=NaN,r=NaN,a=(i-e)/n;if(0===a)console.assert(!1,"n cannot be 0");else if(1==a)s=t[e],r=t[e+1];else if(2==a)s=.5*t[e]+.5*t[e+n],r=.5*t[e+1]+.5*t[e+n+1];else{var h,r=t[e],a=t[e+1],l=0,s=[0];for(h=e+n;h<i;h+=n){var u=t[h],c=t[h+1],l=l+Math.sqrt((u-r)*(u-r)+(c-a)*(c-a));s.push(l),r=u,a=c}for(i=.5*l,l=0,h=s.length,u=!1;l<h;)r=l+(h-l>>1),a=+O(s[r],i),0>a?l=r+1:(h=r,u=!a);r=u?l:~l,0>r?(i=(i-s[-r-2])/(s[-r-1]-s[-r-2]),e+=(-r-2)*n,s=t[e],s+=i*(t[e+n]-s),r=t[e+1],r+=i*(t[e+n+1]-r)):(s=t[e+r*n],r=t[e+r*n+1])}return o?(o[0]=s,o[1]=r,o):[s,r]}function ph(t,e){zt.call(this),this.c=null,this.l=-1,this.ha(t,e)}function vh(t){if(t.l!=t.f){var e;e=dh(t.u,0,t.u.length,t.a,t.c),t.c=e,t.l=t.f}return t.c}function gh(t,e){zt.call(this),this.c=[],this.ha(t,e)}function bh(t){var e=t.u,i=t.c;t=t.Y;var n,o,s=[],r=0;for(n=0,o=i.length;n<o;++n){var a=i[n],h=new ph(null);h.W(t,e.slice(r,a)),s.push(h),r=a}return s}function yh(t){var e=[],i=t.u,n=0,o=t.c;t=t.a;var s,r;for(s=0,r=o.length;s<r;++s){var a=o[s],n=dh(i,n,a,t);U(e,n),n=a}return e}function mh(t,e){var i,n,o=t.Y,s=[],r=[];for(i=0,n=e.length;i<n;++i){var a=e[i];0===i?o=a.Y:console.assert(a.Y==o,"layout of lineString should match layout"),U(s,a.u),r.push(s.length)}t.W(o,s,r)}function xh(t,e){zt.call(this),this.ha(t,e)}function Eh(t,e){zt.call(this),this.c=[],this.G=-1,this.I=null,this.O=-1,this.l=null,this.ha(t,e)}function wh(t){if(t.G!=t.f){var e,i,n,o=t.u,s=t.c,r=t.a,a=0,h=[];for(e=0,i=s.length;e<i;++e){var l=s[e];n=o;var u=l[0],c=r,f=at(void 0);n=ft(f,n,a,u,c),h.push((n[0]+n[2])/2,(n[1]+n[3])/2),a=l[l.length-1]}for(o=Mh(t),s=t.c,r=t.a,e=0,console.assert(2*s.length==h.length,"endss.length times 2 should be flatCenters.length"),i=[],l=0,n=s.length;l<n;++l)a=s[l],i=se(o,e,a,r,h,2*l,i),e=a[a.length-1];t.I=i,t.G=t.f}return t.I}function Mh(t){if(t.O!=t.f){var e,i=t.u;t:{e=t.c;var n,o;for(n=0,o=e.length;n<o;++n)if(!ae(i,e[n],t.a,void 0)){e=!1;break t}e=!0}e?t.l=i:(t.l=i.slice(),t.l.length=le(t.l,t.c,t.a)),t.O=t.f}return t.l}function Th(t){var e=t.Y,i=t.u;t=t.c;var n,o,s,r,a=[],h=0;for(n=0,o=t.length;n<o;++n){var l=t[n].slice(),u=l[l.length-1];if(0!==h)for(s=0,r=l.length;s<r;++s)l[s]-=h;s=new ue(null),s.W(e,i.slice(h,u),l),a.push(s),h=u}return a}function Nh(t,e,i,n){if(console.assert(n,"endss must be truthy"),i&&0!==i.length){console.assert(0<n.length,"endss cannot be an empty array");var o=n[n.length-1];console.assert(i.length==o[o.length-1],"the length of flatCoordinates should be the last value of ends")}else console.assert(0===n.length,"the length of endss should be 0");Yt(t,e,i),t.c=n,t.B()}function Sh(t){t=t?t:{},hh.call(this),this.f=t.geometryName}function Lh(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function Ah(t){Vt.call(this),this.b=t?t:null,Ph(this)}function Ch(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(t[e].clone());return n}function _h(t){var e,i;if(t.b)for(e=0,i=t.b.length;e<i;++e)M(t.b[e],"change",t.B,t)}function Ph(t){var e,i;if(t.b)for(e=0,i=t.b.length;e<i;++e)w(t.b[e],"change",t.B,t)}function Dh(t){t=t?t:{},hh.call(this),this.defaultDataProjection=Rt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.b=Rt(t.featureProjection)),this.f=t.geometryName}function Ih(t,e){return t?uh((0,$f[t.type])(t),!1,e):null}function jh(){new XMLSerializer,hh.call(this)}function Rh(t,e,i){return t=kh(t,e,i),0<t.length?t[0]:null}function kh(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&U(n,Fh(t,e,i));return n}function Oh(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.a={},this.a["http://www.opengis.net/gml"]={featureMember:Za(Oh.prototype.f),featureMembers:Za(Oh.prototype.f)},jh.call(this)}function Fh(t,e,i){var n={featureType:t.featureType,featureNS:t.featureNS};return i&&Vu(n,lh(t,e,i)),t.f(e,[n])||[]}function Bh(t){return t=Va(t),Uh(t)}function Uh(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function Wh(t){return t=Va(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Vh(t){return t=Va(t),Gh(t)}function Gh(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Xh(t){return t=Va(t),zh(t)}function zh(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Hh(t){return Va(t).trim()}function Yh(t,e){Kh(t,e?"1":"0")}function Zh(t,e){t.appendChild(Jf.createTextNode(e.toPrecision()))}function Jh(t,e){console.assert(0<=e,"value should be more than 0"),console.assert(e==(0|e),"value should be an integer value"),t.appendChild(Jf.createTextNode(e.toString()))}function Kh(t,e){t.appendChild(Jf.createTextNode(e))}function qh(t,e,i,n){return console.assert(i.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function $h(t,e,i){var n="XY",o=2;if(t.hasZ&&t.hasM?(n="XYZM",o=4):t.hasZ?(n="XYZ",o=3):t.hasM&&(n="XYM",o=3),4!==o){var s,r;for(s=0,r=e.length/4;s<r;s++)e[s*o]=e[4*s],e[s*o+1]=e[4*s+1],t.hasZ&&(e[s*o+2]=e[4*s+2]),t.hasM&&(e[s*o+2]=e[4*s+3]);if(e.length=e.length/4*o,i)for(s=0,r=i.length;s<r;s++)i[s]=i[s]/4*o}return n}function Qh(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("link"==t.localName,"localName should be link");var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),ih(ed,t,e)}function tl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("extensions"==t.localName,"localName should be extensions"),e[e.length-1].extensionsNode_=t}function el(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,sh({node:t},ld,Kf,[e.linkText,e.linkType],i,hd)}function il(t,e,i){var n=i[i.length-1],o=n.node;console.assert(za(o),"parentNode should be an XML node");var s=o.namespaceURI,o=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(o.time=e[3]);case"XYZ":0!==e[2]&&(o.ele=e[2]);break;case"XYM":0!==e[2]&&(o.time=e[2])}e="rtept"==t.nodeName?fd[s]:bd[s],n=th(o,e),sh({node:t,properties:o},yd,Kf,n,i,e)}function nl(t,e,i,n,o,s){_.call(this),this.j=null,this.a=t?t:new Image,null!==n&&(this.a.crossOrigin=n),this.i=s?document.createElement("CANVAS"):null,this.g=s,this.c=null,this.b=o,this.f=i,this.l=e,this.s=!1,2==this.b&&ol(this)}function ol(t){var e=ri(1,1);try{e.drawImage(t.a,0,0),e.getImageData(0,0,1,1)}catch(e){t.s=!0}}function sl(t){t=t||{},this.c=void 0!==t.anchor?t.anchor:[.5,.5],this.g=null,this.f=void 0!==t.anchorOrigin?t.anchorOrigin:wd,this.D=void 0!==t.anchorXUnits?t.anchorXUnits:md,this.C=void 0!==t.anchorYUnits?t.anchorYUnits:md,this.I=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;a(!(void 0!==n&&e),4),a(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||s(e).toString()),a(void 0!==n&&0<n.length,6);var o=void 0!==t.src?0:2;this.i=void 0!==t.color?ei(t.color):null;var r=this.I,h=this.i,l=Zc.get(n,r,h);l||(l=new nl(e,n,i,r,o,h),Zc.set(n,r,h,l)),this.a=l,this.G=void 0!==t.offset?t.offset:[0,0],this.b=void 0!==t.offsetOrigin?t.offsetOrigin:wd,this.s=null,this.A=void 0!==t.size?t.size:null,Co.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function rl(t){t=t||{},this.c=t.font,this.l=t.rotation,this.j=t.rotateWithView,this.f=t.scale,this.A=t.text,this.s=t.textAlign,this.o=t.textBaseline,this.a=void 0!==t.fill?t.fill:new Do({color:"#333"}),this.b=void 0!==t.stroke?t.stroke:null,this.i=void 0!==t.offsetX?t.offsetX:0,this.g=void 0!==t.offsetY?t.offsetY:0}function al(t){if(t=Va(t),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function hl(t){t=Va(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""!==t?void 0:i}function ll(t){var e=Va(t).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function ul(t){return Vh(t)}function cl(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LinearRing"==t.localName,"localName should be LinearRing"),nh(null,Id,t,e)}function fl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=Td.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("Track"==t.localName,"localName should be Track");var i=nh({u:[],Pd:[]},Rd,t,e);if(i){var n=i.u,i=i.Pd;console.assert(n.length/4==i.length,"the length of the flatCoordinates array divided by 4 should be the length of the whens array");var o,s;for(o=0,s=Math.min(n.length,i.length);o<s;++o)n[4*o+3]=i[o];return i=new ph(null),i.W("XYZM",n),i}}function dl(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),nh(null,kd,t,e)}function pl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LineString"==t.localName,"localName should be LineString");var i=nh({},Dd,t,e),n=dl(t,e);if(n){var o=new ph(null);return o.W("XYZ",n),o.i(i),o}}function vl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LinearRing"==t.localName,"localName should be LinearRing");var i=nh({},Dd,t,e),n=dl(t,e);if(n){var o=new ue(null);return o.W("XYZ",n,[n.length]),o.i(i),o}}function gl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("MultiGeometry"==t.localName,"localName should be MultiGeometry");var i=nh([],Vd,t,e);if(!i)return null;if(0===i.length)return new Ah(i);var n,o,s,r,h=!0,l=i[0].ca();for(s=1,r=i.length;s<r;++s)if(o=i[s],o.ca()!=l){h=!1;break}if(h)if("Point"==l){for(n=i[0],h=n.Y,l=n.u,s=1,r=i.length;s<r;++s)o=i[s],console.assert(o.Y==h,"geometry layout should be consistent"),U(l,o.u);n=new xh(null),n.W(h,l),xl(n,i)}else if("LineString"==l)n=new gh(null),mh(n,i),xl(n,i);else if("Polygon"==l){o=n=new Eh(null),s=o.Y,r=[];var u,c,h=[],l=0;for(u=i.length;l<u;++l){var f=i[l];0===l?s=f.Y:console.assert(f.Y==s,"layout of polygon should be layout");var d=r.length;c=f.Za();var p,v;for(p=0,v=c.length;p<v;++p)c[p]+=d;U(r,f.u),h.push(c)}Nh(o,s,r,h),xl(n,i)}else"GeometryCollection"==l?n=new Ah(i):a(!1,37);else n=new Ah(i);return n}function bl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Point"==t.localName,"localName should be Point");var i=nh({},Dd,t,e),n=dl(t,e);if(n){var o=new ne(null);return console.assert(3==n.length,"flatCoordinates should have a length of 3"),o.W("XYZ",n),o.i(i),o}}function yl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),
console.assert("Polygon"==t.localName,"localName should be Polygon");var i=nh({},Dd,t,e),n=nh([null],jd,t,e);if(n&&n[0]){var o,s,r=new ue(null),a=n[0],h=[a.length];for(o=1,s=n.length;o<s;++o)U(a,n[o]),h.push(a.length);return r.W("XYZ",a,h),r.i(i),r}}function ml(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Style"==t.localName,"localName should be Style");var i=nh({},Jd,t,e);if(!i)return null;var n="fillStyle"in i?i.fillStyle:void 0,o=i.fill;void 0===o||o||(n=null),o="imageStyle"in i?i.imageStyle:void 0,void 0==o&&(o=void 0);var s="textStyle"in i?i.textStyle:void 0,r="strokeStyle"in i?i.strokeStyle:void 0,i=i.outline;return void 0===i||i||(r=null),[new jo({fill:n,image:o,stroke:r,text:s,zIndex:void 0})]}function xl(t,e){var i,n,o,s,r=e.length,a=Array(e.length),h=Array(e.length);for(o=s=!1,n=0;n<r;++n)i=e[n],a[n]=i.get("extrude"),h[n]=i.get("altitudeMode"),o=o||void 0!==a[n],s=s||h[n];o&&t.set("extrude",a),s&&t.set("altitudeMode",h)}function El(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ExtendedData"==t.localName,"localName should be ExtendedData"),ih(Ad,t,e)}function wl(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Region"==t.localName,"localName should be Region"),ih(Cd,t,e)}function Ml(t,e){var i,n=ei(e),n=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(i=0;4>i;++i){var o=parseInt(n[i],10).toString(16);n[i]=1==o.length?"0"+o:o}Kh(t,n.join(""))}function Tl(t,e,i){t={node:t};var n,o,s=e.ca();if("GeometryCollection"==s)n=Ch(e.b),o=Dl;else if("MultiPoint"==s){n=e.u,o=e.Y,e=e.a;var r,h,s=[];for(r=0,h=n.length;r<h;r+=e){var l=new ne(null);l.W(o,n.slice(r,r+e)),s.push(l)}n=s,o=wp}else"MultiLineString"==s?(n=bh(e),o=Mp):"MultiPolygon"==s?(n=Th(e),o=Np):a(!1,39);sh(t,lp,o,n,i)}function Nl(t,e,i){sh({node:t},hp,Tp,[e],i)}function Sl(t,e,i){var n={node:t};e.a&&t.setAttribute("id",e.a),t=e.J();var o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.b]=1;var s=Object.keys(t||{}).sort().filter(function(t){return!o[t]});if(0<s.length){var r=th(t,s);sh(n,cp,xp,[{names:s,values:r}],i)}(s=e.g)&&(s=s.call(e,0))&&(s=Array.isArray(s)?s[0]:s,this.a&&(t.Style=s),(s=s.ma())&&(t.name=s.ma())),s=up[i[i.length-1].node.namespaceURI],t=th(t,s),sh(n,cp,Kf,t,i,s),t=i[0],(e=e.V())&&(e=uh(e,!0,t)),sh(n,cp,Dl,[e],i)}function Ll(t,e,i){console.assert(e instanceof ne||e instanceof ph||e instanceof ie,"geometry should be one of ol.geom.Point, ol.geom.LineString or ol.geom.LinearRing");var n=e.u;t={node:t},t.layout=e.Y,t.stride=e.a,sh(t,fp,yp,[n],i)}function Al(t,e,i){e=fe(e),console.assert(0<e.length,"linearRings should not be empty");var n=e.shift();t={node:t},sh(t,dp,Ep,e,i),sh(t,dp,Sp,[n],i)}function Cl(t,e){Zh(t,Math.round(1e6*e)/1e6)}function _l(t,e,i){return Jf.createElementNS(Td[0],"gx:"+i)}function Pl(t,e){var i=e[e.length-1].node;return console.assert(za(i),"parentNode should be an XML node"),Jf.createElementNS(i.namespaceURI,"Placemark")}function Dl(t,e){if(t){var i=e[e.length-1].node;return console.assert(za(i),"parentNode should be an XML node"),Jf.createElementNS(i.namespaceURI,Qd[t.ca()])}}function Il(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("tag"==t.localName,"localName should be tag"),e[e.length-1].Eb[t.getAttribute("k")]=t.getAttribute("v")}function jl(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Rl(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),nh({},hv,t,e)}function kl(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),nh({},ov,t,e)}function Ol(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var i=Rl(t,e);if(i){var n=[zh(t.getAttribute("width")),zh(t.getAttribute("height"))];return i.size=n,i}}function Fl(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("KeywordList"==t.localName,"localName should be KeywordList"),nh([],lv,t,e)}function Bl(t){var e=Hh(t).split(" ");if(e&&2==e.length)return t=+e[0],e=+e[1],isNaN(t)||isNaN(e)?void 0:[t,e]}function Ul(t,e,i){zt.call(this),Wl(this,t,e?e:0,i)}function Wl(t,e,i,n){if(e){Zt(t,n,e,0),t.u||(t.u=[]),n=t.u,e=Jt(n,e,t.a),n[e++]=n[0]+i;var o;for(i=1,o=t.a;i<o;++i)n[e++]=n[i];n.length=e}else Yt(t,"XY",null);t.B()}function Vl(t,e,i,n,o){qi.call(this,t,e),this.c=i,this.f=new Image,null!==n&&(this.f.crossOrigin=n),this.b=null,this.i=o}function Gl(t){t.b.forEach(T),t.b=null}function Xl(){return[[-(1/0),-(1/0),1/0,1/0]]}function zl(t){t=t||{},ya.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.o=o,this.C=t.format,this.X=void 0==t.overlaps||t.overlaps,this.G=t.url,void 0!==t.loader?this.o=t.loader:void 0!==this.G&&(a(this.C,7),this.o=ah(this.G,this.C)),this.Z=void 0!==t.strategy?t.strategy:Xl;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;this.ba=e?new Dr:null,this.v=new Dr,this.ta={},this.b={},this.g={},this.j={},this.a=null;var i,n;t.features instanceof qe?(i=t.features,n=i.a):Array.isArray(t.features)&&(n=t.features),e||void 0!==i||(i=new qe(n)),void 0!==n&&Zl(this,n),void 0!==i&&Jl(this,i)}function Hl(t,e,i){console.assert(!(e in t.j),"key (%s) not yet registered in featureChangeKey",e),t.j[e]=[w(i,"change",t.Ed,t),w(i,Xu,t.Ed,t)]}function Yl(t,e,i){var n=!0,o=i.a;return void 0!==o?o.toString()in t.b?n=!1:t.b[o.toString()]=i:(a(!(e in t.g),30),t.g[e]=i),n}function Zl(t,e){var i,n,o,r,a=[],h=[],l=[];for(n=0,o=e.length;n<o;n++)r=e[n],i=s(r).toString(),Yl(t,i,r)&&h.push(r);for(n=0,o=h.length;n<o;n++){r=h[n],i=s(r).toString(),Hl(t,i,r);var u=r.V();u?(i=u.L(),a.push(i),l.push(r)):t.ta[i]=r}for(t.ba&&t.ba.load(a,l),n=0,o=h.length;n<o;n++)P(t,new Ql(wv,h[n]))}function Jl(t,e){console.assert(!t.a,"bindFeaturesCollection can only be called once");var i=!1;w(t,wv,function(t){i||(i=!0,e.push(t.feature),i=!1)}),w(t,Nv,function(t){i||(i=!0,e.remove(t.feature),i=!1)}),w(e,ec,function(t){i||(i=!0,this.lc(t.element),i=!1)},t),w(e,ic,function(t){if(!i){i=!0,t=t.element;var e=s(t).toString();e in this.ta?delete this.ta[e]:this.ba&&this.ba.remove(t),this.Kc(t),this.B(),i=!1}},t),t.a=e}function Kl(t,e,i,n){t.ba?kr(t.ba,e,i,n):t.a&&t.a.forEach(i,n)}function ql(t,e,i,n){var o=t.v;e=t.Z(e,i);var s,r;for(s=0,r=e.length;s<r;++s){var a=e[s];kr(o,a,function(t){return ot(t.extent,a)})||(t.o.call(t,a,i,n),o.Na(a,{extent:a.slice()}))}}function $l(t,e){var i,n=!1;for(i in t.b)if(t.b[i]===e){delete t.b[i],n=!0;break}return n}function Ql(t,e){A.call(this,t),this.feature=e}function tu(t){mn.call(this,{handleDownEvent:nu,handleEvent:iu,handleUpEvent:ou}),this.ea=null,this.l=!1,this.Ka=t.source?t.source:null,this.Da=t.features?t.features:null,this.pe=t.snapTolerance?t.snapTolerance:12,this.O=t.type,this.c=fu(this.O),this.Ca=t.minPoints?t.minPoints:this.c===Av?3:2,this.xa=t.maxPoints?t.maxPoints:1/0,this.gc=t.finishCondition?t.finishCondition:Et;var e=t.geometryFunction;if(!e)if("Circle"===this.O)e=function(t,e){var i=e?e:new Ul([NaN,NaN]),n=t[0],o=t[1],s=n[0]-o[0],n=n[1]-o[1];return Wl(i,t[0],Math.sqrt(s*s+n*n)),i};else{var i,n=this.c;n===Sv?i=ne:n===Lv?i=ph:n===Av&&(i=ue),e=function(t,e){var o=e;return o?n===Av?o.ha([t[0].concat([t[0][0]])]):o.ha(t):o=new i(t),o}}this.C=e,this.I=this.s=this.a=this.o=this.g=this.j=null,this.Ra=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ia=new Bo({source:new zl({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:eu()}),this.Ea=t.geometryName,this.he=t.condition?t.condition:vn,this.kc=t.freehand?Et:t.freehandCondition?t.freehandCondition:gn,w(this,R(Lc),this.Fb,this)}function eu(){var t=Oo();return function(e){return t[e.V().ca()]}}function iu(t){this.l=this.c!==Sv&&this.kc(t);var e=!this.l;return this.l&&"pointerdrag"===t.type&&null!==this.g?(hu(this,t),e=!1):"pointermove"===t.type?e=su(this,t):"dblclick"===t.type&&(e=!1),En.call(this,t)&&e}function nu(t){return this.l?(this.ea=t.pixel,this.j||au(this,t),!0):!!this.he(t)&&(this.ea=t.pixel,!0)}function ou(t){var e=this.ea,i=t.pixel,n=e[0]-i[0],e=e[1]-i[1],n=n*n+e*e,e=!0,i=this.c===Cv;return(this.l?n>this.Ra:n<=this.Ra)?(su(this,t),this.j?this.l||i?lu(this):ru(this,t)?this.gc(t)&&lu(this):hu(this,t):(au(this,t),this.c===Sv&&lu(this)),e=!1):i&&(this.j=null),e}function su(t,e){if(t.j){var i,n=e.coordinate,o=t.g.V();t.c===Sv?i=t.a:t.c===Av?(i=t.a[0],i=i[i.length-1],ru(t,e)&&(n=t.j.slice())):(i=t.a,i=i[i.length-1]),i[0]=n[0],i[1]=n[1],console.assert(t.a,"sketchCoords_ expected"),t.C(t.a,o),t.o&&t.o.V().ha(n),o instanceof ue&&t.c!==Av?(t.s||(t.s=new Ba(new ph(null))),console.assert(0<o.c.length,"index should be in between 0 and and length of this.ends_"),0>=o.c.length?n=null:(n=new ie(null),Yt(n,o.Y,o.u.slice(0,o.c[0])),n.B()),o=t.s.V(),o.W(n.Y,n.u)):t.I&&(o=t.s.V(),o.ha(t.I)),cu(t)}else o=e.coordinate.slice(),t.o?t.o.V().ha(o):(t.o=new Ba(new ne(o)),cu(t));return!0}function ru(t,e){var i=!1;if(t.g){var n=!1,o=[t.j];if(t.c===Lv?n=t.a.length>t.Ca:t.c===Av&&(n=t.a[0].length>t.Ca,o=[t.a[0][0],t.a[0][t.a[0].length-2]]),n)for(var n=e.map,s=0,r=o.length;s<r;s++){var a=o[s],h=Ia(n,a),l=e.pixel,i=l[0]-h[0],h=l[1]-h[1];if(i=Math.sqrt(i*i+h*h)<=(t.l?1:t.pe)){t.j=a;break}}}return i}function au(t,e){var i=e.coordinate;t.j=i,t.c===Sv?t.a=i.slice():t.c===Av?(t.a=[[i.slice(),i.slice()]],t.I=t.a[0]):(t.a=[i.slice(),i.slice()],t.c===Cv&&(t.I=t.a)),t.I&&(t.s=new Ba(new ph(t.I))),i=t.C(t.a),console.assert(void 0!==i,"geometry should be defined"),t.g=new Ba,t.Ea&&Ua(t.g,t.Ea),t.g.Ga(i),cu(t),P(t,new du(_v,t.g))}function hu(t,e){var i,n,o=e.coordinate,s=t.g.V();t.c===Lv?(t.j=o.slice(),n=t.a,n.length>=t.xa&&(t.l?n.pop():i=!0),n.push(o.slice()),t.C(n,s)):t.c===Av&&(n=t.a[0],n.length>=t.xa&&(t.l?n.pop():i=!0),n.push(o.slice()),i&&(t.j=n[0]),t.C(t.a,s)),cu(t),i&&lu(t)}function lu(t){var e=uu(t),i=t.a,n=e.V();t.c===Lv?(i.pop(),t.C(i,n)):t.c===Av&&(i[0].pop(),t.C(i,n),i=n.sa()),"MultiPoint"===t.O?e.Ga(new xh([i])):"MultiLineString"===t.O?e.Ga(new gh([i])):"MultiPolygon"===t.O&&e.Ga(new Eh([i])),P(t,new du(Pv,e)),t.Da&&t.Da.push(e),t.Ka&&t.Ka.lc(e)}function uu(t){t.j=null;var e=t.g;return e&&(t.g=null,t.o=null,t.s=null,t.ia.na().clear(!0)),e}function cu(t){var e=[];t.g&&e.push(t.g),t.s&&e.push(t.s),t.o&&e.push(t.o),t=t.ia.na(),t.clear(!0),t.mc(e)}function fu(t){var e;return"Point"===t||"MultiPoint"===t?e=Sv:"LineString"===t||"MultiLineString"===t?e=Lv:"Polygon"===t||"MultiPolygon"===t?e=Av:"Circle"===t&&(e=Cv),e}function du(t,e){A.call(this,t),this.feature=e}function pu(t,e,i,n,o,s,r,a,l,u,c){if(qi.call(this,o,0),this.v=void 0!==c&&c,this.o=r,this.s=a,this.l=null,this.b=e,this.i=n,this.g=s?s:o,this.f=[],this.Va=null,this.c=0,s=We(n,this.g),a=this.i.L(),o=this.b.L(),s=a?bt(s,a):s,0===dt(s))this.state=4;else if((a=t.L())&&(o=o?bt(o,a):a),a=ke(n,this.g[0]),c=pt(s),n=Ot(i,t)(c,void 0,c.length),a=Ct(i,a,c),c=St(i),void 0!==c&&(a*=c),c=St(t),void 0!==c&&(a/=c),n=Ct(t,a,n)/a,isFinite(n)&&0<n&&(a/=n),n=a,!isFinite(n)||0>=n)this.state=4;else if(this.j=new va(t,i,s,o,n*(void 0!==u?u:.5)),0===this.j.c.length)this.state=4;else if(this.c=ze(e,n),i=ba(this.j),o&&(t.f?(i[1]=h(i[1],o[1],o[3]),i[3]=h(i[3],o[1],o[3])):i=bt(i,o)),dt(i))if(t=Be(e,i,this.c),100>(t.M-t.N+1)*(t.S-t.P+1)){for(e=t.N;e<=t.M;e++)for(i=t.P;i<=t.S;i++)(u=l(this.c,e,i,r))&&this.f.push(u);0===this.f.length&&(this.state=4)}else console.assert(!1,"reasonable number of tiles is required"),this.state=3;else this.state=4}function vu(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,s=/\{-y\}/g;return function(r){if(r)return t.replace(i,r[0].toString()).replace(n,r[1].toString()).replace(o,function(){return(-r[2]-1).toString()}).replace(s,function(){var t=Xe(e,r[0]);return a(t,55),(t.S-t.P+1+r[2]).toString()})}}function gu(t,e){for(var i=t.length,n=Array(i),o=0;o<i;++o)n[o]=vu(t[o],e);return bu(n)}function bu(t){return console.assert(0<t.length,"Length of tile url functions should be greater than 0"),1===t.length?t[0]:function(e,i,n){if(e)return t[u((e[1]<<e[0])+e[2],t.length)](e,i,n)}}function yu(){}function mu(t){Na.call(this),this.i=void 0!==t?t:2048}function xu(t){return t.c>t.i}function Eu(t){ya.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.Z=void 0!==t.opaque&&t.opaque,this.ia=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new mu(t.cacheSize),this.j=[0,0],this.Fa=""}function wu(t,e,i,n,o){if(e=t.yb(e),!e)return!1;for(var s,r,a=!0,h=n.N;h<=n.M;++h)for(var l=n.P;l<=n.S;++l)s=t.Rb(i,h,l),r=!1,Sa(e,s)&&(s=e.get(s),(r=s.da()===Sc)&&(r=!1!==o(s))),r||(a=!1);return a}function Mu(t,e,i,n){return n=t.Ja(n),i=t.zb(i),e=De(Ge(n,e),t.j),1==i?e:Pe(e,i,t.j)}function Tu(t,e,i){var n=void 0!==i?i:t.c;if(i=t.Ja(n),t.l&&n.b){var o=e;t=o[0],e=Ue(i,o);var n=Je(n),s=e[0],r=e[1];n[0]<=s&&s<=n[2]&&n[1]<=r&&r<=n[3]?e=o:(o=yt(n),e[0]+=o*Math.ceil((n[0]-e[0])/o),t=ke(i,t),e=Ve(i,e[0],e[1],t,!1,void 0))}return n=e[0],t=e[1],o=e[2],i=!(i.minZoom>n||n>i.maxZoom)&&(!(i=(s=i.L())?Be(i,s,n):Xe(i,n))||Ae(i,t,o)),i?e:null}function Nu(t,e){A.call(this,t),this.tile=e}function Su(t){if(Eu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.g?this.g.bind(this):yu,this.urls=null,t.urls){var e=t.urls;this.urls=e;var i=e.join("\n");Lu(this,this.g?this.g.bind(this):gu(e,this.tileGrid),i)}else t.url&&this.C(t.url);t.tileUrlFunction&&Lu(this,t.tileUrlFunction)}function Lu(t,e,i){t.tileUrlFunction=e,"undefined"!=typeof i?t.Fa!==i&&(t.Fa=i,t.B()):t.B()}function Au(t){Su.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Du,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Vl,this.b={},this.v={},this.ea=t.reprojectionErrorThreshold}function Cu(t,e,i,n,o,s,r){return e=[e,i,n],o=(i=Tu(t,e,s))?t.tileUrlFunction(i,o,s):void 0,o=new t.tileClass(e,void 0!==o?0:4,void 0!==o?o:"",t.crossOrigin,t.tileLoadFunction),o.key=r,w(o,"change",t.X,t),o}function _u(t,e,i,n,o,s){if(t.c&&s&&!kt(t.c,s)){var r=t.yb(s);n=[e,i,n];var a;if(e=t.Rb.apply(t,n),Sa(r,e)&&(a=r.get(e)),i=t.getKey(),a&&a.key==i)return a;var h=t.c,l=t.Ja(h),u=t.Ja(s),c=Tu(t,n,s);return t=new pu(h,l,s,u,n,c,t.zb(o),0,function(t,e,i,n){return Pu(this,t,e,i,n,h)}.bind(t),t.ea,!1),t.key=i,a?(t.a=a,r.replace(e,t)):r.set(e,t),t}return Pu(t,e,i,n,o,s)}function Pu(t,e,i,n,o,s){var r,a=t.Rb(e,i,n),h=t.getKey();if(Sa(t.a,a)){if(r=t.a.get(a),r.key!=h){var l=r;if(r=Cu(t,e,i,n,o,s,h),0==l.da()?r.a=l.a:r.a=l,r.a){e=r.a,i=r;do{if(e.da()==Sc){e.a=null;break}1==e.da()?i=e:0==e.da()?i.a=e.a:i=e,e=i.a}while(e)}t.a.replace(a,r)}}else r=Cu(t,e,i,n,o,s,h),t.a.set(a,r);return r}function Du(t,e){t.gb().src=e}function Iu(t){t=t||{};var e,i=void 0!==t.projection?t.projection:"EPSG:3857";if(void 0!==t.tileGrid)e=t.tileGrid;else{e={extent:Je(i),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize};var n={};Vu(n,void 0!==e?e:{}),void 0===n.extent&&(n.extent=Rt("EPSG:3857").L()),n.resolutions=Ze(n.extent,n.maxZoom,n.tileSize),delete n.maxZoom,e=new Ie(n)}Au.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:i,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:e,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function ju(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+n}function Ru(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[Dv],Iu.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function ku(t){t=t||{},Au.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.o=t.params||{},this.G=st();var e;t=0;var i=[];for(e in this.o)i[t++]=e+"-"+this.o[e];e=i.join("/"),this.Fa!==e&&(this.Fa=e,this.B())}var Ou,Fu,Bu=this,Uu=0;i(r,Error);var Wu=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),Vu="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||!t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;n<o;++n){var s=arguments[n];if(void 0!==s&&null!==s)for(var r in s)s.hasOwnProperty(r)&&(i[r]=s[r])}return i};S.prototype.Ha=!1,S.prototype.aa=o,A.prototype.preventDefault=A.prototype.stopPropagation=function(){this.sf=!0},i(_,S),_.prototype.addEventListener=function(t,e){var i=this.A[t];i||(i=this.A[t]=[]),-1===i.indexOf(e)&&i.push(e)},_.prototype.aa=function(){N(this)},_.prototype.removeEventListener=function(t,e){var i=this.A[t];if(i){var n=i.indexOf(e);console.assert(-1!=n,"listener not found"),t in this.la?(i[n]=o,++this.la[t]):(i.splice(n,1),0===i.length&&delete this.A[t])}},i(I,_),I.prototype.B=function(){++this.f,P(this,"change")},I.prototype.fa=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),s=0;s<n;++s)o[s]=w(this,t[s],e,i);return o}return w(this,t,e,i)},I.prototype.le=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),s=0;s<n;++s)o[s]=w(this,t[s],e,i,!0);return o}return w(this,t,e,i,!0)},i(j,I);var Gu={};j.prototype.get=function(t){var e;return this.T.hasOwnProperty(t)&&(e=this.T[t]),e},j.prototype.J=function(){return Vu({},this.T)},j.prototype.set=function(t,e,i){i?this.T[t]=e:(i=this.T[t],this.T[t]=e,i!==e&&(e=R(t),P(this,new k(e,t,i)),e=Xu,P(this,new k(e,t,i))))},j.prototype.i=function(t,e){for(var i in t)this.set(i,t[i],e)};var Xu="propertychange";i(k,A),Mt.prototype.offset=function(t,e,i){var n=t[1]*Math.PI/180;e/=this.radius;var o=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(t[0]*Math.PI/180+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(o)))/Math.PI,180*o/Math.PI]};var zu=new Mt(6370997),Hu={};Hu.degrees=2*Math.PI*zu.radius/360,Hu.ft=.3048,Hu.m=1,Hu["us-ft"]=1200/3937,Nt.prototype.j=function(){return this.Ia},Nt.prototype.L=function(){return this.i};var Yu={},Zu={};i(Vt,j),Vt.prototype.L=function(t){this.C!=this.f&&(this.v=this.Ob(this.v),this.C=this.f);var e=this.v;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Vt.prototype.s=function(t,e){return console.assert("tile-pixels"!==Rt(t).a&&"tile-pixels"!==Rt(e).a,"cannot transform geometries with TILE_PIXELS units"),this.Lb(Ot(t,e)),this},i(zt,Vt),Ou=zt.prototype,Ou.Ob=function(t){var e=this.u,i=this.u.length,n=this.a;return t=at(t),ft(t,e,0,i,n)},Ou.yc=function(t){if(this.o!=this.f&&(p(this.g),this.j=0,this.o=this.f),0>t||0!==this.j&&t<=this.j)return this;var e=t.toString();if(this.g.hasOwnProperty(e))return this.g[e];var i=this.$a(t);return i.u.length<this.u.length?this.g[e]=i:(this.j=t,this)},Ou.$a=function(){return this},Ou.Lb=function(t){this.u&&(t(this.u,this.u,this.a),this.B())},Ou.rotate=function(t,e){var i=this.u;if(i){for(var n=i.length,o=this.a,s=i?i:[],r=Math.cos(t),a=Math.sin(t),h=e[0],l=e[1],u=0,c=0;c<n;c+=o){var f=i[c]-h,d=i[c+1]-l;for(s[u++]=h+f*r-d*a,s[u++]=l+f*a+d*r,f=c+2;f<c+o;++f)s[u++]=i[f]}i&&s.length!=u&&(s.length=u),this.B()}},Ou.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;if(o||(o=pt(this.L())),i=this.u){e=i.length;for(var s=this.a,r=i?i:[],a=o[0],o=o[1],h=0,l=0;l<e;l+=s){var u=i[l]-a,c=i[l+1]-o;for(r[h++]=a+t*u,r[h++]=o+n*c,u=l+2;u<l+s;++u)r[h++]=i[u]}i&&r.length!=h&&(r.length=h),this.B()}},Ou.translate=function(t,e){var i=this.u;i&&(Xt(i,i.length,this.a,t,e,i),this.B())},i(ie,zt),Ou=ie.prototype,Ou.clone=function(){var t=new ie(null);return Yt(t,this.Y,this.u.slice()),t.B(),t},Ou.sa=function(){return $t(this.u,0,this.u.length,this.a)},Ou.$a=function(t){var e=[];return e.length=te(this.u,0,this.u.length,this.a,t,e,0),t=new ie(null),Yt(t,"XY",e),t.B(),t},Ou.ca=function(){return"LinearRing"},Ou.ha=function(t,e){t?(Zt(this,e,t,1),this.u||(this.u=[]),this.u.length=Kt(this.u,0,t,this.a)):Yt(this,"XY",null),this.B()},i(ne,zt),Ou=ne.prototype,Ou.clone=function(){var t=new ne(null);return t.W(this.Y,this.u.slice()),t},Ou.sa=function(){return this.u?this.u.slice():[]},Ou.Ob=function(t){return ht(this.u,t)},Ou.ca=function(){return"Point"},Ou.ha=function(t,e){t?(Zt(this,e,t,0),this.u||(this.u=[]),this.u.length=Jt(this.u,t,this.a),this.B()):this.W("XY",null)},Ou.W=function(t,e){Yt(this,t,e),this.B()},i(ue,zt),Ou=ue.prototype,Ou.clone=function(){var t=new ue(null);return t.W(this.Y,this.u.slice(),this.c.slice()),t},Ou.sa=function(t){var e;return void 0!==t?(e=de(this).slice(),he(e,0,this.c,this.a,t)):e=this.u,Qt(e,0,this.c,this.a)},Ou.Za=function(){return this.c},Ou.$a=function(t){var e=[],i=[];return e.length=ee(this.u,0,this.c,this.a,Math.sqrt(t),e,0,i),t=new ue(null),t.W("XY",e,i),t},Ou.ca=function(){return"Polygon"},Ou.ha=function(t,e){if(t){Zt(this,e,t,2),this.u||(this.u=[]);var i=qt(this.u,0,t,this.a,this.c);this.u.length=0===i.length?0:i[i.length-1],this.B()}else this.W("XY",null,this.c)},Ou.W=function(t,e,i){e?0===i.length?console.assert(0===e.length,"flatCoordinates should be an empty array"):console.assert(e.length==i[i.length-1],"the length of flatCoordinates should be the last entry of ends"):console.assert(i&&0===i.length,"ends must be an empty array"),Yt(this,t,e),this.c=i,this.B()},i(pe,j),Ou=pe.prototype,Ou.animate=function(t){var e,i=Date.now(),n=this.ya().slice(),o=xe(this),s=we(this),r=arguments.length;1<r&&"function"==typeof arguments[r-1]&&(e=arguments[r-1],--r);for(var a=[],h=0;h<r;++h){var l=arguments[h],u={start:i,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||Q};l.center&&(u.Nc=n,u.Pc=l.center,n=u.Pc),void 0!==l.zoom?(u.bc=o,u.cc=this.constrainResolution(this.c,l.zoom-this.j,0),o=u.cc):l.resolution&&(u.bc=o,u.cc=l.resolution,o=u.cc),void 0!==l.rotation&&(u.Oc=s,u.Md=l.rotation,s=u.Md),u.Nb=e,i+=u.duration,a.push(u)}this.a.push(a),Te(this,$u,1),this.ec()},Ou.ec=function(){if(void 0!==this.s&&(cancelAnimationFrame(this.s),this.s=void 0),ve(this)){for(var t=Date.now(),e=!1,i=this.a.length-1;0<=i;--i){for(var n=this.a[i],o=!0,s=0,r=n.length;s<r;++s){var a=n[s];if(!a.complete){if(e=t-a.start,e=0<a.duration?e/a.duration:1,1<=e?(a.complete=!0,e=1):o=!1,e=a.easing(e),a.Nc){var h=a.Nc[0],l=a.Nc[1];this.set(Ju,[h+e*(a.Pc[0]-h),l+e*(a.Pc[1]-l)])}if(a.bc&&(h=a.bc+e*(a.cc-a.bc),a.anchor&&this.set(Ju,ye(this,h,a.anchor)),this.set(Ku,h)),void 0!==a.Oc&&(e=a.Oc+e*(a.Md-a.Oc),a.anchor&&this.set(Ju,be(this,e,a.anchor)),this.set(qu,e)),e=!0,!a.complete)break}}o&&(this.a[i]=null,Te(this,$u,-1),(n=n[0].Nb)&&n(!0))}this.a=this.a.filter(Boolean),e&&void 0===this.s&&(this.s=requestAnimationFrame(this.ec))}},Ou.constrainResolution=function(t,e,i){return this.g.resolution(t,e||0,i||0)},Ou.constrainRotation=function(t,e){return this.g.rotation(t,e||0)},Ou.ya=function(){return this.get(Ju)},Ou.dd=function(t){var e=this.ya();a(e,1);var i=xe(this);a(void 0!==i,2);var n=we(this);return a(void 0!==n,3),vt(e,i,n,t)},Ou.df=function(){return this.v},Ou.da=function(){console.assert(Me(this),"the view was not defined (had no center and/or resolution)");var t=this.ya(),e=this.v,i=xe(this),n=we(this);return{center:t.slice(),projection:void 0!==e?e:null,resolution:i,rotation:n}},Ou.ne=function(){var t,e=xe(this);if(void 0!==e&&e>=this.o&&e<=this.c){t=this.j||0;var i,n;if(this.l){if(n=F(this.l,e,1),t+=n,n==this.l.length-1)return t;i=this.l[n],n=i/this.l[n+1]}else i=this.c,n=this.C;t+=Math.log(i/e)/Math.log(n)}return t},Ou.ie=function(t,e,i){if(!(t instanceof zt)){a(Array.isArray(t),24),a(!xt(t),25);var n=t[0],o=t[1],s=t[2],r=t[3],n=[n,o,n,r,s,r,s,o,n,o],o=new ue(null);o.W("XY",n,[n.length]),t=o}i=i||{};var h,o=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0===i.constrainResolution||i.constrainResolution,r=void 0!==i.nearest&&i.nearest;h=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.c,i.maxZoom-this.j,0):0;var u=t.u,s=we(this);console.assert(void 0!==s,"rotation was not defined");var n=Math.cos(-s),s=Math.sin(-s),c=1/0,f=1/0,d=-(1/0),p=-(1/0);t=t.a;for(var v=0,g=u.length;v<g;v+=t)var b=u[v]*n-u[v+1]*s,y=u[v]*s+u[v+1]*n,c=Math.min(c,b),f=Math.min(f,y),d=Math.max(d,b),p=Math.max(p,y);e=Ee([c,f,d,p],[e[0]-o[1]-o[3],e[1]-o[0]-o[2]]),e=isNaN(e)?h:Math.max(e,h),l&&(h=this.constrainResolution(e,0,0),!r&&h<e&&(h=this.constrainResolution(h,-1,0)),e=h),s=-s,h=(c+d)/2+(o[1]-o[3])/2*e,o=(f+p)/2+(o[0]-o[2])/2*e,h=[h*n-o*s,o*n+h*s],void 0!==i.duration?this.animate({resolution:e,center:h,duration:i.duration,easing:i.easing}):(Ne(this,e),this.Oa(h))},Ou.rotate=function(t,e){if(void 0!==e){var i=be(this,t,e);this.Oa(i)}this.set(qu,t),ve(this)&&ge(this)},Ou.Oa=function(t){this.set(Ju,t),ve(this)&&ge(this)},Ou.Ef=function(t){t=this.constrainResolution(this.c,t-this.j,0),Ne(this,t)};var Ju="center",Ku="resolution",qu="rotation",$u=0,Qu=[0,0,0];Ie.prototype.L=function(){return this.l},i(qe,j),Ou=qe.prototype,Ou.clear=function(){for(;0<this.get(tc);)this.pop()},Ou.forEach=function(t,e){this.a.forEach(t,e)},Ou.item=function(t){return this.a[t]},Ou.pop=function(){return $e(this,this.get(tc)-1)},Ou.push=function(t){var e=this.get(tc);return this.a.splice(e,0,t),Qe(this),P(this,new ti(ec,t)),this.get(tc)},Ou.remove=function(t){var e,i,n=this.a;for(e=0,i=n.length;e<i;++e)if(n[e]===t)return $e(this,e)};var tc="length",ec="add",ic="remove";i(ti,A);var nc=/^#(?:[0-9a-f]{3}){1,2}$/i,oc=/^([a-z]*)$/i,sc=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(1024<=e){n=0;for(var o in t)0===(3&n++)&&(delete t[o],--e)}n=i;var s;if(oc.exec(n)&&(o=document.createElement("div"),o.style.color=n,document.body.appendChild(o),n=getComputedStyle(o).color,document.body.removeChild(o)),nc.exec(n)){s=n.length-1,a(3==s||6==s,54);var r=3==s?1:2;s=parseInt(n.substr(1+0*r,r),16),o=parseInt(n.substr(1+1*r,r),16),n=parseInt(n.substr(1+2*r,r),16),1==r&&(s=(s<<4)+s,o=(o<<4)+o,n=(n<<4)+n),s=[s,o,n,1]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),s=ni(n)):0==n.indexOf("rgb(")?(n=n.slice(4,-1).split(",").map(Number),n.push(1),s=ni(n)):a(!1,14);n=s,t[i]=n,++e}return n}}();i(li,A),i(ui,j),ui.prototype.aa=function(){hi(this.element),j.prototype.aa.call(this)},ui.prototype.setMap=function(t){this.c&&hi(this.element);for(var e=0,i=this.j.length;e<i;++e)T(this.j[e]);this.j.length=0,(this.c=t)&&((this.I?this.I:t.s).appendChild(this.element),this.render!==o&&this.j.push(w(t,"postrender",this.render,this)),t.render())},i(ci,ui),ci.prototype.X=function(t){t.preventDefault(),this.element.classList.toggle("ol-collapsed"),this.g?ai(this.s,this.o):ai(this.o,this.s),this.g=!this.g},i(di,ui),di.prototype.v=function(t){t.preventDefault(),pi()&&(t=this.c)&&(vi()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.b?"string"==typeof this.b?document.getElementById(this.b):this.b:t.ab(),this.o?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):gi(t):gi(t)))},di.prototype.s=function(){var t=this.element.firstElementChild,e=this.c;vi()?(t.className=this.a+"-true",ai(this.l,this.g)):(t.className=this.a+"-false",ai(this.g,this.l)),e&&e.fc()},di.prototype.setMap=function(t){ui.prototype.setMap.call(this,t),t&&this.j.push(w(document,rc(),this.s,this))};var rc=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();i(bi,ui),bi.prototype.o=function(t){t.preventDefault(),void 0!==this.g?this.g():(t=this.c.$())&&void 0!==we(t)&&(0<this.l?t.animate({rotation:0,duration:this.l,easing:$}):(t.set(qu,0),ve(t)&&ge(t)))},i(mi,ui),mi.prototype.b=function(t,e){e.preventDefault();var i=this.c.$();if(i){var n=xe(i);n&&(n=i.constrainResolution(n,t),0<this.a?(ve(i)&&ge(i),i.animate({resolution:n,duration:this.a,easing:$})):Ne(i,n))}},i(Ei,li),Ei.prototype.preventDefault=function(){li.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Ei.prototype.stopPropagation=function(){li.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var ac={Xf:"singleclick",Lf:"click",Mf:"dblclick",Pf:"pointerdrag",Sf:"pointermove",Of:"pointerdown",Vf:"pointerup",Uf:"pointerover",Tf:"pointerout",Qf:"pointerenter",Rf:"pointerleave",Nf:"pointercancel"};i(wi,Ei);var hc,lc=["experimental-webgl","webgl","webkit-3d","moz-webgl"],uc="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",cc=-1!==uc.indexOf("firefox"),fc=-1!==uc.indexOf("safari")&&-1==uc.indexOf("chrom"),dc=-1!==uc.indexOf("webkit")&&-1==uc.indexOf("edge"),pc=-1!==uc.indexOf("macintosh"),vc=window.devicePixelRatio||1,gc=!1,bc=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(gc=!0),!0)}catch(t){return!1}}(),yc="ontouchstart"in window,mc="PointerEvent"in window,xc=!!navigator.msPointerEnabled,Ec=!1,wc=[];if("WebGLRenderingContext"in window)try{var Mc=Mi(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});Mc&&(Ec=!0,wc=Mc.getSupportedExtensions())}catch(t){}hc=Ec,Fu=wc,i(Ni,Ti),Ou=Ni.prototype,Ou.Ke=function(t){if(!Si(this,t)){if(1..toString()in this.f){var e=Li(t);Hi(this.a,"pointercancel",e,t),delete this.f[1..toString()]}e=Li(t),this.f[1..toString()]=t,Hi(this.a,"pointerdown",e,t)}},Ou.Le=function(t){if(!Si(this,t)){var e=Li(t);Hi(this.a,"pointermove",e,t)}},Ou.Oe=function(t){if(!Si(this,t)){var e=this.f[1..toString()];e&&e.button===t.button&&(e=Li(t),Hi(this.a,"pointerup",e,t),delete this.f[1..toString()])}},Ou.Ne=function(t){if(!Si(this,t)){var e=Li(t);zi(this.a,e,t)}},Ou.Me=function(t){if(!Si(this,t)){var e=Li(t);Xi(this.a,e,t)}},i(Ai,Ti),Ou=Ai.prototype,Ou.Te=function(t){this.f[t.pointerId.toString()]=t;var e=Ci(this,t);Hi(this.a,"pointerdown",e,t)},Ou.Ue=function(t){var e=Ci(this,t);Hi(this.a,"pointermove",e,t)},Ou.Xe=function(t){var e=Ci(this,t);Hi(this.a,"pointerup",e,t),delete this.f[t.pointerId.toString()]},Ou.Ve=function(t){var e=Ci(this,t);Xi(this.a,e,t)},Ou.We=function(t){var e=Ci(this,t);zi(this.a,e,t)},Ou.Se=function(t){var e=Ci(this,t);Hi(this.a,"pointercancel",e,t),delete this.f[t.pointerId.toString()]},Ou.Re=function(t){P(this.a,new Pi("lostpointercapture",t,t))},Ou.Qe=function(t){P(this.a,new Pi("gotpointercapture",t,t))},i(_i,Ti),Ou=_i.prototype,Ou.mf=function(t){Yi(this.a,t)},Ou.nf=function(t){Yi(this.a,t)},Ou.rf=function(t){Yi(this.a,t)},Ou.pf=function(t){Yi(this.a,t)},Ou.qf=function(t){Yi(this.a,t)},Ou.lf=function(t){Yi(this.a,t)},Ou.Ie=function(t){
Yi(this.a,t)},Ou.oe=function(t){Yi(this.a,t)},i(Pi,A);var Tc=!1;try{Tc=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}i(ji,Ti),Ou=ji.prototype,Ou.Jd=function(){this.g=0,this.c=void 0},Ou.Jf=function(t){var e=t.touches,i=Object.keys(this.f),n=i.length;if(n>=e.length){var o,s,r,a=[];for(o=0;o<n;++o){s=i[o],r=this.f[s];var h;if(!(h=1==s))t:{h=e.length;for(var l,u=0;u<h;u++)if(l=e[u],l.identifier===s-2){h=!0;break t}h=!1}h||a.push(r.out)}for(o=0;o<a.length;++o)this.pc(t,a[o])}e=t.changedTouches[0],i=Object.keys(this.f).length,(0===i||1===i&&1..toString()in this.f)&&(this.b=e.identifier,void 0!==this.c&&clearTimeout(this.c)),Oi(this,t),this.g++,ki(this,t,this.kf)},Ou.kf=function(t,e){this.f[e.pointerId]={target:e.target,out:e,Fd:e.target};var i=this.a;e.bubbles=!0,Hi(i,"pointerover",e,t),i=this.a,e.bubbles=!1,Hi(i,"pointerenter",e,t),Hi(this.a,"pointerdown",e,t)},Ou.If=function(t){t.preventDefault(),ki(this,t,this.Pe)},Ou.Pe=function(t,e){var i=this.f[e.pointerId];if(i){var n=i.out,o=i.Fd;Hi(this.a,"pointermove",e,t),n&&o!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=o,n.target=o,e.target?(Xi(this.a,n,t),zi(this.a,e,t)):(e.target=o,e.relatedTarget=null,this.pc(t,e))),i.out=e,i.Fd=e.target}},Ou.Hf=function(t){Oi(this,t),ki(this,t,this.Kf)},Ou.Kf=function(t,e){Hi(this.a,"pointerup",e,t),this.a.out(e,t),Gi(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.b=void 0,this.c=setTimeout(this.Jd.bind(this),200))},Ou.Gf=function(t){ki(this,t,this.pc)},Ou.pc=function(t,e){Hi(this.a,"pointercancel",e,t),this.a.out(e,t),Gi(this.a,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.b=void 0,this.c=setTimeout(this.Jd.bind(this),200))},i(Fi,_),Fi.prototype.b=function(t){var e=this.c[t.type];e&&e(t)},Fi.prototype.out=function(t,e){t.bubbles=!0,Hi(this,"pointerout",t,e)},Fi.prototype.aa=function(){for(var t,e=this.a.length,i=0;i<e;i++)t=this.a[i],Wi(this,Object.keys(t.i));_.prototype.aa.call(this)};var Nc=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];i(Zi,_),Ou=Zi.prototype,Ou.od=function(t){Ki(this,t);var e=new wi("pointerup",this.b,t);P(this,e),this.j||0!==t.button||(console.assert(this.a,"this.down_ must be truthy"),Ji(this,this.a)),console.assert(0<=this.l,"this.activePointers_ should be equal to or larger than 0"),0===this.l&&(this.c.forEach(T),this.c.length=0,this.j=!1,this.a=null,L(this.f),this.f=null)},Ou.ye=function(t){Ki(this,t);var e=new wi("pointerdown",this.b,t);P(this,e),this.a=t,0===this.c.length&&(this.f=new Fi(document),this.c.push(w(this.f,"pointermove",this.cf,this),w(this.f,"pointerup",this.od,this),w(this.i,"pointercancel",this.od,this)))},Ou.cf=function(t){if(t.clientX!=this.a.clientX||t.clientY!=this.a.clientY){this.j=!0;var e=new wi("pointerdrag",this.b,t,this.j);P(this,e)}t.preventDefault()},Ou.xf=function(t){P(this,new wi(t.type,this.b,t,!(!this.a||t.clientX==this.a.clientX&&t.clientY==this.a.clientY)))},Ou.aa=function(){this.o&&(T(this.o),this.o=null),this.s&&(T(this.s),this.s=null),this.c.forEach(T),this.c.length=0,this.f&&(L(this.f),this.f=null),this.i&&(L(this.i),this.i=null),_.prototype.aa.call(this)},i(qi,_),qi.prototype.B=function(){P(this,"change")},qi.prototype.getKey=function(){return this.key+"/"+this.ka},qi.prototype.da=function(){return this.state};var Sc=2;Qi.prototype.clear=function(){this.a.length=0,this.b.length=0,p(this.f)},Qi.prototype.j=function(t){a(!(this.g(t)in this.f),31);var e=this.s(t);return 1/0!=e&&(this.a.push(t),this.b.push(e),this.f[this.g(t)]=!0,nn(this,0,this.a.length-1),!0)},i(sn,Qi),sn.prototype.j=function(t){var e=Qi.prototype.j.call(this,t);return e&&w(t[0],"change",this.l,this),e},sn.prototype.l=function(t){t=t.target;var e=t.da();e!==Sc&&3!==e&&4!==e&&5!==e||(M(t,"change",this.l,this),t=t.getKey(),t in this.c&&(delete this.c[t],--this.i),this.o()),console.assert(Object.keys(this.c).length===this.i)},i(an,j),an.prototype.setMap=function(t){this.Z=t};var Lc="active";i(cn,an),i(mn,an),mn.prototype.G=function(t){return t},i(wn,mn),wn.prototype.G=wt,i(Sn,mn),Sn.prototype.G=wt,i(_n,S),_n.prototype.aa=function(){this.setMap(null)},_n.prototype.setMap=function(t){if(this.a){this.a.o.removeChild(this.f);var e=this.f.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.o.appendChild(this.f)},_n.prototype.V=function(){return this.c},i(In,mn),In.prototype.V=function(){return this.a.V()},In.prototype.g=o;var Ac="boxstart",Cc="boxdrag",_c="boxend";i(Fn,A),i(Bn,In),Bn.prototype.g=function(){var t=this.Z,e=t.$(),i=t.fb(),n=this.V().L();if(this.o){var o,s,r=e.dd(i),n=[Ia(t,[n[0],n[1]]),Ia(t,[n[2],n[3]])],t=at(void 0);for(o=0,s=n.length;o<s;++o)ct(t,n[o]);t=1/Ee(t,i),n=(r[2]-r[0])/2*(t-1),t=(r[3]-r[1])/2*(t-1),r[0]-=n,r[2]+=n,r[1]-=t,r[3]+=t,n=r}i=e.constrainResolution(Ee(n,i)),e.animate({resolution:i,center:pt(n),duration:this.s,easing:$})},i(Un,an),i(Vn,an),i(Xn,an),Xn.prototype.s=function(){this.j=void 0,Te(this.Z.$(),1,-1)},Xn.prototype.o=function(t){t=t.$(),ve(t)&&ge(t),ln(t,-h(this.c,-1,1),this.a,this.v),this.g=void 0,this.c=0,this.a=null,this.l=this.b=void 0};var Pc="trackpad",Dc="wheel";i(Hn,mn),Hn.prototype.G=wt,i(Kn,mn),Kn.prototype.G=wt,i(to,j),Ou=to.prototype,Ou.L=function(){return this.get(Rc)},Ou.Cc=function(){return this.get(Ic)},Ou.Ab=function(){return this.get(jc)},Ou.Dc=function(){return this.get(kc)},Ou.vd=function(t){this.set(Ic,t)},Ou.wd=function(t){this.set(jc,t)},Ou.xd=function(t){this.set(kc,t)};var Ic="opacity",jc="visible",Rc="extent",kc="zIndex",Oc="maxResolution",Fc="minResolution";i(io,to),Ou=io.prototype,Ou.Tb=function(){this.Ab()&&this.B()},Ou.ue=function(){this.c.forEach(T),this.c.length=0;var t=this.get(Bc);this.c.push(w(t,ec,this.te,this),w(t,ic,this.ve,this));for(var e in this.a)this.a[e].forEach(T);p(this.a);var i,n,t=t.a;for(e=0,i=t.length;e<i;e++)n=t[e],this.a[s(n).toString()]=[w(n,Xu,this.Tb,this),w(n,"change",this.Tb,this)];this.B()},Ou.te=function(t){t=t.element;var e=s(t).toString();console.assert(!(e in this.a),"listeners already registered"),this.a[e]=[w(t,Xu,this.Tb,this),w(t,"change",this.Tb,this)],this.B()},Ou.ve=function(t){t=s(t.element).toString(),console.assert(t in this.a,"no listeners to unregister"),this.a[t].forEach(T),delete this.a[t],this.B()},Ou.wc=function(t){var e=void 0!==t?t:[],i=e.length;this.get(Bc).forEach(function(t){t.wc(e)}),t=eo(this);var n,o;for(n=e.length;i<n;i++)o=e[i],o.opacity*=t.opacity,o.visible=o.visible&&t.visible,o.maxResolution=Math.min(o.maxResolution,t.maxResolution),o.minResolution=Math.max(o.minResolution,t.minResolution),void 0!==t.extent&&(o.extent=void 0!==o.extent?bt(o.extent,t.extent):t.extent);return e},Ou.zc=function(){return"ready"};var Bc="layers";i(no,Nt);var Uc=6378137*Math.PI,Wc=[-Uc,-Uc,Uc,Uc],Vc=[-180,-85,180,85],Gc="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new no(t)}),Xc=new Mt(6378137);i(ro,Nt);var zc=[-180,-90,180,90],Hc=Math.PI*Xc.radius/180,Yc=[new ro("CRS:84"),new ro("EPSG:4326","neu"),new ro("urn:ogc:def:crs:EPSG::4326","neu"),new ro("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ro("urn:ogc:def:crs:OGC:1.3:CRS84"),new ro("urn:ogc:def:crs:OGC:2:84"),new ro("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ro("urn:x-ogc:def:crs:EPSG:4326","neu")];i(ao,A),i(ho,to),Ou=ho.prototype,Ou.wc=function(t){return t=t?t:[],t.push(eo(this)),t},Ou.na=function(){return this.get("source")||null},Ou.zc=function(){var t=this.na();return t?t.da():"undefined"},Ou.ef=function(){this.B()},Ou.De=function(){this.j&&(T(this.j),this.j=null);var t=this.na();t&&(this.j=w(t,"change",this.ef,this)),this.B()},Ou.setMap=function(t){this.a&&(T(this.a),this.a=null),t||this.B(),this.c&&(T(this.c),this.c=null),t&&(this.a=w(t,"precompose",function(t){var e=eo(this);e.Wb=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[s(this)]=e},this),this.c=w(this,"change",t.render,t),this.B())},Ou.Mc=function(t){this.set("source",t)},uo.prototype.clear=function(){this.a={},this.f=0},uo.prototype.get=function(t,e,i){return t=co(t,e,i),t in this.a?this.a[t]:null},uo.prototype.set=function(t,e,i,n){t=co(t,e,i),this.a[t]=n,++this.f};var Zc=new uo,Jc=Array(6);i(Eo,S),Ou=Eo.prototype,Ou.aa=function(){for(var t in this.b)L(this.b[t])},Ou.pa=function(t,e,i,n,o,r,a){function h(t,i){var r=s(t).toString(),a=e.layerStates[s(i)].Wb;if(!(r in e.skippedFeatureUids)||a)return n.call(o,t,a?i:null)}var l,u=e.viewState,c=u.resolution,f=u.projection,u=t;if(f.f){var f=f.L(),d=yt(f),p=t[0];(p<f[0]||p>f[2])&&(u=[p+d*Math.ceil((f[0]-p)/d),t[1]])}for(f=e.layerStatesArray,d=f.length-1;0<=d;--d){var v=f[d],p=v.layer;if(lo(v,c)&&r.call(a,p)&&(v=To(this,p),p.na()&&(l=v.pa(p.na().l?u:t,e,i,h,o)),l))return l}},Ou.zd=function(t,e,i,n,o){return void 0!==this.pa(t,e,i,Et,this,n,o)},Ou.se=function(){this.s.render()},Ou.Lc=o,Ou.Af=function(t,e){for(var i in this.b)if(!(e&&i in e.layerStates)){var n=i;console.assert(n in this.b,"given layerKey (%s) exists in layerRenderers",n);var o=this.b[n];delete this.b[n],console.assert(n in this.l,"given layerKey (%s) exists in layerRendererListeners",n),T(this.l[n]),delete this.l[n],L(o)}},i(Lo,ho);var Kc="preload",qc="useInterimTilesOnError",$c=[0,0,0,1],Qc=[],tf=[0,0,0,1];i(_o,Co),Ou=_o.prototype,Ou.clone=function(){var t=new _o({fill:this.c?this.c.clone():void 0,points:this.i!==this.f?this.a/2:this.a,radius:this.f,radius2:this.i,angle:this.s,snapToPixel:this.J,stroke:this.b?this.b.clone():void 0,rotation:this.o,rotateWithView:this.v,atlasManager:this.G});return t.l=this.l,t.j=this.j,t},Ou.xb=function(){return this.I},Ou.Ec=function(){return this.D},Ou.Bb=function(){return this.A},Ou.Qb=function(){return this.T},Ou.ld=function(){return this.C},Ou.Cb=function(){return 2},Ou.Db=function(){return this.O},Ou.Ta=function(){return this.fa},Ou.qd=o,Ou.load=o,Ou.Nd=o,Ou.jd=function(t,e,i,n){var o;if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else for(this.i!==this.f&&(this.a*=2),i=0;i<=this.a;i++)n=2*i*Math.PI/this.a-Math.PI/2+this.s,o=0===i%2?this.f:this.i,e.lineTo(t.size/2+o*Math.cos(n),t.size/2+o*Math.sin(n));this.c&&(e.fillStyle=oi(this.c.a),e.fill()),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Ld,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},Ou.hd=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else{this.i!==this.f&&(this.a*=2);var o;for(i=0;i<=this.a;i++)o=2*i*Math.PI/this.a-Math.PI/2+this.s,n=0===i%2?this.f:this.i,e.lineTo(t.size/2+n*Math.cos(o),t.size/2+n*Math.sin(o))}e.fillStyle=$c,e.fill(),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Ld,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},i(Po,_o),Po.prototype.clone=function(){var t=new Po({fill:this.c?this.c.clone():void 0,stroke:this.b?this.b.clone():void 0,radius:this.f,snapToPixel:this.J,atlasManager:this.G});return t.l=this.l,t.j=this.j,t},Do.prototype.clone=function(){var t=this.a;return new Do({color:t&&t.slice?t.slice():t||void 0})},Io.prototype.clone=function(){var t=this.a;return new Io({color:t&&t.slice?t.slice():t||void 0,lineCap:this.c,lineDash:this.f?this.f.slice():void 0,lineJoin:this.i,miterLimit:this.g,width:this.b})},Io.prototype.setLineDash=function(t){this.f=t,this.j=void 0},jo.prototype.clone=function(){var t=this.V();return t&&t.clone&&(t=t.clone()),new jo({geometry:t,fill:this.b?this.b.clone():void 0,image:this.c?this.c.clone():void 0,stroke:this.f?this.f.clone():void 0,text:this.ma()?this.ma().clone():void 0,zIndex:this.a})},jo.prototype.V=function(){return this.g},jo.prototype.ma=function(){return this.j},jo.prototype.Ga=function(t){"function"==typeof t?this.i=t:"string"==typeof t?this.i=function(e){return e.get(t)}:t?t&&(this.i=function(){return t}):this.i=Fo,this.g=t};var ef=null;i(Bo,ho),Bo.prototype.o=function(t){this.s=void 0!==t?t:ko,this.l=null===t?void 0:Ro(this.s),this.B()},i(Wo,Uo),Ou=Wo.prototype,Ou.pb=function(t){if(mt(this.j,t.L())){if(this.f||this.a){this.f&&Ho(this,this.f),this.a&&Yo(this,this.a);var e;e=this.J;var i=this.D,n=t.u;e=n?Gt(n,0,n.length,t.a,e,i):null,i=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),n=this.c,n.beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.f&&n.fill(),this.a&&n.stroke()}""!==this.b&&Go(this,t.u.slice(0,t.a),2,2)}},Ou.ub=function(t){var e=t.u;t=t.a,this.i&&Vo(this,e,e.length),""!==this.b&&Go(this,e,e.length,t)},Ou.sb=function(t){var e=t.u;t=t.a,this.i&&Vo(this,e,e.length),""!==this.b&&Go(this,e,e.length,t)},Ou.qb=function(t){if(mt(this.j,t.L())){if(this.a){Yo(this,this.a);var e=this.c,i=t.u;e.beginPath(),Xo(this,i,0,i.length,t.a,!1),e.stroke()}""!==this.b&&(t=vh(t),Go(this,t,2,2))}},Ou.rb=function(t){var e=t.L();if(mt(this.j,e)){if(this.a){Yo(this,this.a);var e=this.c,i=t.u,n=0,o=t.Za(),s=t.a;e.beginPath();var r,a;for(r=0,a=o.length;r<a;++r)n=Xo(this,i,n,o[r],s,!1);e.stroke()}""!==this.b&&(t=yh(t),Go(this,t,t.length,2))}},Ou.vb=function(t){if(mt(this.j,t.L())){if(this.a||this.f){this.f&&Ho(this,this.f),this.a&&Yo(this,this.a);var e=this.c;e.beginPath(),zo(this,de(t),0,t.Za(),t.a),this.f&&e.fill(),this.a&&e.stroke()}""!==this.b&&(t=ce(t),Go(this,t,2,2))}},Ou.tb=function(t){if(mt(this.j,t.L())){if(this.a||this.f){this.f&&Ho(this,this.f),this.a&&Yo(this,this.a);var e,i,n=this.c,o=Mh(t),s=0,r=t.c,a=t.a;for(n.beginPath(),e=0,i=r.length;e<i;++e)s=zo(this,o,s,r[e],a);this.f&&n.fill(),this.a&&n.stroke()}""!==this.b&&(t=wh(t),Go(this,t,t.length,2))}},Ou.ja=function(t,e){if(t){var i=t.a;this.f={fillStyle:oi(i?i:$c)}}else this.f=null;if(e){var i=e.a,n=e.c,o=e.f,s=e.i,r=e.b,a=e.g;this.a={lineCap:void 0!==n?n:"round",lineDash:o?o:Qc,lineJoin:void 0!==s?s:"round",lineWidth:this.v*(void 0!==r?r:1),miterLimit:void 0!==a?a:10,strokeStyle:oi(i?i:tf)}}else this.a=null},Ou.Ua=function(t){if(t){var e=t.xb(),i=t.Bb(1),n=t.Db(),o=t.Ta();console.assert(i,"imageImage must be truthy"),this.C=e[0],this.G=e[1],this.I=o[1],this.i=i,this.A=t.l,this.Z=n[0],this.oa=n[1],this.ea=t.v,this.ia=t.o,this.g=t.j,this.Ha=t.J,this.T=o[0]}else this.i=null},Ou.Pa=function(t){if(t){var e=t.a;e?(e=e.a,this.l={fillStyle:oi(e?e:$c)}):this.l=null;var i=t.b;if(i){var e=i.a,n=i.c,o=i.f,s=i.i,r=i.b,i=i.g;this.o={lineCap:void 0!==n?n:"round",lineDash:o?o:Qc,lineJoin:void 0!==s?s:"round",lineWidth:void 0!==r?r:1,miterLimit:void 0!==i?i:10,strokeStyle:oi(e?e:tf)}}else this.o=null;var e=t.c,n=t.i,o=t.g,s=t.j,r=t.l,i=t.f,a=t.ma(),h=t.s;t=t.o,this.O={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==t?t:"middle"},this.b=void 0!==a?a:"",this.xa=void 0!==n?this.v*n:0,this.Ca=void 0!==o?this.v*o:0,this.Da=void 0!==s&&s,this.Ea=void 0!==r?r:0,this.s=this.v*(void 0!==i?i:1)}else this.b=""},i(Zo,I),Zo.prototype.pa=o,Zo.prototype.yd=wt,Zo.prototype.s=function(t,e,i){return function(n,o){return wu(t,e,n,o,function(t){i[n]||(i[n]={}),i[n][t.ka.toString()]=t})}},i(es,Zo),es.prototype.I=function(t,e,i){ns(this,"postcompose",t,e,i)},i(ss,es),ss.prototype.j=function(t,e,i){ns(this,"precompose",i,t,void 0);var n=this.g.canvas;if(n){var o=e.extent,s=void 0!==o;s&&is(i,t,o);var o=this.o,r=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(o[4]),Math.round(o[5]),Math.round(n.width*o[0]),Math.round(n.height*o[3])),i.globalAlpha=r,s&&i.restore()}this.I(i,t)},ss.prototype.pa=function(t,e,i,n,o){var s=this.a;return s.na().pa(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(o,t,s)})},i(rs,ss),rs.prototype.l=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,s=o.projection,r=o.resolution,o=o.center,a=this.a,h=a.na(),l=h.f,u=h.Ja(s),c=ze(u,r,0),f=ke(u,c),d=t.extent;if(void 0!==e.extent&&(d=bt(d,e.extent)),xt(d))return!1;var p,v=Fe(u,d,f),g=Re(u,c);p=ke(u,c);var b=De(Ge(u,c),u.j);p=rt(g[0]+v.N*b[0]*p,g[1]+v.P*b[1]*p,g[0]+(v.M+1)*b[0]*p,g[1]+(v.S+1)*b[1]*p,void 0),g=h.zb(i),b={},b[c]={};var y,m,x,E=this.s(h,s,b),w=a.get(qc),M=this.O,T=this.X,N=!1;for(m=v.N;m<=v.M;++m)for(x=v.P;x<=v.S;++x){y=_u(h,c,m,x,i,s);var S=y.da();S==Sc||4==S||3==S&&!w?S==Sc&&(b[c][y.ka.toString()]=y,N||-1!=this.i.indexOf(y)||(N=!0)):(y=$i(y),je(u,y.ka,E,T,M)||(y=Oe(u,y.ka,T,M))&&E(c+1,y))}if(m=t.viewHints,!(this.c&&16<Date.now()-t.time&&(m[$u]||m[1])||!N&&this.b&&lt(this.b,p)&&this.G==l)){y=Mu(h,c,i,s),m=(v.M-v.N+1)*y[0],y=(v.S-v.P+1)*y[0],N=this.g,x=N.canvas,E=h.xc(s),x.width!=m||x.height!=y?(x.width=m,x.height=y):N.clearRect(0,0,m,y),this.i.length=0,w=Object.keys(b).map(Number),w.sort(O);var L,A,C,_,P,D,S=0;for(A=w.length;S<A;++S){m=w[S],T=Mu(h,m,i,s),y=ke(u,m),L=y/f,C=g*h.vc(s),_=b[m];for(var I in _)y=_[I],x=We(u,y.ka,M),m=(x[0]-p[0])/f*g,x=(p[3]-x[3])/f*g,P=T[0]*L,D=T[1]*L,E||N.clearRect(m,x,P,D),this.C(y,m,x,P,D,C),this.i.push(y)}this.G=l,this.c=f,this.b=p}return I=i/g*this.c/r,I=xo(this.o,i*n[0]/2,i*n[1]/2,I,I,0,g*(this.b[0]-o[0])/this.c,g*(o[1]-this.b[3])/this.c),xo(this.J,i*n[0]/2-I[4],i*n[1]/2-I[5],i/r,-i/r,0,-o[0],-o[1]),Qo(t.usedTiles,h,c,v),ts(t,h,u,i,s,d,c,a.get(Kc)),Ko(t,h),$o(t,h),0<this.i.length},rs.prototype.C=function(t,e,i,n,o,s){(t=t.gb())&&this.g.drawImage(t,s,s,t.width-2*s,t.height-2*s,e,i,n,o)},i(hs,Uo),hs.prototype.g=function(t,e,i,n,o){fs(this,t,e,i,n,o,this.f,void 0,void 0)},hs.prototype.Xb=o,hs.prototype.uc=function(){return this.la},i(vs,hs),vs.prototype.ub=function(t,e){if(this.C){console.assert(void 0!==this.b,"this.anchorX_ should be defined"),console.assert(void 0!==this.i,"this.anchorY_ should be defined"),console.assert(void 0!==this.j,"this.height_ should be defined"),console.assert(void 0!==this.l,"this.opacity_ should be defined"),console.assert(void 0!==this.s,"this.originX_ should be defined"),console.assert(void 0!==this.o,"this.originY_ should be defined"),console.assert(void 0!==this.A,"this.rotateWithView_ should be defined"),console.assert(void 0!==this.D,"this.rotation_ should be defined"),console.assert(void 0!==this.v,"this.scale_ should be defined"),console.assert(void 0!==this.J,"this.width_ should be defined"),us(this,e);var i=t.u,n=this.coordinates.length,i=ls(this,i,0,i.length,t.a,!1,!1);this.f.push([4,n,i,this.C,this.b,this.i,this.j,this.l,this.s,this.o,this.A,this.D,this.v,this.G,this.J]),this.a.push([4,n,i,this.O,this.b,this.i,this.j,this.l,this.s,this.o,this.A,this.D,this.v,this.G,this.J]),ps(this,e)}},vs.prototype.sb=function(t,e){if(this.C){console.assert(void 0!==this.b,"this.anchorX_ should be defined"),console.assert(void 0!==this.i,"this.anchorY_ should be defined"),console.assert(void 0!==this.j,"this.height_ should be defined"),console.assert(void 0!==this.l,"this.opacity_ should be defined"),console.assert(void 0!==this.s,"this.originX_ should be defined"),console.assert(void 0!==this.o,"this.originY_ should be defined"),console.assert(void 0!==this.A,"this.rotateWithView_ should be defined"),console.assert(void 0!==this.D,"this.rotation_ should be defined"),console.assert(void 0!==this.v,"this.scale_ should be defined"),console.assert(void 0!==this.J,"this.width_ should be defined"),us(this,e);var i=t.u,n=this.coordinates.length,i=ls(this,i,0,i.length,t.a,!1,!1);this.f.push([4,n,i,this.C,this.b,this.i,this.j,this.l,this.s,this.o,this.A,this.D,this.v,this.G,this.J]),this.a.push([4,n,i,this.O,this.b,this.i,this.j,this.l,this.s,this.o,this.A,this.D,this.v,this.G,this.J]),ps(this,e)}},vs.prototype.Xb=function(){ds(this),this.i=this.b=void 0,this.C=this.O=null,this.J=this.G=this.D=this.A=this.o=this.s=this.l=this.v=this.j=void 0},vs.prototype.Ua=function(t){console.assert(t,"imageStyle should not be null");var e=t.xb();console.assert(e,"anchor should not be null");var i=t.Ta();console.assert(i,"size should not be null");var n=t.Ec(1);console.assert(n,"hitDetectionImage should not be null");var o=t.Bb(1);console.assert(o,"image should not be null");var s=t.Db();console.assert(s,"origin should not be null"),this.b=e[0],this.i=e[1],this.O=n,this.C=o,this.j=i[1],this.l=t.l,this.s=s[0],this.o=s[1],this.A=t.v,this.D=t.o,this.v=t.j,this.G=t.J,this.J=i[0]},i(gs,hs),Ou=gs.prototype,Ou.uc=function(){return this.i||(this.i=nt(this.la),0<this.c&&it(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},Ou.qb=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(ys(this),us(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]),i=t.u,bs(this,i,0,i.length,t.a),this.a.push([12]),ps(this,e))},Ou.rb=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){ys(this),us(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]);var o,s,i=t.Za(),n=t.u,r=t.a,a=0;for(o=0,s=i.length;o<s;++o)a=bs(this,n,a,i[o],r);this.a.push([12]),ps(this,e)}},Ou.Xb=function(){var t=this.b;console.assert(t,"state should not be null"),t.Bc!=this.coordinates.length&&this.f.push([12]),ds(this),this.b=null},Ou.ja=function(t,e){console.assert(this.b,"this.state_ should not be null"),console.assert(!t,"fillStyle should be null"),console.assert(e,"strokeStyle should not be null");var i=e.a;this.b.strokeStyle=oi(i?i:tf),i=e.c,this.b.lineCap=void 0!==i?i:"round",i=e.f,this.b.lineDash=i?i:Qc,i=e.i,this.b.lineJoin=void 0!==i?i:"round",i=e.b,this.b.lineWidth=void 0!==i?i:1,i=e.g,this.b.miterLimit=void 0!==i?i:10,this.b.lineWidth>this.c&&(this.c=this.b.lineWidth,this.i=null)},i(ms,hs),Ou=ms.prototype,Ou.pb=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),Es(this,t),us(this,e),this.a.push([9,ii($c)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var o=t.u,n=this.coordinates.length;ls(this,o,0,o.length,t.a,!1,!1),o=[1],n=[2,n],this.f.push(o,n),this.a.push(o,n),n=[7],this.a.push(n),void 0!==i.fillStyle&&this.f.push(n),void 0!==i.strokeStyle&&(console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),i=[12],this.f.push(i),this.a.push(i)),ps(this,e)}},Ou.vb=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;console.assert(void 0!==i.fillStyle||void 0!==n,"fillStyle or strokeStyle should be defined"),void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),Es(this,t),us(this,e),this.a.push([9,ii($c)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]),i=t.Za(),n=de(t),xs(this,n,0,i,t.a),ps(this,e)},Ou.tb=function(t,e){var i=this.b;console.assert(i,"state should not be null");var n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){void 0!==n&&console.assert(void 0!==i.lineWidth,"state.lineWidth should be defined"),Es(this,t),us(this,e),this.a.push([9,ii($c)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var o,s,i=t.c,n=Mh(t),r=t.a,a=0;for(o=0,s=i.length;o<s;++o)a=xs(this,n,a,i[o],r);ps(this,e)}},Ou.Xb=function(){console.assert(this.b,"this.state_ should not be null"),ds(this),this.b=null;var t=this.ia;if(0!==t){var e,i,n=this.coordinates;for(e=0,i=n.length;e<i;++e)n[e]=t*Math.round(n[e]/t)}},Ou.uc=function(){return this.i||(this.i=nt(this.la),0<this.c&&it(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},Ou.ja=function(t,e){console.assert(this.b,"this.state_ should not be null"),console.assert(t||e,"fillStyle or strokeStyle should not be null");var i=this.b;if(t){var n=t.a;i.fillStyle=oi(n?n:$c)}else i.fillStyle=void 0;e?(n=e.a,i.strokeStyle=oi(n?n:tf),n=e.c,i.lineCap=void 0!==n?n:"round",n=e.f,i.lineDash=n?n.slice():Qc,n=e.i,i.lineJoin=void 0!==n?n:"round",n=e.b,i.lineWidth=void 0!==n?n:1,n=e.g,i.miterLimit=void 0!==n?n:10,i.lineWidth>this.c&&(this.c=i.lineWidth,this.i=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},i(ws,hs),ws.prototype.Pa=function(t){if(t){var e=t.a;e?(e=e.a,e=oi(e?e:$c),this.b?this.b.fillStyle=e:this.b={fillStyle:e}):this.b=null;var i=t.b;if(i){var e=i.a,n=i.c,o=i.f,s=i.i,r=i.b,i=i.g,n=void 0!==n?n:"round",o=o?o.slice():Qc,s=void 0!==s?s:"round",r=void 0!==r?r:1,i=void 0!==i?i:10,e=oi(e?e:tf);if(this.i){var a=this.i;a.lineCap=n,a.lineDash=o,a.lineJoin=s,a.lineWidth=r,a.miterLimit=i,a.strokeStyle=e}else this.i={lineCap:n,lineDash:o,lineJoin:s,lineWidth:r,miterLimit:i,strokeStyle:e}}else this.i=null;var h=t.c,e=t.i,n=t.g,o=t.j,r=t.l,i=t.f,s=t.ma(),a=t.s,l=t.o;t=void 0!==h?h:"10px sans-serif",a=void 0!==a?a:"center",l=void 0!==l?l:"middle",this.j?(h=this.j,h.font=t,h.textAlign=a,h.textBaseline=l):this.j={font:t,textAlign:a,textBaseline:l},this.l=void 0!==s?s:"",this.s=void 0!==e?e:0,this.o=void 0!==n?n:0,this.A=void 0!==o&&o,this.D=void 0!==r?r:0,this.v=void 0!==i?i:1}else this.l=""};var nf=["Polygon","Circle","LineString","Image","Text"];i(Ts,as);var of={0:[[!0]]};Ts.prototype.pa=function(t,e,i,n,o,s){n=Math.round(n);var r=2*n+1,a=xo(this.l,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=this.j;h.canvas.width!==r||h.canvas.height!==r?(h.canvas.width=r,h.canvas.height=r):h.clearRect(0,0,r,r);var l;void 0!==this.i&&(l=st(),ct(l,t),it(l,e*(this.i+n),l));var u=Ss(n);return As(this,h,a,i,o,function(t){for(var e=h.getImageData(0,0,r,r).data,i=0;i<r;i++)for(var n=0;n<r;n++)if(u[i][n]&&0<e[4*(n*r+i)+3])return(t=s(t))?t:void h.clearRect(0,0,r,r)},l)},Ts.prototype.a=function(t,e){var i=void 0!==t?t.toString():"0",n=this.f[i];return void 0===n&&(n={},this.f[i]=n),i=n[e],void 0===i&&(i=sf[e],console.assert(void 0!==i,e+" constructor missing from ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_"),i=new i(this.A,this.c,this.o,this.s),n[e]=i),i},Ts.prototype.b=function(){return g(this.f)},Ts.prototype.g=function(t,e,i,n,o,s){var r=Object.keys(this.f).map(Number);r.sort(O);var a=this.c,h=a[0],l=a[1],u=a[2],a=a[3],h=[h,l,h,a,u,a,u,l];Gt(h,0,8,2,i,h),t.save(),t.beginPath(),t.moveTo(h[0],h[1]),t.lineTo(h[2],h[3]),t.lineTo(h[4],h[5]),t.lineTo(h[6],h[7]),t.clip(),s=s?s:nf;for(var c,f,h=0,l=r.length;h<l;++h)for(c=this.f[r[h].toString()],u=0,a=s.length;u<a;++u)f=c[s[u]],void 0!==f&&f.g(t,e,i,n,o);t.restore()};var sf={Circle:ms,Image:vs,LineString:gs,Polygon:ms,Text:ws},rf={Point:function(t,e,i,n){var o=i.c;if(o){if(2!=o.Cb())return;var s=t.a(i.a,"Image");s.Ua(o),s.ub(e,n)}(o=i.ma())&&(t=t.a(i.a,"Text"),t.Pa(o),Ms(t,e.u,2,2,n))},LineString:function(t,e,i,n){var o=i.f;if(o){var s=t.a(i.a,"LineString");s.ja(null,o),s.qb(e,n)}(o=i.ma())&&(t=t.a(i.a,"Text"),t.Pa(o),Ms(t,vh(e),2,2,n))},Polygon:function(t,e,i,n){var o=i.b,s=i.f;if(o||s){var r=t.a(i.a,"Polygon");r.ja(o,s),r.vb(e,n)}(o=i.ma())&&(t=t.a(i.a,"Text"),t.Pa(o),Ms(t,ce(e),2,2,n))},MultiPoint:function(t,e,i,n){var o=i.c;if(o){if(2!=o.Cb())return;var s=t.a(i.a,"Image");s.Ua(o),s.sb(e,n)}(o=i.ma())&&(t=t.a(i.a,"Text"),t.Pa(o),i=e.u,Ms(t,i,i.length,e.a,n))},MultiLineString:function(t,e,i,n){var o=i.f;if(o){var s=t.a(i.a,"LineString");s.ja(null,o),s.rb(e,n)}(o=i.ma())&&(t=t.a(i.a,"Text"),t.Pa(o),e=yh(e),Ms(t,e,e.length,2,n))},MultiPolygon:function(t,e,i,n){var o=i.b,s=i.f;if(s||o){var r=t.a(i.a,"Polygon");r.ja(o,s),r.tb(e,n)}(o=i.ma())&&(t=t.a(i.a,"Text"),t.Pa(o),e=wh(e),Ms(t,e,e.length,2,n))},GeometryCollection:function(t,e,i,n){e=e.b;var o,s;for(o=0,s=e.length;o<s;++o)(0,rf[e[o].ca()])(t,e[o],i,n)},Circle:function(t,e,i,n){var o=i.b,s=i.f;if(o||s){var r=t.a(i.a,"Circle");r.ja(o,s),r.pb(e,n)}(o=i.ma())&&(t=t.a(i.a,"Text"),t.Pa(o),Ms(t,e.u.slice(0,e.a),2,2,n))}};i(Ds,es),Ds.prototype.j=function(t,e,i){var n=t.extent,o=t.pixelRatio,s=e.Wb?t.skippedFeatureUids:{},r=t.viewState,a=r.projection,r=r.rotation,h=a.L(),l=this.a.na(),u=os(this,t,0);ns(this,"precompose",i,t,u);var c=e.extent,f=void 0!==c;if(f&&is(i,t,c),(c=this.c)&&!c.b()){var d,p=0,v=0;if(D(this.a,"render")){d=i.canvas.width;var g=i.canvas.height;if(r){var b=Math.round(Math.sqrt(d*d+g*g)),p=(b-d)/2,v=(b-g)/2;d=g=b}this.i.canvas.width=d,this.i.canvas.height=g,d=this.i}else d=i;if(g=d.globalAlpha,d.globalAlpha=e.opacity,d!=i&&d.translate(p,v),e=t.size[0]*o,b=t.size[1]*o,Ao(d,-r,e/2,b/2),c.g(d,o,u,r,s),l.l&&a.f&&!ot(h,n)){for(var a=n[0],l=yt(h),y=0;a<h[0];)--y,u=l*y,u=os(this,t,u),c.g(d,o,u,r,s),a+=l;for(y=0,a=n[2];a>h[2];)++y,u=l*y,u=os(this,t,u),c.g(d,o,u,r,s),a-=l;u=os(this,t,0)}Ao(d,r,e/2,b/2),d!=i&&(ns(this,"render",d,t,u),i.drawImage(d.canvas,-p,-v),d.translate(-p,-v)),d.globalAlpha=g}f&&i.restore(),this.I(i,t,u)},Ds.prototype.pa=function(t,e,i,n,o){if(this.c){var r=this.a,a={};return this.c.pa(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=s(t).toString();if(!(e in a))return a[e]=!0,n.call(o,t,r)})}},Ds.prototype.G=function(){Jo(this)},Ds.prototype.l=function(t){function e(t){var e,n=t.g;if(n?e=n.call(t,l):(n=i.l)&&(e=n(t,l)),e){if(e){if(n=!1,Array.isArray(e))for(var o=0,s=e.length;o<s;++o)n=Ps(f,t,e[o],_s(l,u),this.G,this)||n;else n=Ps(f,t,e,_s(l,u),this.G,this)||n;t=n}else t=!1;this.b=this.b||t}}var i=this.a,n=i.na();qo(t.attributions,n.s),$o(t,n);var o=t.viewHints[$u],s=t.viewHints[1],r=i.v,a=i.C;if(!this.b&&!r&&o||!a&&s)return!0;var h=t.extent,a=t.viewState,o=a.projection,l=a.resolution,u=t.pixelRatio,s=i.f,c=i.g,r=i.get("renderOrder");if(void 0===r&&(r=Cs),h=it(h,c*l),c=a.projection.L(),n.l&&a.projection.f&&!ot(c,t.extent)&&(t=Math.max(yt(h)/2,yt(c)),h[0]=c[0]-t,h[2]=c[2]+t),!this.b&&this.J==l&&this.C==s&&this.o==r&&ot(this.g,h))return!0;this.c=null,this.b=!1;var f=new Ts(.5*l/u,h,l,n.X,i.g);if(ql(n,h,l,o),r){var d=[];Kl(n,h,function(t){d.push(t)},this),d.sort(r),d.forEach(e,this)}else Kl(n,h,e,this);return Ls(f),this.J=l,this.C=s,this.o=r,this.g=h,this.c=f,!0},i(Is,Eo),Is.prototype.fd=function(t){return t instanceof Lo?new rs(t):t instanceof Bo?new Ds(t):(console.assert(!1,"unexpected layer configuration"),null)},Is.prototype.ca=function(){return"canvas"},Is.prototype.Lc=function(t){if(t){var e=this.c,i=t.pixelRatio,n=Math.round(t.size[0]*i),i=Math.round(t.size[1]*i);this.a.width!=n||this.a.height!=i?(this.a.width=n,this.a.height=i):e.clearRect(0,0,n,i);var o=t.viewState.rotation;wo(t),js(this,"precompose",t);var s=t.layerStatesArray;V(s),Ao(e,o,n/2,i/2);var r,a,h,l,u=t.viewState.resolution;for(r=0,a=s.length;r<a;++r)l=s[r],h=l.layer,h=To(this,h),lo(l,u)&&"ready"==l.Kd&&h.l(t,l)&&h.j(t,l,e);Ao(e,-o,n/2,i/2),js(this,"postcompose",t),this.f||(this.a.style.display="",this.f=!0),No(this,t),t.postRenderFunctions.push(Mo)}else this.f&&(this.a.style.display="none",this.f=!1)};var af=[0,0,0,1],hf=[],lf=[0,0,0,1],uf=Number.EPSILON||2.220446049250313e-16;i(Os,ks),Os.prototype.ca=function(){return 35632},i(Fs,ks),Fs.prototype.ca=function(){return 35633},i(Bs,Os);var cf=new Bs;i(Us,Fs);var ff=new Us;i(Xs,Uo),Xs.prototype.g=function(t,e,i,n,o,s,r,a,h,l,u){var c,f,d,p,v,g,b,y,m=t.a;this.j&&(c=m.isEnabled(m.STENCIL_TEST),f=m.getParameter(m.STENCIL_FUNC),d=m.getParameter(m.STENCIL_VALUE_MASK),p=m.getParameter(m.STENCIL_REF),v=m.getParameter(m.STENCIL_WRITEMASK),g=m.getParameter(m.STENCIL_FAIL),b=m.getParameter(m.STENCIL_PASS_DEPTH_PASS),y=m.getParameter(m.STENCIL_PASS_DEPTH_FAIL),m.enable(m.STENCIL_TEST),m.clear(m.STENCIL_BUFFER_BIT),m.stencilMask(255),m.stencilFunc(m.ALWAYS,1,255),m.stencilOp(m.KEEP,m.KEEP,m.REPLACE),this.j.g(t,e,i,n,o,s,r,a,h,l,u),m.stencilMask(0),m.stencilFunc(m.NOTEQUAL,1,255)),console.assert(this.l,"verticesBuffer must not be null"),Qs(t,34962,this.l),console.assert(this.s,"indicesBuffer must not be null"),Qs(t,34963,this.s),
s=this.$b(m,t,o,s);var x=po(this.Ea);vo(x,go(Jc,2/(i*o[0]),0,0,2/(i*o[1]),0,0)),mo(x,-n),vo(x,go(Jc,1,0,0,1,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]))),e=po(this.Da),vo(e,go(Jc,2/o[0],0,0,2/o[1],0,0)),o=po(this.Ca),0!==n&&mo(o,-n),m.uniformMatrix4fv(s.b,!1,Gs(this.xa,x)),m.uniformMatrix4fv(s.i,!1,Gs(this.xa,e)),m.uniformMatrix4fv(s.c,!1,Gs(this.xa,o)),m.uniform1f(s.f,r);var E;return void 0===h?this.wb(m,t,a,!1):(l?t=this.Pb(m,t,a,h,u):(m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),this.wb(m,t,a,!0),t=(t=h(null))?t:void 0),E=t),this.ac(m,s),this.j&&(c||m.disable(m.STENCIL_TEST),m.clear(m.STENCIL_BUFFER_BIT),m.stencilFunc(f,p,d),m.stencilMask(v),m.stencilOp(g,y,b)),E};var df=35044;i(Ys,Xs),Ou=Ys.prototype,Ou.pb=function(t,e){var i=t.u[t.a]-t.u[0],n=t.u[t.a+1]-t.u[1],n=Math.sqrt(i*i+n*n),i=t.a;if(n){this.b.push(this.a.length),this.i.push(e),this.c.B&&(this.A.push(this.a.length),this.c.B=!1),this.v=n;var o,n=t.u,n=Xt(n,2,i,-this.origin[0],-this.origin[1]),s=this.f.length,r=this.a.length,a=s/4;for(o=0;2>o;o+=i)this.f[s++]=n[o],this.f[s++]=n[o+1],this.f[s++]=0,this.f[s++]=this.v,this.f[s++]=n[o],this.f[s++]=n[o+1],this.f[s++]=1,this.f[s++]=this.v,this.f[s++]=n[o],this.f[s++]=n[o+1],this.f[s++]=2,this.f[s++]=this.v,this.f[s++]=n[o],this.f[s++]=n[o+1],this.f[s++]=3,this.f[s++]=this.v,this.a[r++]=a,this.a[r++]=a+1,this.a[r++]=a+2,this.a[r++]=a+2,this.a[r++]=a+3,this.a[r++]=a,a+=4}else this.c.B&&(this.o.pop(),this.o.length&&(i=this.o[this.o.length-1],this.c.fillColor=i[0],this.c.strokeColor=i[1],this.c.lineWidth=i[2],this.c.B=!1))},Ou.za=function(){this.l=new Hs(this.f),this.s=new Hs(this.a),this.b.push(this.a.length),0===this.A.length&&0<this.o.length&&(this.o=[]),this.a=this.f=null},Ou.Aa=function(t){console.assert(this.l,"verticesBuffer must not be null"),console.assert(this.s,"indicesBuffer must not be null");var e=this.l,i=this.s;return function(){tr(t,e),tr(t,i)}},Ou.$b=function(t,e,i,n){var o,s=nr(e,cf,ff);return this.D?o=this.D:this.D=o=new Ws(t,s),or(e,s),t.enableVertexAttribArray(o.a),t.vertexAttribPointer(o.a,2,5126,!1,16,0),t.enableVertexAttribArray(o.j),t.vertexAttribPointer(o.j,1,5126,!1,16,8),t.enableVertexAttribArray(o.D),t.vertexAttribPointer(o.D,1,5126,!1,16,12),t.uniform2fv(o.T,i),t.uniform1f(o.I,n),o},Ou.ac=function(t,e){t.disableVertexAttribArray(e.a),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.D)},Ou.wb=function(t,e,i){if(g(i)){console.assert(this.o.length===this.A.length,"number of styles and styleIndices match");var n,o,r;for(o=this.b[this.b.length-1],i=this.A.length-1;0<=i;--i)n=this.A[i],r=this.o[i],t.uniform4fv(this.D.C,r[0]),Zs(this,t,r[1],r[2]),zs(t,e,n,o),o=n}else{console.assert(this.b.length-1===this.i.length,"number of startIndices and startIndicesFeature match");var a,h,l,u;for(l=this.b.length-2,r=o=this.b[l+1],n=this.A.length-1;0<=n;--n){for(a=this.o[n],t.uniform4fv(this.D.C,a[0]),Zs(this,t,a[1],a[2]),a=this.A[n];0<=l&&this.b[l]>=a;)u=this.b[l],h=this.i[l],h=s(h).toString(),i[h]&&(o!==r&&zs(t,e,o,r),r=u),l--,o=u;o!==r&&zs(t,e,o,r),o=r=a}}},Ou.Pb=function(t,e,i,n,o){console.assert(this.o.length===this.A.length,"number of styles and styleIndices match"),console.assert(this.b.length-1===this.i.length,"number of startIndices and startIndicesFeature match");var r,a,h,l,u,c,f;for(f=this.b.length-2,h=this.b[f+1],r=this.A.length-1;0<=r;--r)for(a=this.o[r],t.uniform4fv(this.D.C,a[0]),Zs(this,t,a[1],a[2]),l=this.A[r];0<=f&&this.b[f]>=l;){if(a=this.b[f],u=this.i[f],c=s(u).toString(),void 0===i[c]&&u.V()&&(void 0===o||mt(o,u.V().L()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zs(t,e,a,h),h=n(u)))return h;f--,h=a}},Ou.ja=function(t,e){console.assert(this.c,"this.state_ should not be null");var i,n;e?(i=e.f,this.c.lineDash=i?i:hf,i=e.a,i=i instanceof CanvasGradient||i instanceof CanvasPattern?lf:ei(i).map(function(t,e){return 3!=e?t/255:t})||lf,n=e.b,n=void 0!==n?n:1):(i=[0,0,0,0],n=0);var o=t?t.a:[0,0,0,0];o=o instanceof CanvasGradient||o instanceof CanvasPattern?af:ei(o).map(function(t,e){return 3!=e?t/255:t})||af,this.c.strokeColor&&W(this.c.strokeColor,i)&&this.c.fillColor&&W(this.c.fillColor,o)&&this.c.lineWidth===n||(this.c.B=!0,this.c.fillColor=o,this.c.strokeColor=i,this.c.lineWidth=n,this.o.push([o,i,n]))},i(Js,Os);var pf=new Js;i(Ks,Fs);var vf=new Ks;i($s,S),$s.prototype.aa=function(){N(this.o);var t=this.a;if(!t.isContextLost()){for(var e in this.f)t.deleteBuffer(this.f[e].buffer);for(e in this.c)t.deleteProgram(this.c[e]);for(e in this.i)t.deleteShader(this.i[e]);t.deleteFramebuffer(this.g),t.deleteRenderbuffer(this.l),t.deleteTexture(this.s)}},$s.prototype.A=function(){p(this.f),p(this.i),p(this.c),this.l=this.s=this.g=this.j=null},$s.prototype.D=function(){},i(ar,Xs),Ou=ar.prototype,Ou.Aa=function(t){console.assert(this.l,"verticesBuffer must not be null"),console.assert(this.s,"indicesBuffer must not be null");var e=this.l,i=this.s,n=this.ia,o=this.D,s=t.a;return function(){if(!s.isContextLost()){var r,a;for(r=0,a=n.length;r<a;++r)s.deleteTexture(n[r]);for(r=0,a=o.length;r<a;++r)s.deleteTexture(o[r])}tr(t,e),tr(t,i)}},Ou.sb=function(t,e){this.b.push(this.a.length),this.i.push(e);var i=t.u;hr(this,i,i.length,t.a)},Ou.ub=function(t,e){this.b.push(this.a.length),this.i.push(e);var i=t.u;hr(this,i,i.length,t.a)},Ou.za=function(t){var e=t.a;this.v.push(this.a.length),console.assert(this.A.length===this.v.length,"number of images and groupIndices match"),this.c.push(this.a.length),console.assert(this.o.length===this.c.length,"number of hitDetectionImages and hitDetectionGroupIndices match"),this.l=new Hs(this.f);var i=this.a;console.assert(i[i.length-1]<Math.pow(2,t.b?32:16),'Too large element index detected [%s] (OES_element_index_uint "%s")',i[i.length-1],t.b),this.s=new Hs(i),t={},lr(this.ia,this.A,t,e),console.assert(this.ia.length===this.v.length,"number of textures and groupIndices match"),lr(this.D,this.o,t,e),console.assert(this.D.length===this.c.length,"number of hitDetectionTextures and hitDetectionGroupIndices match"),this.G=this.C=this.J=void 0,this.o=this.A=null,this.T=this.I=void 0,this.a=null,this.oa=this.Z=this.X=this.la=this.fa=this.O=void 0,this.f=null,this.ea=void 0},Ou.$b=function(t,e){var i,n=nr(e,pf,vf);return this.Ha?i=this.Ha:this.Ha=i=new qs(t,n),or(e,n),t.enableVertexAttribArray(i.a),t.vertexAttribPointer(i.a,2,5126,!1,32,0),t.enableVertexAttribArray(i.o),t.vertexAttribPointer(i.o,2,5126,!1,32,8),t.enableVertexAttribArray(i.J),t.vertexAttribPointer(i.J,2,5126,!1,32,16),t.enableVertexAttribArray(i.A),t.vertexAttribPointer(i.A,1,5126,!1,32,24),t.enableVertexAttribArray(i.v),t.vertexAttribPointer(i.v,1,5126,!1,32,28),i},Ou.ac=function(t,e){t.disableVertexAttribArray(e.a),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.J),t.disableVertexAttribArray(e.A),t.disableVertexAttribArray(e.v)},Ou.wb=function(t,e,i,n){var o=n?this.D:this.ia;if(n=n?this.c:this.v,console.assert(o.length===n.length,"number of textures and groupIndeces match"),g(i)){var r,a;for(i=0,r=o.length,a=0;i<r;++i){t.bindTexture(3553,o[i]);var h=n[i];zs(t,e,a,h),a=h}}else for(a=r=0,h=o.length;a<h;++a){t.bindTexture(3553,o[a]);for(var l=0<a?n[a-1]:0,u=n[a],c=l;r<this.b.length&&this.b[r]<=u;){var f=s(this.i[r]).toString();void 0!==i[f]?(c!==l&&zs(t,e,c,l),l=c=r===this.b.length-1?u:this.b[r+1]):l=r===this.b.length-1?u:this.b[r+1],r++}c!==l&&zs(t,e,c,l)}},Ou.Pb=function(t,e,i,n,o){console.assert(this.D.length===this.c.length,"number of hitDetectionTextures and hitDetectionGroupIndices match");var r,a,h,l,u,c,f=this.b.length-1;for(r=this.D.length-1;0<=r;--r)for(t.bindTexture(3553,this.D[r]),a=0<r?this.c[r-1]:0,l=this.c[r];0<=f&&this.b[f]>=a;){if(h=this.b[f],u=this.i[f],c=s(u).toString(),void 0===i[c]&&u.V()&&(void 0===o||mt(o,u.V().L()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zs(t,e,h,l),l=n(u)))return l;l=h,f--}},Ou.Ua=function(t){var e=t.xb(),i=t.Bb(1),n=t.Qb(),o=t.Ec(1),r=t.ld(),a=t.l,h=t.Db(),l=t.v,u=t.o,c=t.Ta();t=t.j,console.assert(e,"imageStyle anchor is not null"),console.assert(i,"imageStyle image is not null"),console.assert(n,"imageStyle imageSize is not null"),console.assert(o,"imageStyle hitDetectionImage is not null"),console.assert(r,"imageStyle hitDetectionImageSize is not null"),console.assert(void 0!==a,"imageStyle opacity is defined"),console.assert(h,"imageStyle origin is not null"),console.assert(void 0!==l,"imageStyle rotateWithView is defined"),console.assert(void 0!==u,"imageStyle rotation is defined"),console.assert(c,"imageStyle size is not null"),console.assert(void 0!==t,"imageStyle scale is defined"),0===this.A.length?this.A.push(i):(r=this.A[this.A.length-1],s(r)!=s(i)&&(this.v.push(this.a.length),console.assert(this.v.length===this.A.length,"number of groupIndices and images match"),this.A.push(i))),0===this.o.length?this.o.push(o):(r=this.o[this.o.length-1],s(r)!=s(o)&&(this.c.push(this.a.length),console.assert(this.c.length===this.o.length,"number of hitDetectionGroupIndices and hitDetectionImages match"),this.o.push(o))),this.J=e[0],this.C=e[1],this.G=c[1],this.I=n[1],this.T=n[0],this.O=a,this.fa=h[0],this.la=h[1],this.Z=u,this.X=l,this.oa=t,this.ea=c[0]},i(cr,Os);var gf=new cr;i(fr,Fs);var bf=new fr;i(pr,Xs),Ou=pr.prototype,Ou.qb=function(t,e){var i=t.u,n=t.a;br(i,i.length,n)&&(i=Xt(i,i.length,n,-this.origin[0],-this.origin[1]),this.c.B&&(this.o.push(this.a.length),this.c.B=!1),this.b.push(this.a.length),this.i.push(e),vr(this,i,i.length,n))},Ou.rb=function(t,e){var i,n,o=this.a.length,s=bh(t);for(i=0,n=s.length;i<n;++i){var r=s[i].u,a=s[i].a;br(r,r.length,a)&&(r=Xt(r,r.length,a,-this.origin[0],-this.origin[1]),vr(this,r,r.length,a))}this.a.length>o&&(this.b.push(o),this.i.push(e),this.c.B&&(this.o.push(o),this.c.B=!1))},Ou.za=function(){this.l=new Hs(this.f),this.s=new Hs(this.a),this.b.push(this.a.length),0===this.o.length&&0<this.A.length&&(this.A=[]),this.a=this.f=null},Ou.Aa=function(t){console.assert(this.l,"verticesBuffer must not be null");var e=this.l,i=this.s;return function(){tr(t,e),tr(t,i)}},Ou.$b=function(t,e,i,n){var o,s=nr(e,gf,bf);return this.D?o=this.D:this.D=o=new dr(t,s),or(e,s),t.enableVertexAttribArray(o.l),t.vertexAttribPointer(o.l,2,5126,!1,28,0),t.enableVertexAttribArray(o.a),t.vertexAttribPointer(o.a,2,5126,!1,28,8),t.enableVertexAttribArray(o.s),t.vertexAttribPointer(o.s,2,5126,!1,28,16),t.enableVertexAttribArray(o.g),t.vertexAttribPointer(o.g,1,5126,!1,28,24),t.uniform2fv(o.T,i),t.uniform1f(o.I,n),o},Ou.ac=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.a),t.disableVertexAttribArray(e.s),t.disableVertexAttribArray(e.g)},Ou.wb=function(t,e,i,n){var o=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),g(i)){console.assert(this.A.length===this.o.length,"number of styles and styleIndices match");var a,h,l;for(h=this.b[this.b.length-1],i=this.o.length-1;0<=i;--i)a=this.o[i],l=this.A[i],xr(this,t,l[0],l[1],l[2]),zs(t,e,a,h),t.clear(t.DEPTH_BUFFER_BIT),h=a}else{console.assert(this.b.length-1===this.i.length,"number of startIndices and startIndicesFeature match");var u,c,f,d;for(f=this.b.length-2,l=h=this.b[f+1],a=this.o.length-1;0<=a;--a){for(u=this.A[a],xr(this,t,u[0],u[1],u[2]),u=this.o[a];0<=f&&this.b[f]>=u;)d=this.b[f],c=this.i[f],c=s(c).toString(),i[c]&&(h!==l&&(zs(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),l=d),f--,h=d;h!==l&&(zs(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),h=l=u}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(o))},Ou.Pb=function(t,e,i,n,o){console.assert(this.A.length===this.o.length,"number of styles and styleIndices match"),console.assert(this.b.length-1===this.i.length,"number of startIndices and startIndicesFeature match");var r,a,h,l,u,c,f;for(f=this.b.length-2,h=this.b[f+1],r=this.o.length-1;0<=r;--r)for(a=this.A[r],xr(this,t,a[0],a[1],a[2]),l=this.o[r];0<=f&&this.b[f]>=l;){if(a=this.b[f],u=this.i[f],c=s(u).toString(),void 0===i[c]&&u.V()&&(void 0===o||mt(o,u.V().L()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zs(t,e,a,h),h=n(u)))return h;f--,h=a}},Ou.ja=function(t,e){console.assert(this.c,"this.state_ should not be null");var i=e.c;this.c.lineCap=void 0!==i?i:"round",i=e.f,this.c.lineDash=i?i:hf,i=e.i,this.c.lineJoin=void 0!==i?i:"round",i=e.a,i=i instanceof CanvasGradient||i instanceof CanvasPattern?lf:ei(i).map(function(t,e){return 3!=e?t/255:t})||lf;var n=e.b,n=void 0!==n?n:1,o=e.g,o=void 0!==o?o:10;this.c.strokeColor&&W(this.c.strokeColor,i)&&this.c.lineWidth===n&&this.c.miterLimit===o||(this.c.B=!0,this.c.strokeColor=i,this.c.lineWidth=n,this.c.miterLimit=o,this.A.push([i,n,o]))},i(Er,Os);var yf=new Er;i(wr,Fs);var mf=new wr;Tr.prototype.concat=function(t){if(t.a){if(this.a){var e=this.a.next;this.a.next=t.b,t.b.ua=this.a,e.ua=t.f,t.f.next=e,this.c+=t.c}else this.a=t.a,this.b=t.b,this.f=t.f,this.c=t.c;t.a=void 0,t.b=void 0,t.f=void 0,t.c=0}};var xf;!function(){var e={},i={U:e};!function(n){if("object"==typeof e&&"undefined"!=typeof i)i.U=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,o.eg=n()}}(function(){return function t(e,i,o){function s(a,h){if(!i[a]){if(!e[a]){var l="function"==typeof n&&n;if(!h&&l)return n(a,!0);if(r)return r(a,!0);throw l=Error("Cannot find module '"+a+"'"),l.code="MODULE_NOT_FOUND",l}l=i[a]={U:{}},e[a][0].call(l.U,function(t){var i=e[a][1][t];return s(i?i:t)},l,l.U,t,e,i,o)}return i[a].U}for(var r="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(t,e){function i(t,e,s,r,a){for(s=s||0,r=r||t.length-1,a=a||o;r>s;){if(600<r-s){var h=r-s+1,l=e-s+1,u=Math.log(h),c=.5*Math.exp(2*u/3),u=.5*Math.sqrt(u*c*(h-c)/h)*(0>l-h/2?-1:1);i(t,e,Math.max(s,Math.floor(e-l*c/h+u)),Math.min(r,Math.floor(e+(h-l)*c/h+u)),a)}for(h=t[e],l=s,c=r,n(t,s,e),0<a(t[r],h)&&n(t,s,r);l<c;){for(n(t,l,c),l++,c--;0>a(t[l],h);)l++;for(;0<a(t[c],h);)c--}0===a(t[s],h)?n(t,s,c):(c++,n(t,c,r)),c<=e&&(s=c+1),e<=c&&(r=c-1)}}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function o(t,e){return t<e?-1:t>e?1:0}e.U=i},{}],2:[function(t,e){function i(t,e){return this instanceof i?(this.jc=Math.max(4,t||9),this.Xc=Math.max(2,Math.ceil(.4*this.jc)),e&&this.Xd(e),void this.clear()):new i(t,e)}function n(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,n,o){o||(o=f(null)),o.N=1/0,o.P=1/0,o.M=-(1/0),o.S=-(1/0);for(var r;e<i;e++)r=t.children[e],s(o,t.ra?n(r):r);return o}function s(t,e){t.N=Math.min(t.N,e.N),t.P=Math.min(t.P,e.P),t.M=Math.max(t.M,e.M),t.S=Math.max(t.S,e.S)}function r(t,e){return t.N-e.N}function a(t,e){return t.P-e.P}function h(t){return(t.M-t.N)*(t.S-t.P)}function l(t){return t.M-t.N+(t.S-t.P)}function u(t,e){return t.N<=e.N&&t.P<=e.P&&e.M<=t.M&&e.S<=t.S}function c(t,e){return e.N<=t.M&&e.P<=t.S&&e.M>=t.N&&e.S>=t.P}function f(t){return{children:t,height:1,ra:!0,N:1/0,P:1/0,M:-(1/0),S:-(1/0)}}function d(t,e,i,n,o){for(var s,r=[e,i];r.length;)i=r.pop(),e=r.pop(),i-e<=n||(s=e+Math.ceil((i-e)/n/2)*n,p(t,s,e,i,o),r.push(e,s,s,i))}e.U=i;var p=t("quickselect");i.prototype={all:function(){return this.Sc(this.data,[])},search:function(t){var e=this.data,i=[],n=this.wa;if(!c(t,e))return i;for(var o,s,r,a,h=[];e;){for(o=0,s=e.children.length;o<s;o++)r=e.children[o],a=e.ra?n(r):r,c(t,a)&&(e.ra?i.push(r):u(t,a)?this.Sc(r,i):h.push(r));e=h.pop()}return i},load:function(t){if(!t||!t.length)return this;if(t.length<this.Xc){for(var e=0,i=t.length;e<i;e++)this.Na(t[e]);return this}return t=this.Uc(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.$c(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Wc(t,this.data.height-t.height-1,!0)):this.data=t,this},Na:function(t){return t&&this.Wc(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var i,n,o,s,r=this.data,a=this.wa(t),h=[],l=[];r||h.length;){if(r||(r=h.pop(),n=h[h.length-1],i=l.pop(),s=!0),r.ra){t:{o=t;var c=r.children,f=e;if(f){for(var d=0;d<c.length;d++)if(f(o,c[d])){o=d;break t}o=-1}else o=c.indexOf(o)}if(-1!==o){r.children.splice(o,1),h.push(r),this.Vd(h);break}}s||r.ra||!u(r,a)?n?(i++,r=n.children[i],s=!1):r=null:(h.push(r),l.push(i),i=0,n=r,r=r.children[0])}return this},wa:function(t){return t},qc:r,rc:a,toJSON:function(){return this.data},Sc:function(t,e){for(var i=[];t;)t.ra?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},Uc:function(t,e,i,o){var s,r=i-e+1,a=this.jc;if(r<=a)return s=f(t.slice(e,i+1)),n(s,this.wa),s;o||(o=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,o-1))),s=f([]),s.ra=!1,s.height=o;var h,l,u,r=Math.ceil(r/a),a=r*Math.ceil(Math.sqrt(a));for(d(t,e,i,a,this.qc);e<=i;e+=a)for(l=Math.min(e+a-1,i),d(t,e,l,r,this.rc),h=e;h<=l;h+=r)u=Math.min(h+r-1,l),s.children.push(this.Uc(t,h,u,o-1));return n(s,this.wa),s},Ud:function(t,e,i,n){for(var o,s,r,a,l,u,c,f;n.push(e),!e.ra&&n.length-1!==i;){for(c=f=1/0,o=0,s=e.children.length;o<s;o++)r=e.children[o],l=h(r),u=(Math.max(r.M,t.M)-Math.min(r.N,t.N))*(Math.max(r.S,t.S)-Math.min(r.P,t.P))-l,u<f?(f=u,c=l<c?l:c,a=r):u===f&&l<c&&(c=l,a=r);e=a||e.children[0]}return e},Wc:function(t,e,i){var n=this.wa;i=i?t:n(t);var n=[],o=this.Ud(i,this.data,e,n);for(o.children.push(t),s(o,i);0<=e&&n[e].children.length>this.jc;)this.ae(n,e),e--;this.Rd(i,n,e)},ae:function(t,e){var i=t[e],o=i.children.length,s=this.Xc;this.Sd(i,s,o),o=this.Td(i,s,o),o=f(i.children.splice(o,i.children.length-o)),o.height=i.height,o.ra=i.ra,n(i,this.wa),n(o,this.wa),e?t[e-1].children.push(o):this.$c(i,o)},$c:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.ra=!1,n(this.data,this.wa)},Td:function(t,e,i){var n,s,r,a,l,u,c;for(l=u=1/0,n=e;n<=i-e;n++)s=o(t,0,n,this.wa),r=o(t,n,i,this.wa),a=Math.max(0,Math.min(s.M,r.M)-Math.max(s.N,r.N))*Math.max(0,Math.min(s.S,r.S)-Math.max(s.P,r.P)),s=h(s)+h(r),a<l?(l=a,c=n,u=s<u?s:u):a===l&&s<u&&(u=s,c=n);return c},Sd:function(t,e,i){var n=t.ra?this.qc:r,o=t.ra?this.rc:a,s=this.Tc(t,e,i,n);e=this.Tc(t,e,i,o),s<e&&t.children.sort(n)},Tc:function(t,e,i,n){t.children.sort(n),n=this.wa;var r,a,h=o(t,0,e,n),u=o(t,i-e,i,n),c=l(h)+l(u);for(r=e;r<i-e;r++)a=t.children[r],s(h,t.ra?n(a):a),c+=l(h);for(r=i-e-1;r>=e;r--)a=t.children[r],s(u,t.ra?n(a):a),c+=l(u);return c},Rd:function(t,e,i){for(;0<=i;i--)s(e[i],t)},Vd:function(t){for(var e,i=t.length-1;0<=i;i--)0===t[i].children.length?0<i?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.wa)},Xd:function(t){var e=["return a"," - b",";"];this.qc=new Function("a","b",e.join(t[0])),this.rc=new Function("a","b",e.join(t[1])),this.wa=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),xf=i.U}(),Ou=Dr.prototype,Ou.Na=function(t,e){if(this.f)throw Error("Can not insert value while reading");var i={N:t[0],P:t[1],M:t[2],S:t[3],value:e};this.b.Na(i),console.assert(!(s(e)in this.a),"uid (%s) of value (%s) already exists",s(e),e),this.a[s(e)]=i},Ou.load=function(t,e){if(this.f)throw Error("Can not insert values while reading");console.assert(t.length===e.length,"extens and values must have same length (%s === %s)",t.length,e.length);for(var i=Array(e.length),n=0,o=e.length;n<o;n++){var r=t[n],a=e[n],r={N:r[0],P:r[1],M:r[2],S:r[3],value:a};i[n]=r,console.assert(!(s(a)in this.a),"uid (%s) of value (%s) already exists",s(a),a),this.a[s(a)]=r}this.b.load(i)},Ou.remove=function(t){if(this.f)throw Error("Can not remove value while reading");var e=s(t);return console.assert(e in this.a,"uid (%s) of value (%s) does not exist",e,t),t=this.a[e],delete this.a[e],null!==this.b.remove(t)},Ou.forEach=function(t,e){++this.f;try{return Or(jr(this),t,e)}finally{--this.f}},Ou.clear=function(){this.b.clear(),this.a={}},Ou.L=function(){var t=this.b.data;return[t.N,t.P,t.M,t.S]},i(Fr,Xs),Ou=Fr.prototype,Ou.tb=function(t,e){var i,n,o,s,r=Th(t),a=t.a,h=this.a.length,l=this.j.a.length;for(i=0,n=r.length;i<n;++i){var u=fe(r[i]);if(0<u.length){var c,f=u[0].u,f=Xt(f,f.length,a,-this.origin[0],-this.origin[1]),d=[];for(o=1,s=u.length;o<s;++o)c=u[o].u,c=Xt(c,c.length,a,-this.origin[0],-this.origin[1]),d.push(c);yr(this.j,f,d,a),Br(this,f,d,a)}}this.a.length>h&&(this.b.push(h),this.i.push(e),this.o.B&&(this.c.push(h),this.o.B=!1)),this.j.a.length>l&&mr(this.j,e,l)},Ou.vb=function(t,e){var i=fe(t),n=t.a;if(0<i.length){this.b.push(this.a.length),this.i.push(e),this.o.B&&(this.c.push(this.a.length),this.o.B=!1),mr(this.j,e);var o,s,r,a=i[0].u,a=Xt(a,a.length,n,-this.origin[0],-this.origin[1]),h=[];for(o=1,s=i.length;o<s;++o)r=i[o].u,r=Xt(r,r.length,n,-this.origin[0],-this.origin[1]),h.push(r);yr(this.j,a,h,n),Br(this,a,h,n)}},Ou.za=function(t){this.l=new Hs(this.f),this.s=new Hs(this.a),this.b.push(this.a.length),this.j.za(t),0===this.c.length&&0<this.A.length&&(this.A=[]),this.a=this.f=null},Ou.Aa=function(t){console.assert(this.l,"verticesBuffer must not be null"),console.assert(this.s,"indicesBuffer must not be null");var e=this.l,i=this.s,n=this.j.Aa(t);return function(){tr(t,e),tr(t,i),n()}},Ou.$b=function(t,e){var i,n=nr(e,yf,mf);return this.D?i=this.D:this.D=i=new Mr(t,n),or(e,n),t.enableVertexAttribArray(i.a),t.vertexAttribPointer(i.a,2,5126,!1,8,0),i},Ou.ac=function(t,e){t.disableVertexAttribArray(e.a)},Ou.wb=function(t,e,i,n){var o=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),g(i)){console.assert(this.A.length===this.c.length,"number of styles and styleIndices match");var a,h,l;for(h=this.b[this.b.length-1],i=this.c.length-1;0<=i;--i)a=this.c[i],l=this.A[i],t.uniform4fv(this.D.C,l),zs(t,e,a,h),h=a}else{console.assert(this.b.length-1===this.i.length,"number of startIndices and startIndicesFeature match");var u,c,f,d;for(f=this.b.length-2,l=h=this.b[f+1],a=this.c.length-1;0<=a;--a){for(u=this.A[a],t.uniform4fv(this.D.C,u),u=this.c[a];0<=f&&this.b[f]>=u;)d=this.b[f],c=this.i[f],c=s(c).toString(),i[c]&&(h!==l&&(zs(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),l=d),f--,h=d;h!==l&&(zs(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),h=l=u}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(o))},Ou.Pb=function(t,e,i,n,o){console.assert(this.A.length===this.c.length,"number of styles and styleIndices match"),console.assert(this.b.length-1===this.i.length,"number of startIndices and startIndicesFeature match");var r,a,h,l,u,c,f;for(f=this.b.length-2,h=this.b[f+1],r=this.c.length-1;0<=r;--r)for(a=this.A[r],t.uniform4fv(this.D.C,a),l=this.c[r];0<=f&&this.b[f]>=l;){if(a=this.b[f],u=this.i[f],c=s(u).toString(),void 0===i[c]&&u.V()&&(void 0===o||mt(o,u.V().L()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),zs(t,e,a,h),h=n(u)))return h;f--,h=a}},Ou.ja=function(t,e){console.assert(this.o,"this.state_ should not be null");var i=t?t.a:[0,0,0,0];i=i instanceof CanvasGradient||i instanceof CanvasPattern?af:ei(i).map(function(t,e){return 3!=e?t/255:t})||af,this.o.fillColor&&W(i,this.o.fillColor)||(this.o.fillColor=i,this.o.B=!0,this.A.push(i)),e?this.j.ja(null,e):this.j.ja(null,new Io({color:[0,0,0,0],lineWidth:0}))},ta.prototype.g=function(){},i(ea,as),ea.prototype.a=function(t,e){var i=void 0!==t?t.toString():"0",n=this.f[i];return void 0===n&&(n={},this.f[i]=n),i=n[e],void 0===i&&(i=wf[e],console.assert(void 0!==i,e+" constructor missing from ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_"),i=new i(this.j,this.i),n[e]=i),i},ea.prototype.b=function(){return g(this.f)},ea.prototype.g=function(t,e,i,n,o,s,r,a){var h=Object.keys(this.f).map(Number);h.sort(O);var l,u,c,f,d,p;for(l=0,u=h.length;l<u;++l)for(d=this.f[h[l].toString()],c=0,f=nf.length;c<f;++c)p=d[nf[c]],void 0!==p&&p.g(t,e,i,n,o,s,r,a,void 0,!1)},ea.prototype.pa=function(t,e,i,n,o,s,r,a,h,l){var u=e.a;u.bindFramebuffer(u.FRAMEBUFFER,er(e));var c;return void 0!==this.c&&(c=it(ht(t),n*this.c)),oa(this,e,t,n,o,r,a,h,function(t){var e=new Uint8Array(4);if(u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),0<e[3]&&(t=l(t)))return t},!0,c)};var Ef=[1,1],wf={Circle:Ys,Image:ar,LineString:pr,Polygon:Fr,Text:ta};i(ra,Uo),Ou=ra.prototype,Ou.ub=function(t,e){var i=this.a,n=new ea(1,this.b).a(0,"Image");n.Ua(this.o),n.ub(t,e),n.za(i),n.g(this.a,this.f,this.i,this.g,this.j,this.c,1,{},void 0,!1),n.Aa(i)()},Ou.sb=function(t,e){var i=this.a,n=new ea(1,this.b).a(0,"Image");n.Ua(this.o),n.sb(t,e),n.za(i),n.g(this.a,this.f,this.i,this.g,this.j,this.c,1,{},void 0,!1),n.Aa(i)()},Ou.qb=function(t,e){var i=this.a,n=new ea(1,this.b).a(0,"LineString");n.ja(null,this.l),n.qb(t,e),n.za(i),n.g(this.a,this.f,this.i,this.g,this.j,this.c,1,{},void 0,!1),n.Aa(i)()},Ou.rb=function(t,e){var i=this.a,n=new ea(1,this.b).a(0,"LineString");n.ja(null,this.l),n.rb(t,e),n.za(i),n.g(this.a,this.f,this.i,this.g,this.j,this.c,1,{},void 0,!1),n.Aa(i)()},Ou.vb=function(t,e){var i=this.a,n=new ea(1,this.b).a(0,"Polygon");n.ja(this.s,this.l),n.vb(t,e),n.za(i),n.g(this.a,this.f,this.i,this.g,this.j,this.c,1,{},void 0,!1),n.Aa(i)()},Ou.tb=function(t,e){var i=this.a,n=new ea(1,this.b).a(0,"Polygon");n.ja(this.s,this.l),n.tb(t,e),n.za(i),n.g(this.a,this.f,this.i,this.g,this.j,this.c,1,{},void 0,!1),n.Aa(i)()},Ou.pb=function(t,e){var i=this.a,n=new ea(1,this.b).a(0,"Circle");n.ja(this.s,this.l),n.pb(t,e),n.za(i),n.g(this.a,this.f,this.i,this.g,this.j,this.c,1,{},void 0,!1),n.Aa(i)()},Ou.Ua=function(t){this.o=t},Ou.ja=function(t,e){this.s=t,this.l=e},i(aa,Os);var Mf=new aa;i(ha,Fs);var Tf=new ha;i(ua,Zo),ua.prototype.Ad=function(t,e,i){fa(this,"precompose",i,t),Qs(i,34962,this.X);var n,o=i.a,s=nr(i,Mf,Tf);this.o?n=this.o:this.o=n=new la(o,s),or(i,s)&&(o.enableVertexAttribArray(n.a),o.vertexAttribPointer(n.a,2,5126,!1,16,0),o.enableVertexAttribArray(n.f),o.vertexAttribPointer(n.f,2,5126,!1,16,8),o.uniform1i(n.i,0)),o.uniformMatrix4fv(n.g,!1,Gs(this.C,this.O)),o.uniformMatrix4fv(n.c,!1,Gs(this.C,this.Z)),o.uniform1f(n.b,e.opacity),o.bindTexture(3553,this.Qa),o.drawArrays(5,0,4),fa(this,"postcompose",i,t)},ua.prototype.v=function(){this.j=this.Qa=null,this.l=void 0};var Nf,Sf=-1<navigator.userAgent.indexOf("OPR"),Lf=-1<navigator.userAgent.indexOf("Edge");Nf=!(!navigator.userAgent.match("CriOS")&&"chrome"in window&&"Google Inc."===navigator.vendor&&0==Sf&&0==Lf),i(ya,j),ya.prototype.pa=o,ya.prototype.da=function(){return this.O},ya.prototype.Sa=function(){this.B()},i(xa,Os);var Af=new xa;i(Ea,Fs);var Cf=new Ea;i(Ma,ua),Ma.prototype.aa=function(){tr(this.c.i,this.G),ua.prototype.aa.call(this)},Ma.prototype.s=function(t,e,i){var n=this.c;return function(o,s){return wu(t,e,o,s,function(t){var e=Sa(n.f,t.getKey());return e&&(i[o]||(i[o]={}),i[o][t.ka.toString()]=t),e})}},Ma.prototype.v=function(){ua.prototype.v.call(this),this.b=null},Ma.prototype.Bd=function(t,e,i){var n=this.c,o=i.a,s=t.viewState,r=s.projection,a=this.a,h=a.na(),u=h.Ja(r),c=ze(u,s.resolution),f=ke(u,c),d=Mu(h,c,t.pixelRatio,r),p=d[0]/De(Ge(u,c),this.T)[0],v=f/p,g=h.zb(p)*h.vc(r),b=s.center,y=t.extent,m=Fe(u,y,f);if(this.i&&Ce(this.i,m)&&this.g==h.f)v=this.J;else{var x=[m.M-m.N+1,m.S-m.P+1],E=l(Math.max(x[0]*d[0],x[1]*d[1])),x=v*E,w=Re(u,c),M=w[0]+m.N*d[0]*v,v=w[1]+m.P*d[1]*v,v=[M,v,M+x,v+x];ca(this,t,E),o.viewport(0,0,E,E),o.clearColor(0,0,0,0),o.clear(16384),o.disable(3042),E=nr(i,this.I,this.ea),or(i,E),this.b||(this.b=new wa(o,E)),Qs(i,34962,this.G),o.enableVertexAttribArray(this.b.a),o.vertexAttribPointer(this.b.a,2,5126,!1,16,0),o.enableVertexAttribArray(this.b.f),o.vertexAttribPointer(this.b.f,2,5126,!1,16,8),o.uniform1i(this.b.b,0),i={},i[c]={};var T,N,S,L=this.s(h,r,i),A=a.get(qc),E=!0,M=st(),C=new Le(0,0,0,0);for(N=m.N;N<=m.M;++N)for(S=m.P;S<=m.S;++S)if(w=_u(h,c,N,S,p,r),void 0===e.extent||(T=We(u,w.ka,M),mt(T,e.extent))){if(T=w.da(),(T=T==Sc||4==T||3==T&&!A)||(w=$i(w)),T=w.da(),T==Sc){if(Sa(n.f,w.getKey())){i[c][w.ka.toString()]=w;continue}}else if(4==T||3==T&&!A)continue;E=!1,T=je(u,w.ka,L,C,M),T||(w=Oe(u,w.ka,C,M))&&L(c+1,w)}e=Object.keys(i).map(Number),e.sort(O);for(var _,L=new Float32Array(4),A=0,C=e.length;A<C;++A)for(_ in N=i[e[A]])w=N[_],T=We(u,w.ka,M),L[0]=2*(T[2]-T[0])/x,L[1]=2*(T[3]-T[1])/x,L[2]=2*(T[0]-v[0])/x-1,L[3]=2*(T[1]-v[1])/x-1,o.uniform4fv(this.b.c,L),Ca(n,w,d,g*p),o.drawArrays(5,0,4);E?(this.i=m,this.J=v,this.g=h.f):(this.J=this.i=null,this.g=-1,t.animate=!0)}Qo(t.usedTiles,h,c,m);var P=n.j;return ts(t,h,u,p,r,y,c,a.get(Kc),function(t){var e;(e=t.da()!=Sc||Sa(n.f,t.getKey()))||(e=t.getKey()in P.f),e||P.j([t,Ue(u,t.ka),ke(u,t.ka[0]),d,g*p])},this),Ko(t,h),$o(t,h),o=this.O,po(o),vo(o,go(Jc,1,0,0,1,(Math.round(b[0]/f)*f-v[0])/(v[2]-v[0]),(Math.round(b[1]/f)*f-v[1])/(v[3]-v[1]))),0!==s.rotation&&mo(o,s.rotation),vo(o,go(Jc,t.size[0]*s.resolution/(v[2]-v[0]),0,0,t.size[1]*s.resolution/(v[3]-v[1]),0,0)),vo(o,go(Jc,1,0,0,1,-.5,-.5)),!0},i(Ta,ua),Ou=Ta.prototype,Ou.Ad=function(t,e,i){this.i=e;var n=t.viewState,o=this.b,s=t.size,r=t.pixelRatio,a=this.c.c;o&&!o.b()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,s[0]*r,s[1]*r),o.g(i,n.center,n.resolution,n.rotation,s,r,e.opacity,e.Wb?t.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},Ou.aa=function(){var t=this.b;t&&(ia(t,this.c.i)(),this.b=null),ua.prototype.aa.call(this)},Ou.pa=function(t,e,i,n,o){if(this.b&&this.i){i=e.viewState;var r=this.a,a={};return this.b.pa(t,this.c.i,i.center,i.resolution,i.rotation,e.size,e.pixelRatio,this.i.opacity,{},function(t){var e=s(t).toString();if(!(e in a))return a[e]=!0,n.call(o,t,r)})}},Ou.yd=function(t,e){if(this.b&&this.i){var i=e.viewState;return sa(this.b,t,this.c.i,i.resolution,i.rotation,e.pixelRatio,this.i.opacity,e.skippedFeatureUids)}return!1},Ou.Cd=function(){Jo(this)},Ou.Bd=function(t,e,i){function n(t){var e,i=t.g;if(i?e=i.call(t,l):(i=o.l)&&(e=i(t,l)),e){if(e){if(i=!1,Array.isArray(e))for(var n=e.length-1;0<=n;--n)i=Ps(f,t,e[n],_s(l,u),this.Cd,this)||i;else i=Ps(f,t,e,_s(l,u),this.Cd,this)||i;t=i}else t=!1;this.g=this.g||t}}var o=this.a;e=o.na(),qo(t.attributions,e.s),$o(t,e);var s=t.viewHints[$u],r=t.viewHints[1],a=o.v,h=o.C;if(!this.g&&!a&&s||!h&&r)return!0;var r=t.extent,a=t.viewState,s=a.projection,l=a.resolution,u=t.pixelRatio,a=o.f,c=o.g,h=o.get("renderOrder");if(void 0===h&&(h=Cs),r=it(r,c*l),!this.g&&this.I==l&&this.T==a&&this.G==h&&ot(this.J,r))return!0;this.b&&t.postRenderFunctions.push(ia(this.b,i)),this.g=!1;var f=new ea(.5*l/u,r,o.g);if(ql(e,r,l,s),h){var d=[];Kl(e,r,function(t){d.push(t)},this),d.sort(h),d.forEach(n,this)}else Kl(e,r,n,this);return na(f,i),this.I=l,this.T=a,this.G=h,this.J=r,this.b=f,!0},Ou=Na.prototype,Ou.clear=function(){this.c=0,this.b={},this.f=this.a=null},Ou.forEach=function(t,e){for(var i=this.a;i;)t.call(e,i.ib,i.Fa,this),i=i.Ba},Ou.get=function(t){return t=this.b[t],a(void 0!==t,15),t===this.f?t.ib:(t===this.a?(this.a=this.a.Ba,this.a.hb=null):(t.Ba.hb=t.hb,t.hb.Ba=t.Ba),t.Ba=null,t.hb=this.f,this.f=this.f.Ba=t,t.ib)},Ou.pop=function(){console.assert(this.a,"oldest must not be null"),console.assert(this.f,"newest must not be null");var t=this.a;return console.assert(t.Fa in this.b,"oldest is indexed in entries"),delete this.b[t.Fa],t.Ba&&(t.Ba.hb=null),this.a=t.Ba,this.a||(this.f=null),--this.c,t.ib},Ou.replace=function(t,e){this.get(t),this.b[t].ib=e},Ou.set=function(t,e){console.assert(!(t in{}),'key is not a standard property of objects (e.g. "__proto__")'),a(!(t in this.b),16);var i={Fa:t,Ba:null,hb:this.f,ib:e};this.f?this.f.Ba=i:this.a=i,this.f=i,this.b[t]=i,++this.c},i(Aa,Eo),Ou=Aa.prototype,Ou.fd=function(t){return t instanceof Lo?new Ma(this,t):t instanceof Bo?new Ta(this,t):(console.assert(!1,"unexpected layer configuration"),null)},Ou.aa=function(){var t=this.c;t.isContextLost()||this.f.forEach(function(e){e&&t.deleteTexture(e.Qa)}),L(this.i),Eo.prototype.aa.call(this)},Ou.ge=function(t,e){for(var i,n=this.c;1024<this.f.c-this.g;){if(i=La(this.f))n.deleteTexture(i.Qa);else{if(i=this.f,console.assert(i.a,"oldest must not be null"),+i.a.Fa==e.index)break;--this.g}this.f.pop()}},Ou.ca=function(){return"webgl"},Ou.ff=function(t){t.preventDefault(),this.f.clear(),this.g=0,t=this.b;for(var e in t)t[e].v()},Ou.gf=function(){Pa(this),this.s.render();
},Ou.Lc=function(t){var e=this.i,i=this.c;if(i.isContextLost())return!1;if(!t)return this.o&&(this.a.style.display="none",this.o=!1),!1;this.A=t.focus,this.f.set((-t.index).toString(),null),++this.g,_a(this,"precompose",t);var n=[],o=t.layerStatesArray;V(o);var s,r,a,h,l=t.viewState.resolution;for(s=0,r=o.length;s<r;++s)h=o[s],lo(h,l)&&"ready"==h.Kd&&(a=To(this,h.layer),a.Bd(t,h,e)&&n.push(h));for(o=t.size[0]*t.pixelRatio,l=t.size[1]*t.pixelRatio,this.a.width==o&&this.a.height==l||(this.a.width=o,this.a.height=l),i.bindFramebuffer(36160,null),i.clearColor(0,0,0,0),i.clear(16384),i.enable(3042),i.viewport(0,0,this.a.width,this.a.height),s=0,r=n.length;s<r;++s)h=n[s],a=To(this,h.layer),a.Ad(t,h,e);this.o||(this.a.style.display="",this.o=!0),wo(t),1024<this.f.c-this.g&&t.postRenderFunctions.push(this.ge.bind(this)),0!==this.j.a.length&&(t.postRenderFunctions.push(this.C),t.animate=!0),_a(this,"postcompose",t),No(this,t),t.postRenderFunctions.push(Mo)},Ou.pa=function(t,e,i,n,o,s,r){var a;if(this.c.isContextLost())return!1;var h,l=e.viewState,u=e.layerStatesArray;for(h=u.length-1;0<=h;--h){a=u[h];var c=a.layer;if(lo(a,l.resolution)&&s.call(r,c)&&(a=To(this,c).pa(t,e,i,n,o)))return a}},Ou.zd=function(t,e,i,n,o){if(i=!1,this.c.isContextLost())return!1;var s,r=e.viewState,a=e.layerStatesArray;for(s=a.length-1;0<=s;--s){var h=a[s],l=h.layer;if(lo(h,r.resolution)&&n.call(o,l)&&(i=To(this,l).yd(t,e)))return!0}return i};var _f=["canvas","webgl"];i(Da,j),Ou=Da.prototype,Ou.be=function(t){this.v.push(t)},Ou.ce=function(t){this.j.push(t)},Ou.de=function(t){this.get(Pf).get(Bc).push(t)},Ou.ee=function(t){this.G.push(t)},Ou.ad=function(t){var e=t.td;void 0!==e&&(this.Gd[e.toString()]=t),t.setMap(this)},Ou.fe=function(t){console.warn("map.beforeRender() is deprecated.  Use view.animate() instead."),this.render(),Array.prototype.push.apply(this.ea,arguments)},Ou.aa=function(){L(this.Ca),L(this.I),M(this.a,"wheel",this.bb,this),M(this.a,"mousewheel",this.bb,this),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0),this.g&&(cancelAnimationFrame(this.g),this.g=void 0),this.set(If,null),j.prototype.aa.call(this)},Ou.ke=function(t,e,i){if(this.b)return t=this.Ma(t),i=void 0!==i?i:{},this.I.pa(t,this.b,void 0!==i.hitTolerance?i.hitTolerance*this.b.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:Et,null)},Ou.He=function(t,e){if(!this.b)return!1;var i=this.Ma(t);return e=void 0!==e?e:{},this.I.zd(i,this.b,void 0!==e.hitTolerance?e.hitTolerance*this.b.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:Et,null)},Ou.kd=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},Ou.Ac=function(){return this.get(If)},Ou.ab=function(){var t=this.Ac();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},Ou.Ma=function(t){var e=this.b;return e?yo(e.pixelToCoordinateTransform,t.slice()):null},Ou.fb=function(){return this.get(Df)},Ou.$=function(){return this.get(jf)},Ou.me=function(t,e,i,n){var o=this.b;return o&&e in o.wantedTiles&&o.wantedTiles[e][t.getKey()]?(t=i[0]-o.focus[0],i=i[1]-o.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},Ou.bb=function(t,e){var i=new Ei(e||t.type,this,t);this.md(i)},Ou.md=function(t){if(this.b){this.Z=t.coordinate,t.frameState=this.b;var e,i=this.j.a;if(!1!==P(this,t))for(e=i.length-1;0<=e;e--){var n=i[e];if(n.get(Lc)&&!n.handleEvent(t))break}}},Ou.Be=function(){var t=this.b,e=this.Da;if(0!==e.a.length){var i=16,n=i;if(t){var o=t.viewHints;o[$u]&&(i=this.gc?8:0,n=2),o[1]&&(i=this.kc?8:0,n=2)}if(e.i<i){on(e);for(var s,r,o=0;e.i<i&&o<n&&0<e.a.length;)s=tn(e)[0],r=s.getKey(),0!==s.da()||r in e.c||(e.c[r]=!0,++e.i,++o,s.load()),console.assert(Object.keys(e.c).length===e.i)}}for(e=this.Ea,i=0,n=e.length;i<n;++i)e[i](this,t);e.length=0},Ou.Ce=function(){this.render()},Ou.Ee=function(){var t;if(this.Ac()&&(t=this.ab(),console.assert(null!==t,"expects a non-null value for targetElement")),this.l){for(var e=0,i=this.l.length;e<i;++e)T(this.l[e]);this.l=null}t?(t.appendChild(this.a),t=this.xa?this.xa:t,this.l=[w(t,"keydown",this.bb,this),w(t,"keypress",this.bb,this)],this.c||(this.c=this.fc.bind(this),window.addEventListener("resize",this.c,!1))):(hi(this.a),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0)),this.fc()},Ou.Fe=function(){this.render()},Ou.pd=function(){this.render()},Ou.Ge=function(){this.X&&(T(this.X),this.X=null),this.O&&(T(this.O),this.O=null);var t=this.$();t&&(this.X=w(t,Xu,this.pd,this),this.O=w(t,"change",this.pd,this)),this.render()},Ou.re=function(){this.C&&(this.C.forEach(T),this.C=null);var t=this.get(Pf);t&&(this.C=[w(t,Xu,this.render,this),w(t,"change",this.render,this)]),this.render()},Ou.Cf=function(){this.g&&cancelAnimationFrame(this.g),this.ia()},Ou.render=function(){void 0===this.g&&(this.g=requestAnimationFrame(this.ia))},Ou.yf=function(t){return this.j.remove(t)},Ou.zf=function(t){return this.get(Pf).get(Bc).remove(t)},Ou.Bf=function(t){var e,i,n,o=this.fb(),r=this.$(),a=st(),h=null;if(void 0!==o&&0<o[0]&&0<o[1]&&r&&Me(r)){var h=me(r,this.b?this.b.viewHints:void 0),l=this.get(Pf).wc(),u={};for(e=0,i=l.length;e<i;++e)u[s(l[e].layer)]=l[e];n=r.da(),h={animate:!1,attributions:{},coordinateToPixelTransform:this.Ra,extent:a,focus:this.Z?this.Z:n.center,index:this.Fb++,layerStates:u,layerStatesArray:l,logos:Vu({},this.nc),pixelRatio:this.oc,pixelToCoordinateTransform:this.sc,postRenderFunctions:[],size:o,skippedFeatureUids:this.tc,tileQueue:this.Da,time:t,usedTiles:{},viewState:n,viewHints:h,wantedTiles:{}}}if(h){for(t=this.ea,e=o=0,i=t.length;e<i;++e)r=t[e],r(this,h)&&(t[o++]=r);t.length=o,h.extent=vt(n.center,n.resolution,n.rotation,h.size,a)}this.b=h,this.I.Lc(h),h&&(h.animate&&this.render(),Array.prototype.push.apply(this.Ea,h.postRenderFunctions),0!==this.ea.length||h.viewHints[$u]||h.viewHints[1]||lt(h.extent,this.Ka)||(P(this,new li("moveend",this,h)),nt(h.extent,this.Ka))),P(this,new li("postrender",this,h)),setTimeout(this.Be.bind(this),0)},Ou.fc=function(){var t=this.ab();if(t){var e=getComputedStyle(t);this.set(Df,[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set(Df,void 0)};var Pf="layergroup",Df="size",If="target",jf="view";_t(Gc),_t(Yc),Yc.forEach(function(t){Gc.forEach(function(e){Lt(t,e,oo),Lt(e,t,so)})}),i(Ra,j),Ou=Ra.prototype,Ou.qe=function(){for(var t=this.b;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(Xf))&&this.b.appendChild(t)},Ou.we=function(){this.c&&(hi(this.b),T(this.c),this.c=null);var t=this.get(zf);t&&(this.c=w(t,"postrender",this.render,this),Fa(this),t=this.s?t.s:t.o,this.l?t.insertBefore(this.b,t.childNodes[0]||null):t.appendChild(this.b))},Ou.render=function(){Fa(this)},Ou.xe=function(){Fa(this)},Ou.ze=function(){if(Fa(this),void 0!==this.get(Yf)&&this.autoPan){var t=this.get(zf);if(void 0!==t&&t.ab()){var e=ka(t.ab(),t.fb()),i=this.get(Xf),n=i.offsetWidth,o=i.currentStyle||getComputedStyle(i),n=n+(parseInt(o.marginLeft,10)+parseInt(o.marginRight,10)),o=i.offsetHeight,s=i.currentStyle||getComputedStyle(i),o=o+(parseInt(s.marginTop,10)+parseInt(s.marginBottom,10)),r=ka(i,[n,o]),i=this.j;ot(e,r)||(n=r[0]-e[0],o=e[2]-r[2],s=r[1]-e[1],r=e[3]-r[3],e=[0,0],0>n?e[0]=n-i:0>o&&(e[0]=Math.abs(o)+i),0>s?e[1]=s-i:0>r&&(e[1]=Math.abs(r)+i),0===e[0]&&0===e[1])||(i=t.$().ya(),i=Ia(t,i),e=[i[0]+e[0],i[1]+e[1]],t.$().animate({center:t.Ma(e),duration:this.g.duration,easing:this.g.easing}))}}},Ou.Ae=function(){Fa(this)},Ou.setMap=function(t){this.set(zf,t)},Ou.ud=function(t){this.set(Yf,t)};var Rf="bottom-left",kf="bottom-center",Of="bottom-right",Ff="center-left",Bf="center-center",Uf="center-right",Wf="top-left",Vf="top-center",Gf="top-right",Xf="element",zf="map",Hf="offset",Yf="position",Zf="positioning";i(Ba,j),Ou=Ba.prototype,Ou.clone=function(){var t=new Ba(this.J());Ua(t,this.b);var e=this.V();return e&&t.Ga(e.clone()),(e=this.j)&&(t.j=e,t.g=e?Wa(e):void 0,t.B()),t},Ou.V=function(){return this.get(this.b)},Ou.$e=function(){this.B()},Ou.Sb=function(){this.c&&(T(this.c),this.c=null);var t=this.V();t&&(this.c=w(t,"change",this.$e,this)),this.B()},Ou.Ga=function(t){this.set(this.b,t)};var Jf=document.implementation.createDocument("","",null),Kf=Qa();i(ch,hh),ch.prototype.ca=function(){return"json"},ch.prototype.Fc=function(t,e){return this.a(fh(t),lh(this,t,e))},ch.prototype.Yb=function(t,e){return this.c(fh(t),lh(this,t,e))},ch.prototype.Hc=function(t){return this.i(fh(t))},i(ph,zt),Ou=ph.prototype,Ou.clone=function(){var t=new ph(null);return t.W(this.Y,this.u.slice()),t},Ou.sa=function(){return $t(this.u,0,this.u.length,this.a)},Ou.$a=function(t){var e=[];return e.length=te(this.u,0,this.u.length,this.a,t,e,0),t=new ph(null),t.W("XY",e),t},Ou.ca=function(){return"LineString"},Ou.ha=function(t,e){t?(Zt(this,e,t,1),this.u||(this.u=[]),this.u.length=Kt(this.u,0,t,this.a),this.B()):this.W("XY",null)},Ou.W=function(t,e){Yt(this,t,e),this.B()},i(gh,zt),Ou=gh.prototype,Ou.clone=function(){var t=new gh(null);return t.W(this.Y,this.u.slice(),this.c.slice()),t},Ou.sa=function(){return Qt(this.u,0,this.c,this.a)},Ou.Za=function(){return this.c},Ou.$a=function(t){var e,i,n=[],o=[],s=this.u,r=this.c,a=this.a,h=0,l=0;for(e=0,i=r.length;e<i;++e){var u=r[e],l=te(s,h,u,a,t,n,l);o.push(l),h=u}return n.length=l,t=new gh(null),t.W("XY",n,o),t},Ou.ca=function(){return"MultiLineString"},Ou.ha=function(t,e){if(t){Zt(this,e,t,2),this.u||(this.u=[]);var i=qt(this.u,0,t,this.a,this.c);this.u.length=0===i.length?0:i[i.length-1],this.B()}else this.W("XY",null,this.c)},Ou.W=function(t,e,i){e?0===i.length?console.assert(0===e.length,"flatCoordinates should be an empty array"):console.assert(e.length==i[i.length-1],"length of flatCoordinates array should match the last value of ends"):console.assert(i&&0===i.length,"ends must be truthy and ends.length should be 0"),Yt(this,t,e),this.c=i,this.B()},i(xh,zt),Ou=xh.prototype,Ou.clone=function(){var t=new xh(null);return t.W(this.Y,this.u.slice()),t},Ou.sa=function(){return $t(this.u,0,this.u.length,this.a)},Ou.ca=function(){return"MultiPoint"},Ou.ha=function(t,e){t?(Zt(this,e,t,1),this.u||(this.u=[]),this.u.length=Kt(this.u,0,t,this.a),this.B()):this.W("XY",null)},Ou.W=function(t,e){Yt(this,t,e),this.B()},i(Eh,zt),Ou=Eh.prototype,Ou.clone=function(){for(var t=new Eh(null),e=this.c.length,i=Array(e),n=0;n<e;++n)i[n]=this.c[n].slice();return Nh(t,this.Y,this.u.slice(),i),t},Ou.sa=function(t){var e;void 0!==t?(e=Mh(this).slice(),le(e,this.c,this.a,t)):e=this.u,t=e,e=this.c;var i,n,o=this.a,s=0,r=[],a=0;for(i=0,n=e.length;i<n;++i){var h=e[i];r[a++]=Qt(t,s,h,o,r[a]),s=h[h.length-1]}return r.length=a,r},Ou.$a=function(t){var e=[],i=[],n=this.u,o=this.c,s=this.a;t=Math.sqrt(t);var r,a,h=0,l=0;for(r=0,a=o.length;r<a;++r){var u=o[r],c=[],l=ee(n,h,u,s,t,e,l,c);i.push(c),h=u[u.length-1]}return e.length=l,n=new Eh(null),Nh(n,"XY",e,i),n},Ou.ca=function(){return"MultiPolygon"},Ou.ha=function(t,e){if(t){Zt(this,e,t,3),this.u||(this.u=[]);var i,n,o=this.u,s=this.a,r=this.c,a=0,r=r?r:[],h=0;for(i=0,n=t.length;i<n;++i)a=qt(o,a,t[i],s,r[h]),r[h++]=a,a=a[a.length-1];r.length=h,0===r.length?this.u.length=0:(o=r[r.length-1],this.u.length=0===o.length?0:o[o.length-1]),this.B()}else Nh(this,"XY",null,this.c)},i(Sh,ch);var qf={Point:function(t){return console.assert("number"==typeof t.x,"object.x should be number"),console.assert("number"==typeof t.y,"object.y should be number"),void 0!==t.m&&void 0!==t.z?new ne([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new ne([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new ne([t.x,t.y,t.m],"XYM"):new ne([t.x,t.y])},LineString:function(t){return console.assert(Array.isArray(t.paths),"object.paths should be an array"),console.assert(1===t.paths.length,"object.paths array length should be 1"),new ph(t.paths[0],Lh(t))},Polygon:function(t){return console.assert(t.rings),new ue(t.rings,Lh(t))},MultiPoint:function(t){return new xh(t.points,Lh(t))},MultiLineString:function(t){return console.assert(Array.isArray(t.paths),"object.paths should be an array"),console.assert(1<t.paths.length,"object.paths array length should be more than 1"),new gh(t.paths,Lh(t))},MultiPolygon:function(t){return console.assert(1<t.rings.length,"object.rings should have length larger than 1"),new Eh(t.rings,Lh(t))}};Sh.prototype.a=function(t,e){console.assert(t.geometry||t.attributes,"geometry or attributes should be defined");var i;if(i=t.geometry){var n;if("number"==typeof i.x&&"number"==typeof i.y)n="Point";else if(i.points)n="MultiPoint";else if(i.paths)n=1===i.paths.length?"LineString":"MultiLineString";else if(i.rings){var o=i.rings,s=Lh(i),r=[];n=[];var a,h;for(a=0,h=o.length;a<h;++a){var l=B(o[a]);re(l,0,l.length,s.length)?r.push([o[a]]):n.push(o[a])}for(;n.length;){for(o=n.shift(),s=!1,a=r.length-1;0<=a;a--)if(ot(new ie(r[a][0]).L(),new ie(o).L())){r[a].push(o),s=!0;break}s||r.push([o.reverse()])}i=Vu({},i),1===r.length?(n="Polygon",i.rings=r[0]):(n="MultiPolygon",i.rings=r)}i=uh((0,qf[n])(i),!1,e)}else i=null;return r=new Ba,this.f&&Ua(r,this.f),r.Ga(i),e&&e.Ub&&t.attributes[e.Ub]&&(console.assert("number"==typeof t.attributes[e.Ub],"objectIdFieldName value should be a number"),r.a=t.attributes[e.Ub],r.B()),t.attributes&&r.i(t.attributes),r},Sh.prototype.c=function(t,e){var i=e?e:{};if(t.features){var n,o,s=[],r=t.features;for(i.Ub=t.objectIdFieldName,n=0,o=r.length;n<o;++n)s.push(this.a(r[n],i));return s}return[this.a(t,i)]},Sh.prototype.i=function(t){return t.spatialReference&&t.spatialReference.wkid?Rt("EPSG:"+t.spatialReference.wkid):null},i(Ah,Vt),Ou=Ah.prototype,Ou.clone=function(){var t=new Ah(null),e=Ch(this.b);return _h(t),t.b=e,Ph(t),t.B(),t},Ou.Ob=function(t){at(t);for(var e=this.b,i=0,n=e.length;i<n;++i)ut(t,e[i].L());return t},Ou.yc=function(t){if(this.o!=this.f&&(p(this.g),this.j=0,this.o=this.f),0>t||0!==this.j&&t<this.j)return this;var e=t.toString();if(this.g.hasOwnProperty(e))return this.g[e];var i,n,o=[],s=this.b,r=!1;for(i=0,n=s.length;i<n;++i){var a=s[i],h=a.yc(t);o.push(h),h!==a&&(r=!0)}return r?(t=new Ah(null),_h(t),t.b=o,Ph(t),t.B(),this.g[e]=t):(this.j=t,this)},Ou.ca=function(){return"GeometryCollection"},Ou.rotate=function(t,e){for(var i=this.b,n=0,o=i.length;n<o;++n)i[n].rotate(t,e);this.B()},Ou.scale=function(t,e,i){i||(i=pt(this.L()));for(var n=this.b,o=0,s=n.length;o<s;++o)n[o].scale(t,e,i);this.B()},Ou.Lb=function(t){var e,i,n=this.b;for(e=0,i=n.length;e<i;++e)n[e].Lb(t);this.B()},Ou.translate=function(t,e){var i,n,o=this.b;for(i=0,n=o.length;i<n;++i)o[i].translate(t,e);this.B()},Ou.aa=function(){_h(this),Vt.prototype.aa.call(this)},i(Dh,ch);var $f={Point:function(t){return console.assert("Point"==t.type,"object.type should be Point"),new ne(t.coordinates)},LineString:function(t){return console.assert("LineString"==t.type,"object.type should be LineString"),new ph(t.coordinates)},Polygon:function(t){return console.assert("Polygon"==t.type,"object.type should be Polygon"),new ue(t.coordinates)},MultiPoint:function(t){return console.assert("MultiPoint"==t.type,"object.type should be MultiPoint"),new xh(t.coordinates)},MultiLineString:function(t){return console.assert("MultiLineString"==t.type,"object.type should be MultiLineString"),new gh(t.coordinates)},MultiPolygon:function(t){return console.assert("MultiPolygon"==t.type,"object.type should be MultiPolygon"),new Eh(t.coordinates)},GeometryCollection:function(t,e){console.assert("GeometryCollection"==t.type,"object.type should be GeometryCollection");var i=t.geometries.map(function(t){return Ih(t,e)});return new Ah(i)}};Dh.prototype.a=function(t,e){console.assert("FeatureCollection"!==t.type,"Expected a Feature or geometry");var i;i="Feature"===t.type?t:{type:"Feature",geometry:t};var n=Ih(i.geometry,e),o=new Ba;return this.f&&Ua(o,this.f),o.Ga(n),void 0!==i.id&&(o.a=i.id,o.B()),i.properties&&o.i(i.properties),o},Dh.prototype.c=function(t,e){var i;if("FeatureCollection"===t.type){i=[];var n,o,s=t.features;for(n=0,o=s.length;n<o;++n)i.push(this.a(s[n],e))}else i=[this.a(t,e)];return i},Dh.prototype.i=function(t){t=t.crs;var e;return t?"name"==t.type?e=Rt(t.properties.name):"EPSG"==t.type?e=Rt("EPSG:"+t.properties.code):a(!1,36):e=this.defaultDataProjection,e},i(jh,hh),Ou=jh.prototype,Ou.ca=function(){return"xml"},Ou.Fc=function(t,e){if(Xa(t))return Rh(this,t,e);if(za(t))return this.j(t,e);if("string"==typeof t){var i=Ha(t);return Rh(this,i,e)}return null},Ou.Yb=function(t,e){if(Xa(t))return kh(this,t,e);if(za(t))return Fh(this,t,e);if("string"==typeof t){var i=Ha(t);return kh(this,i,e)}return[]},Ou.Hc=function(t){return Xa(t)?this.defaultDataProjection:za(t)?this.Hd(t):"string"==typeof t?(Ha(t),this.defaultDataProjection):null},Ou.Hd=function(){return this.defaultDataProjection},i(Oh,jh);var Qf=/^[\s\xa0]*$/;Oh.prototype.f=function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT");var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?nh([],this.a,t,e,this):nh(null,this.a,t,e,this);else if("featureMembers"==i||"featureMember"==i){var o,s,r=e[0],a=r.featureType,h=r.featureNS;if(!a&&t.childNodes){for(a=[],h={},o=0,s=t.childNodes.length;o<s;++o){var l=t.childNodes[o];if(1===l.nodeType){var u=l.nodeName.split(":").pop();if(-1===a.indexOf(u)){var c,f="",d=0,l=l.namespaceURI;for(c in h){if(h[c]===l){f=c;break}++d}f||(f="p"+d,h[f]=l),a.push(f+":"+u)}}}"featureMember"!=i&&(r.featureType=a,r.featureNS=h)}"string"==typeof h&&(o=h,h={},h.p0=o);var p,r={},a=Array.isArray(a)?a:[a];for(p in h){for(u={},o=0,s=a.length;o<s;++o)(-1===a[o].indexOf(":")?"p0":a[o].split(":")[0])===p&&(u[a[o].split(":").pop()]="featureMembers"==i?Ya(this.c,this):Za(this.c,this));r[h[p]]=u}n="featureMember"==i?nh(void 0,r,t,e):nh([],r,t,e)}return null===n&&(n=[]),n},Oh.prototype.i=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName");var n=nh(null,this.g,t,e,this);if(n)return uh(n,!1,i)},Oh.prototype.c=function(t,e){var i,n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,s={};for(i=t.firstElementChild;i;i=i.nextElementSibling){var r=i.localName;if(0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)){var a=Va(i);Qf.test(a)&&(a=void 0),s[r]=a}else"boundedBy"!==r&&(o=r),s[r]=this.i(i,e)}return i=new Ba(s),o&&Ua(i,o),n&&(i.a=n,i.B()),i},Oh.prototype.Hd=function(t){return Rt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))};var td=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];eh(td,{rte:Ya(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("rte"==t.localName,"localName should be rte");var i=e[0],n=nh({flatCoordinates:[],layoutOptions:{}},id,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var s=n.layoutOptions;delete n.layoutOptions;var s=$h(s,o),r=new ph(null);return r.W(s,o),uh(r,!1,i),i=new Ba(r),i.i(n),i}}),trk:Ya(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trk"==t.localName,"localName should be trk");var i=e[0],n=nh({flatCoordinates:[],ends:[],layoutOptions:{}},od,t,e);if(n){var o=n.flatCoordinates;delete n.flatCoordinates;var s=n.ends;delete n.ends;var r=n.layoutOptions;delete n.layoutOptions;var r=$h(r,o,s),a=new gh(null);return a.W(r,o,s),uh(a,!1,i),i=new Ba(a),i.i(n),i}}),wpt:Ya(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("wpt"==t.localName,"localName should be wpt");var i=e[0],n=nh({},ad,t,e);if(n){var o={},s=qh([],o,t,n),o=$h(o,s),s=new ne(s,o);return uh(s,!1,i),i=new Ba(s),i.i(n),i}})});var ed=eh(td,{text:Ka(Hh,"linkText"),type:Ka(Hh,"linkType")}),id=eh(td,{name:Ka(Hh),cmt:Ka(Hh),desc:Ka(Hh),src:Ka(Hh),link:Qh,number:Ka(Xh),extensions:tl,type:Ka(Hh),rtept:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("rtept"==t.localName,"localName should be rtept");var i=nh({},nd,t,e);if(i){var n=e[e.length-1];qh(n.flatCoordinates,n.layoutOptions,t,i)}}}),nd=eh(td,{ele:Ka(Vh),time:Ka(Wh)}),od=eh(td,{name:Ka(Hh),cmt:Ka(Hh),desc:Ka(Hh),src:Ka(Hh),link:Qh,number:Ka(Xh),type:Ka(Hh),extensions:tl,trkseg:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trkseg"==t.localName,"localName should be trkseg");var i=e[e.length-1];ih(sd,t,e),i.ends.push(i.flatCoordinates.length)}}),sd=eh(td,{trkpt:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("trkpt"==t.localName,"localName should be trkpt");var i=nh({},rd,t,e);if(i){var n=e[e.length-1];qh(n.flatCoordinates,n.layoutOptions,t,i)}}}),rd=eh(td,{ele:Ka(Vh),time:Ka(Wh)}),ad=eh(td,{ele:Ka(Vh),time:Ka(Wh),magvar:Ka(Vh),geoidheight:Ka(Vh),name:Ka(Hh),cmt:Ka(Hh),desc:Ka(Hh),src:Ka(Hh),link:Qh,sym:Ka(Hh),type:Ka(Hh),fix:Ka(Hh),sat:Ka(Xh),hdop:Ka(Vh),vdop:Ka(Vh),pdop:Ka(Vh),ageofdgpsdata:Ka(Vh),dgpsid:Ka(Xh),extensions:tl}),hd=["text","type"],ld=eh(td,{text:qa(Kh),type:qa(Kh)}),ud=eh(td,"name cmt desc src link number type rtept".split(" ")),cd=eh(td,{name:qa(Kh),cmt:qa(Kh),desc:qa(Kh),src:qa(Kh),link:qa(el),number:qa(Jh),type:qa(Kh),rtept:$a(qa(il))}),fd=eh(td,["ele","time"]),dd=eh(td,"name cmt desc src link number type trkseg".split(" ")),pd=eh(td,{name:qa(Kh),cmt:qa(Kh),desc:qa(Kh),src:qa(Kh),link:qa(el),number:qa(Jh),type:qa(Kh),trkseg:$a(qa(function(t,e,i){sh({node:t,geometryLayout:e.Y,properties:{}},gd,vd,e.sa(),i)}))}),vd=Qa("trkpt"),gd=eh(td,{trkpt:qa(il)}),bd=eh(td,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),yd=eh(td,{ele:qa(Zh),time:qa(function(t,e){var i=new Date(1e3*e);t.appendChild(Jf.createTextNode(i.getUTCFullYear()+"-"+K(i.getUTCMonth()+1)+"-"+K(i.getUTCDate())+"T"+K(i.getUTCHours())+":"+K(i.getUTCMinutes())+":"+K(i.getUTCSeconds())+"Z"))}),magvar:qa(Zh),geoidheight:qa(Zh),name:qa(Kh),cmt:qa(Kh),desc:qa(Kh),src:qa(Kh),link:qa(el),sym:qa(Kh),type:qa(Kh),fix:qa(Kh),sat:qa(Jh),hdop:qa(Zh),vdop:qa(Zh),pdop:qa(Zh),ageofdgpsdata:qa(Zh),dgpsid:qa(Jh)});eh(td,{rte:qa(function(t,e,i){var n=i[0],o=e.J();t={node:t,properties:o},(e=e.V())&&(e=uh(e,!0,n),t.geometryLayout=e.Y,o.rtept=e.sa()),n=ud[i[i.length-1].node.namespaceURI],o=th(o,n),sh(t,cd,Kf,o,i,n)}),trk:qa(function(t,e,i){var n=i[0],o=e.J();t={node:t,properties:o},(e=e.V())&&(e=uh(e,!0,n),o.trkseg=bh(e)),n=dd[i[i.length-1].node.namespaceURI],o=th(o,n),sh(t,pd,Kf,o,i,n)}),wpt:qa(function(t,e,i){var n=i[0],o=i[i.length-1];o.properties=e.J(),(e=e.V())&&(e=uh(e,!0,n),o.geometryLayout=e.Y,il(t,e.sa(),i))})}),i(nl,_),nl.prototype.o=function(){this.b=3,this.c.forEach(T),this.c=null,P(this,"change")},nl.prototype.v=function(){if(this.b=2,this.f&&(this.a.width=this.f[0],this.a.height=this.f[1]),this.f=[this.a.width,this.a.height],this.c.forEach(T),this.c=null,ol(this),!this.s&&null!==this.g){this.i.width=this.a.width,this.i.height=this.a.height;var t=this.i.getContext("2d");t.drawImage(this.a,0,0);for(var e=t.getImageData(0,0,this.a.width,this.a.height),i=e.data,n=this.g[0]/255,o=this.g[1]/255,s=this.g[2]/255,r=0,a=i.length;r<a;r+=4)i[r]*=n,i[r+1]*=o,i[r+2]*=s;t.putImageData(e,0,0)}P(this,"change")},nl.prototype.load=function(){if(0==this.b){console.assert(void 0!==this.l,"this.src_ must not be undefined"),console.assert(!this.c,"no listener keys existing"),this.b=1,this.c=[w(this.a,"error",this.o,this,!0),w(this.a,"load",this.v,this,!0)];try{this.a.src=this.l}catch(t){this.o()}}},i(sl,Co),Ou=sl.prototype,Ou.clone=function(){var t,e=this.Bb(1);if(2===this.a.b)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement("canvas");var i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0)}return new sl({anchor:this.c.slice(),anchorOrigin:this.f,anchorXUnits:this.D,anchorYUnits:this.C,crossOrigin:this.I,color:this.i&&this.i.slice?this.i.slice():this.i||void 0,img:t?t:void 0,imgSize:t?this.a.f.slice():void 0,src:t?void 0:this.a.l,offset:this.G.slice(),offsetOrigin:this.b,size:null!==this.A?this.A.slice():void 0,opacity:this.l,scale:this.j,snapToPixel:this.J,rotation:this.o,rotateWithView:this.v})},Ou.xb=function(){if(this.g)return this.g;var t=this.c,e=this.Ta();if(this.D==md||this.C==md){if(!e)return null;t=this.c.slice(),this.D==md&&(t[0]*=e[0]),this.C==md&&(t[1]*=e[1])}if(this.f!=wd){if(!e)return null;t===this.c&&(t=this.c.slice()),this.f!=Md&&this.f!=Ed||(t[0]=-t[0]+e[0]),this.f!=xd&&this.f!=Ed||(t[1]=-t[1]+e[1])}return this.g=t},Ou.Bb=function(){var t=this.a;return t.i?t.i:t.a},Ou.Qb=function(){return this.a.f},Ou.ld=function(){return this.Qb()},Ou.Cb=function(){return this.a.b},Ou.Ec=function(){var t=this.a;if(!t.j)if(t.s){var e=t.f[0],i=t.f[1],n=ri(e,i);n.fillRect(0,0,e,i),t.j=n.canvas}else t.j=t.a;return t.j},Ou.Db=function(){if(this.s)return this.s;var t=this.G;if(this.b!=wd){var e=this.Ta(),i=this.a.f;if(!e||!i)return null;t=t.slice(),this.b!=Md&&this.b!=Ed||(t[0]=i[0]-e[0]-t[0]),this.b!=xd&&this.b!=Ed||(t[1]=i[1]-e[1]-t[1])}return this.s=t},Ou.Ta=function(){return this.A?this.A:this.a.f},Ou.qd=function(t,e){return w(this.a,"change",t,e)},Ou.load=function(){this.a.load()},Ou.Nd=function(t,e){M(this.a,"change",t,e)};var md="fraction",xd="bottom-left",Ed="bottom-right",wd="top-left",Md="top-right";rl.prototype.clone=function(){return new rl({font:this.c,rotation:this.l,rotateWithView:this.j,scale:this.f,text:this.ma(),textAlign:this.s,textBaseline:this.o,fill:this.a?this.a.clone():void 0,stroke:this.b?this.b.clone():void 0,offsetX:this.i,offsetY:this.g})},rl.prototype.ma=function(){return this.A};var Td=["http://www.google.com/kml/ext/2.2"],Nd=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Sd={fraction:md,pixels:"pixels"},Ld=eh(Nd,{displayName:Ka(Hh),value:Ka(Hh)}),Ad=eh(Nd,{Data:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Data"==t.localName,"localName should be Data");var i=t.getAttribute("name");ih(Ld,t,e);var n=e[e.length-1];null!==i?n[i]=n.value:null!==n.displayName&&(n[n.displayName]=n.value)},SchemaData:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("SchemaData"==t.localName,"localName should be SchemaData"),ih(Zd,t,e)}}),Cd=eh(Nd,{LatLonAltBox:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LatLonAltBox"==t.localName,"localName should be LatLonAltBox");var i=nh({},_d,t,e);if(i){var n=e[e.length-1];n.extent=[parseFloat(i.west),parseFloat(i.south),parseFloat(i.east),parseFloat(i.north)],n.altitudeMode=i.altitudeMode,n.minAltitude=parseFloat(i.minAltitude),n.maxAltitude=parseFloat(i.maxAltitude)}},Lod:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Lod"==t.localName,"localName should be Lod");var i=nh({},Pd,t,e);if(i){var n=e[e.length-1];n.minLodPixels=parseFloat(i.minLodPixels),n.maxLodPixels=parseFloat(i.maxLodPixels),n.minFadeExtent=parseFloat(i.minFadeExtent),n.maxFadeExtent=parseFloat(i.maxFadeExtent)}}}),_d=eh(Nd,{altitudeMode:Ka(Hh),minAltitude:Ka(Vh),maxAltitude:Ka(Vh),north:Ka(Vh),south:Ka(Vh),east:Ka(Vh),west:Ka(Vh)}),Pd=eh(Nd,{minLodPixels:Ka(Vh),maxLodPixels:Ka(Vh),minFadeExtent:Ka(Vh),maxFadeExtent:Ka(Vh)}),Dd=eh(Nd,{extrude:Ka(Bh),altitudeMode:Ka(Hh)}),Id=eh(Nd,{coordinates:Za(hl)}),jd=eh(Nd,{innerBoundaryIs:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("innerBoundaryIs"==t.localName,"localName should be innerBoundaryIs");var i=nh(void 0,Bd,t,e);if(i){var n=e[e.length-1];console.assert(Array.isArray(n),"flatLinearRings should be an array"),console.assert(0<n.length,"flatLinearRings array should not be empty"),n.push(i)}},outerBoundaryIs:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("outerBoundaryIs"==t.localName,"localName should be outerBoundaryIs");var i=nh(void 0,zd,t,e);if(i){var n=e[e.length-1];console.assert(Array.isArray(n),"flatLinearRings should be an array"),console.assert(0<n.length,"flatLinearRings array should not be empty"),n[0]=i}}}),Rd=eh(Nd,{when:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("when"==t.localName,"localName should be when");var i=e[e.length-1].Pd,n=Va(t),n=Date.parse(n);i.push(isNaN(n)?0:n)}},eh(Td,{coord:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=Td.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("coord"==t.localName,"localName should be coord");var i=e[e.length-1].u,n=Va(t);(n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n))?i.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),0):i.push(0,0,0,0)}})),kd=eh(Nd,{coordinates:Za(hl)}),Od=eh(Nd,{href:Ka(ll)},eh(Td,{x:Ka(Vh),y:Ka(Vh),w:Ka(Vh),h:Ka(Vh)})),Fd=eh(Nd,{Icon:Ka(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Icon"==t.localName,"localName should be Icon");var i=nh({},Od,t,e);return i?i:null}),heading:Ka(Vh),hotSpot:Ka(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),Qc:Sd[e],y:parseFloat(t.getAttribute("y")),Rc:Sd[i]}}),scale:Ka(ul)}),Bd=eh(Nd,{LinearRing:Za(cl)}),Ud=eh(Nd,{color:Ka(al),scale:Ka(ul)}),Wd=eh(Nd,{color:Ka(al),width:Ka(Vh)}),Vd=eh(Nd,{LineString:Ya(pl),LinearRing:Ya(vl),MultiGeometry:Ya(gl),Point:Ya(bl),Polygon:Ya(yl)}),Gd=eh(Td,{Track:Ya(fl)});eh(Nd,{ExtendedData:El,Region:wl,Link:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Link"==t.localName,"localName should be Link"),ih(Xd,t,e)},address:Ka(Hh),description:Ka(Hh),name:Ka(Hh),open:Ka(Bh),phoneNumber:Ka(Hh),visibility:Ka(Bh)});var Xd=eh(Nd,{href:Ka(ll)}),zd=eh(Nd,{LinearRing:Za(cl)}),Hd=eh(Nd,{Style:Ka(ml),key:Ka(Hh),styleUrl:Ka(ll)});eh(Nd,{ExtendedData:El,Region:wl,MultiGeometry:Ka(gl,"geometry"),LineString:Ka(pl,"geometry"),LinearRing:Ka(vl,"geometry"),Point:Ka(bl,"geometry"),Polygon:Ka(yl,"geometry"),Style:Ka(ml),StyleMap:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("StyleMap"==t.localName,"localName should be StyleMap");var i=nh(void 0,Kd,t,e);if(i){var n=e[e.length-1];Array.isArray(i)?n.Style=i:"string"==typeof i?n.styleUrl=i:a(!1,38)}},address:Ka(Hh),description:Ka(Hh),name:Ka(Hh),open:Ka(Bh),phoneNumber:Ka(Hh),styleUrl:Ka(ll),visibility:Ka(Bh)},eh(Td,{MultiTrack:Ka(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert(0<=Td.indexOf(t.namespaceURI),"namespaceURI of the node should be known to the KML parser"),console.assert("MultiTrack"==t.localName,"localName should be MultiTrack");var i=nh([],Gd,t,e);if(i){var n=new gh(null);return mh(n,i),n}},"geometry"),Track:Ka(fl,"geometry")}));var Yd=eh(Nd,{color:Ka(al),fill:Ka(Bh),outline:Ka(Bh)}),Zd=eh(Nd,{SimpleData:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("SimpleData"==t.localName,"localName should be SimpleData");var i=t.getAttribute("name");if(null!==i){var n=Hh(t);e[e.length-1][i]=n}}}),Jd=eh(Nd,{IconStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be an ELEMENT"),console.assert("IconStyle"==t.localName,"localName should be IconStyle");var i=nh({},Fd,t,e);
if(i){var n,o=e[e.length-1],s="Icon"in i?i.Icon:{},r=!("Icon"in i)||0<Object.keys(s).length,a=s.href;a?n=a:r&&(n=void 0);var h,l,u;(a=i.hotSpot)?(h=[a.x,a.y],l=a.Qc,u=a.Rc):void 0===n?u=l=h=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(h=[.5,0],u=l=md);var c,a=s.x,f=s.y;void 0!==a&&void 0!==f&&(c=[a,f]);var d,a=s.w,s=s.h;void 0!==a&&void 0!==s&&(d=[a,s]);var p,s=i.heading;void 0!==s&&(p=s*Math.PI/180),i=i.scale,r?(void 0==n&&(d=void 0,void 0===i&&(i=void 0)),r=new sl({anchor:h,anchorOrigin:xd,anchorXUnits:l,anchorYUnits:u,crossOrigin:"anonymous",offset:c,offsetOrigin:xd,rotation:p,scale:i,size:d,src:n}),o.imageStyle=r):o.imageStyle=void 0}},LabelStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LabelStyle"==t.localName,"localName should be LabelStyle");var i=nh({},Ud,t,e);i&&(e[e.length-1].textStyle=new rl({fill:new Do({color:"color"in i?i.color:void 0}),scale:i.scale}))},LineStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("LineStyle"==t.localName,"localName should be LineStyle");var i=nh({},Wd,t,e);i&&(e[e.length-1].strokeStyle=new Io({color:"color"in i?i.color:void 0,width:"width"in i?i.width:1}))},PolyStyle:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("PolyStyle"==t.localName,"localName should be PolyStyle");var i=nh({},Yd,t,e);if(i){var n=e[e.length-1];n.fillStyle=new Do({color:"color"in i?i.color:void 0});var o=i.fill;void 0!==o&&(n.fill=o),i=i.outline,void 0!==i&&(n.outline=i)}}}),Kd=eh(Nd,{Pair:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Pair"==t.localName,"localName should be Pair");var i=nh({},Hd,t,e);if(i){var n=i.key;n&&"normal"==n&&((n=i.styleUrl)&&(e[e.length-1]=n),(i=i.Style)&&(e[e.length-1]=i))}}});eh(Nd,["Document","Placemark"]),eh(Nd,{Document:qa(function(t,e,i){sh({node:t},qd,Pl,e,i,void 0,this)}),Placemark:qa(Sl)});var qd=eh(Nd,{Placemark:qa(Sl)}),$d=eh(Nd,{Data:qa(function(t,e,i){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&sh(t,$d,Kf,[e.displayName],i,["displayName"]),null!==e&&e.value&&sh(t,$d,Kf,[e.value],i,["value"])):sh(t,$d,Kf,[e],i,["value"])}),value:qa(function(t,e){Kh(t,e)}),displayName:qa(function(t,e){t.appendChild(Jf.createCDATASection(e))})}),Qd={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},tp=eh(Nd,["href"],eh(Td,["x","y","w","h"])),ep=eh(Nd,{href:qa(Kh)},eh(Td,{x:qa(Zh),y:qa(Zh),w:qa(Zh),h:qa(Zh)})),ip=eh(Nd,["scale","heading","Icon","hotSpot"]),np=eh(Nd,{Icon:qa(function(t,e,i){t={node:t};var n=tp[i[i.length-1].node.namespaceURI],o=th(e,n);sh(t,ep,Kf,o,i,n),n=tp[Td[0]],o=th(e,n),sh(t,ep,_l,o,i,n)}),heading:qa(Zh),hotSpot:qa(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Qc),t.setAttribute("yunits",e.Rc)}),scale:qa(Cl)}),op=eh(Nd,["color","scale"]),sp=eh(Nd,{color:qa(Ml),scale:qa(Cl)}),rp=eh(Nd,["color","width"]),ap=eh(Nd,{color:qa(Ml),width:qa(Zh)}),hp=eh(Nd,{LinearRing:qa(Ll)}),lp=eh(Nd,{LineString:qa(Ll),Point:qa(Ll),Polygon:qa(Al),GeometryCollection:qa(Tl)}),up=eh(Nd,"name open visibility address phoneNumber description styleUrl Style".split(" ")),cp=eh(Nd,{ExtendedData:qa(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var o=n.length,s=0;s<o;s++)sh(t,$d,mp,[{name:n[s],value:e[s]}],i)}),MultiGeometry:qa(Tl),LineString:qa(Ll),LinearRing:qa(Ll),Point:qa(Ll),Polygon:qa(Al),Style:qa(function(t,e,i){t={node:t};var n={},o=e.b,s=e.f,r=e.c;e=e.ma(),r instanceof sl&&(n.IconStyle=r),e&&(n.LabelStyle=e),s&&(n.LineStyle=s),o&&(n.PolyStyle=o),e=vp[i[i.length-1].node.namespaceURI],n=th(n,e),sh(t,gp,Kf,n,i,e)}),address:qa(Kh),description:qa(Kh),name:qa(Kh),open:qa(Yh),phoneNumber:qa(Kh),styleUrl:qa(Kh),visibility:qa(Yh)}),fp=eh(Nd,{coordinates:qa(function(t,e,i){i=i[i.length-1];var n=i.layout;i=i.stride;var o;"XY"==n||"XYM"==n?o=2:"XYZ"==n||"XYZM"==n?o=3:a(!1,34);var s,r=e.length,h="";if(0<r){for(h+=e[0],n=1;n<o;++n)h+=","+e[n];for(s=i;s<r;s+=i)for(h+=" "+e[s],n=1;n<o;++n)h+=","+e[s+n]}Kh(t,h)})}),dp=eh(Nd,{outerBoundaryIs:qa(Nl),innerBoundaryIs:qa(Nl)}),pp=eh(Nd,{color:qa(Ml)}),vp=eh(Nd,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),gp=eh(Nd,{IconStyle:qa(function(t,e,i){t={node:t};var n={},o=e.Ta(),s=e.Qb(),r={href:e.a.l};if(o){r.w=o[0],r.h=o[1];var a=e.xb(),h=e.Db();h&&s&&0!==h[0]&&h[1]!==o[1]&&(r.x=h[0],r.y=s[1]-(h[1]+o[1])),a&&0!==a[0]&&a[1]!==o[1]&&(n.hotSpot={x:a[0],Qc:"pixels",y:o[1]-a[1],Rc:"pixels"})}n.Icon=r,o=e.j,1!==o&&(n.scale=o),e=e.o,0!==e&&(n.heading=e),e=ip[i[i.length-1].node.namespaceURI],n=th(n,e),sh(t,np,Kf,n,i,e)}),LabelStyle:qa(function(t,e,i){t={node:t};var n={},o=e.a;o&&(n.color=o.a),(e=e.f)&&1!==e&&(n.scale=e),e=op[i[i.length-1].node.namespaceURI],n=th(n,e),sh(t,sp,Kf,n,i,e)}),LineStyle:qa(function(t,e,i){t={node:t};var n=rp[i[i.length-1].node.namespaceURI];e=th({color:e.a,width:e.b},n),sh(t,ap,Kf,e,i,n)}),PolyStyle:qa(function(t,e,i){sh({node:t},pp,bp,[e.a],i)})}),bp=Qa("color"),yp=Qa("coordinates"),mp=Qa("Data"),xp=Qa("ExtendedData"),Ep=Qa("innerBoundaryIs"),wp=Qa("Point"),Mp=Qa("LineString"),Tp=Qa("LinearRing"),Np=Qa("Polygon"),Sp=Qa("outerBoundaryIs");!function(){var e={},i={U:e};!function(n){if("object"==typeof e&&"undefined"!=typeof i)i.U=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,o.cg=n()}}(function(){return function t(e,i,o){function s(a,h){if(!i[a]){if(!e[a]){var l="function"==typeof n&&n;if(!h&&l)return n(a,!0);if(r)return r(a,!0);throw l=Error("Cannot find module '"+a+"'"),l.code="MODULE_NOT_FOUND",l}l=i[a]={U:{}},e[a][0].call(l.U,function(t){var i=e[a][1][t];return s(i?i:t)},l,l.U,t,e,i,o)}return i[a].U}for(var r="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(t,e,i){i.read=function(t,e,i,n,o){var s;s=8*o-n-1;var r=(1<<s)-1,a=r>>1,h=-7;o=i?o-1:0;var l=i?-1:1,u=t[e+o];for(o+=l,i=u&(1<<-h)-1,u>>=-h,h+=s;0<h;i=256*i+t[e+o],o+=l,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=n;0<h;s=256*s+t[e+o],o+=l,h-=8);if(0===i)i=1-a;else{if(i===r)return s?NaN:1/0*(u?-1:1);s+=Math.pow(2,n),i-=a}return(u?-1:1)*s*Math.pow(2,i-n)},i.write=function(t,e,i,n,o,s){var r,a=8*s-o-1,h=(1<<a)-1,l=h>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0;s=n?0:s-1;var c=n?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=h):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(r=Math.pow(2,-n))&&(n--,r*=2),e=1<=n+l?e+u/r:e+u*Math.pow(2,1-l),2<=e*r&&(n++,r/=2),n+l>=h?(e=0,n=h):1<=n+l?(e=(e*r-1)*Math.pow(2,o),n+=l):(e=e*Math.pow(2,l-1)*Math.pow(2,o),n=0));8<=o;t[i+s]=255&e,s+=c,e/=256,o-=8);for(n=n<<o|e,a+=o;0<a;t[i+s]=255&n,s+=c,n/=256,a-=8);t[i+s-c]|=128*f}},{}],2:[function(t,e){function i(t){this.La=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.R=0,this.length=this.La.length}function n(t,e,i){var n,s,r=i.La;if(s=r[i.R++],n=(112&s)>>4,128>s)return o(t,n,e);if(s=r[i.R++],n|=(127&s)<<3,128>s)return o(t,n,e);if(s=r[i.R++],n|=(127&s)<<10,128>s)return o(t,n,e);if(s=r[i.R++],n|=(127&s)<<17,128>s)return o(t,n,e);if(s=r[i.R++],n|=(127&s)<<24,128>s)return o(t,n,e);if(s=r[i.R++],128>s)return o(t,n|(1&s)<<31,e);throw Error("Expected varint not more than 10 bytes")}function o(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.U=i;var s=t("ieee754");i.c=0,i.b=1,i.a=2,i.f=5,i.prototype={Gc:function(t,e,i){for(i=i||this.length;this.R<i;){var n=this.ga(),o=n>>3,s=this.R;this.type=7&n,t(o,e,this),this.R===s&&this.Ff(n)}return e},vf:function(){var t=s.read(this.La,this.R,!0,23,4);return this.R+=4,t},uf:function(){var t=s.read(this.La,this.R,!0,52,8);return this.R+=8,t},ga:function(t){var e,i,o=this.La;return i=o[this.R++],e=127&i,128>i?e:(i=o[this.R++],e|=(127&i)<<7,128>i?e:(i=o[this.R++],e|=(127&i)<<14,128>i?e:(i=o[this.R++],e|=(127&i)<<21,128>i?e:(i=o[this.R],n(e|(15&i)<<28,t,this)))))},wf:function(){return this.ga(!0)},Ic:function(){var t=this.ga();return 1===t%2?(t+1)/-2:t/2},tf:function(){return!!this.ga()},Jc:function(){for(var t=this.ga()+this.R,e=this.La,i="",n=this.R;n<t;){var o=e[n],s=null,r=239<o?4:223<o?3:191<o?2:1;if(n+r>t)break;var a,h,l;1===r?128>o&&(s=o):2===r?(a=e[n+1],128===(192&a)&&(s=(31&o)<<6|63&a,127>=s&&(s=null))):3===r?(a=e[n+1],h=e[n+2],128===(192&a)&&128===(192&h)&&(s=(15&o)<<12|(63&a)<<6|63&h,2047>=s||55296<=s&&57343>=s)&&(s=null)):4===r&&(a=e[n+1],h=e[n+2],l=e[n+3],128===(192&a)&&128===(192&h)&&128===(192&l)&&(s=(15&o)<<18|(63&a)<<12|(63&h)<<6|63&l,65535>=s||1114112<=s))&&(s=null),null===s?(s=65533,r=1):65535<s&&(s-=65536,i+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),i+=String.fromCharCode(s),n+=r}return this.R=t,i},Ff:function(t){if(t&=7,t===i.c)for(;127<this.La[this.R++];);else if(t===i.a)this.R=this.ga()+this.R;else if(t===i.f)this.R+=4;else{if(t!==i.b)throw Error("Unimplemented type: "+t);this.R+=8}}}},{ieee754:1}]},{},[2])(2)})}(),function(){var e={},i={U:e};!function(n){if("object"==typeof e&&"undefined"!=typeof i)i.U=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,o.fg=n()}}(function(){return function t(e,i,o){function s(a,h){if(!i[a]){if(!e[a]){var l="function"==typeof n&&n;if(!h&&l)return n(a,!0);if(r)return r(a,!0);throw l=Error("Cannot find module '"+a+"'"),l.code="MODULE_NOT_FOUND",l}l=i[a]={U:{}},e[a][0].call(l.U,function(t){var i=e[a][1][t];return s(i?i:t)},l,l.U,t,e,i,o)}return i[a].U}for(var r="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(t,e){function i(t,e){this.x=t,this.y=e}e.U=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone().Qd(t)},rotate:function(t){return this.clone().Zd(t)},round:function(){return this.clone().$d()},angle:function(){return Math.atan2(this.y,this.x)},Qd:function(t){return this.x+=t.x,this.y+=t.y,this},Zd:function(t){var e=Math.cos(t);t=Math.sin(t);var i=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=i,this},$d:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.a=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],2:[function(t,e){e.U.Yf=t("./lib/vectortile.js"),e.U.Zf=t("./lib/vectortilefeature.js"),e.U.$f=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function i(t,e,i){3===t&&(t=new n(i,i.ga()+i.R),t.length&&(e[t.name]=t))}var n=t("./vectortilelayer");e.U=function(t,e){this.layers=t.Gc(i,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function i(t,e,i,o,s){this.properties={},this.extent=i,this.type=0,this.Xa=t,this.Vc=-1,this.Hb=o,this.Jb=s,t.Gc(n,this,e)}function n(t,e,i){if(1==t)e.id=i.ga();else if(2==t)for(t=i.ga()+i.R;i.R<t;){var n=e.Hb[i.ga()],o=e.Jb[i.ga()];e.properties[n]=o}else 3==t?e.type=i.ga():4==t&&(e.Vc=i.R)}t("point-geometry"),e.U=i,i.a=["Unknown","Point","LineString","Polygon"],i.prototype.bbox=function(){var t=this.Xa;t.R=this.Vc;for(var e=t.ga()+t.R,i=1,n=0,o=0,s=0,r=1/0,a=-(1/0),h=1/0,l=-(1/0);t.R<e;)if(n||(n=t.ga(),i=7&n,n>>=3),n--,1===i||2===i)o+=t.Ic(),s+=t.Ic(),o<r&&(r=o),o>a&&(a=o),s<h&&(h=s),s>l&&(l=s);else if(7!==i)throw Error("unknown command "+i);return[r,h,a,l]}},{"point-geometry":1}],5:[function(t,e){function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Xa=t,this.Hb=[],this.Jb=[],this.Gb=[],t.Gc(n,this,e),this.length=this.Gb.length}function n(t,e,i){15===t?e.version=i.ga():1===t?e.name=i.Jc():5===t?e.extent=i.ga():2===t?e.Gb.push(i.R):3===t?e.Hb.push(i.Jc()):4===t&&e.Jb.push(o(i))}function o(t){for(var e=null,i=t.ga()+t.R;t.R<i;)e=t.ga()>>3,e=1===e?t.Jc():2===e?t.vf():3===e?t.uf():4===e?t.wf():5===e?t.ga():6===e?t.Ic():7===e?t.tf():null;return e}var s=t("./vectortilefeature.js");e.U=i,i.prototype.feature=function(t){if(0>t||t>=this.Gb.length)throw Error("feature index out of bounds");return this.Xa.R=this.Gb[t],t=this.Xa.ga()+this.Xa.R,new s(this.Xa,t,this.extent,this.Hb,this.Jb)}},{"./vectortilefeature.js":4}]},{},[2])(2)})}();var Lp=[null],Ap=eh(Lp,{nd:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("nd"==t.localName,"localName should be nd"),e[e.length-1].eb.push(t.getAttribute("ref"))},tag:Il});eh(Lp,{node:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("node"==t.localName,"localName should be node");var i=e[0],n=e[e.length-1],o=t.getAttribute("id"),s=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.Ze[o]=s;var r=nh({Eb:{}},Cp,t,e);g(r.Eb)||(s=new ne(s),uh(s,!1,i),i=new Ba(s),i.a=o,i.B(),i.i(r.Eb),n.features.push(i))},way:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("way"==t.localName,"localName should be way");for(var i=e[0],n=t.getAttribute("id"),o=nh({eb:[],Eb:{}},Ap,t,e),s=e[e.length-1],r=[],a=0,h=o.eb.length;a<h;a++)U(r,s.Ze[o.eb[a]]);o.eb[0]==o.eb[o.eb.length-1]?(a=new ue(null),a.W("XY",r,[r.length])):(a=new ph(null),a.W("XY",r)),uh(a,!1,i),i=new Ba(a),i.a=n,i.B(),i.i(o.Eb),s.features.push(i)}});var Cp=eh(Lp,{tag:Il}),_p=[null,"http://www.opengis.net/ows/1.1"];eh(_p,{ServiceIdentification:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceIdentification"==t.localName,"localName should be ServiceIdentification"),nh({},Vp,t,e)}),ServiceProvider:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceProvider"==t.localName,"localName should be ServiceProvider"),nh({},Gp,t,e)}),OperationsMetadata:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("OperationsMetadata"==t.localName,"localName should be OperationsMetadata"),nh({},Fp,t,e)})});var Pp=eh(_p,{DeliveryPoint:Ka(Hh),City:Ka(Hh),AdministrativeArea:Ka(Hh),PostalCode:Ka(Hh),Country:Ka(Hh),ElectronicMailAddress:Ka(Hh)}),Dp=eh(_p,{Value:Ja(function(t){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Value"==t.localName,"localName should be Value"),Hh(t)})}),Ip=eh(_p,{AllowedValues:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("AllowedValues"==t.localName,"localName should be AllowedValues"),nh({},Dp,t,e)})}),jp=eh(_p,{Phone:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Phone"==t.localName,"localName should be Phone"),nh({},Bp,t,e)}),Address:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Address"==t.localName,"localName should be Address"),nh({},Pp,t,e)})}),Rp=eh(_p,{HTTP:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("HTTP"==t.localName,"localName should be HTTP"),nh({},kp,t,e)})}),kp=eh(_p,{Get:Ja(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Get"==t.localName,"localName should be Get");var i=jl(t);return i?nh({href:i},Up,t,e):void 0}),Post:void 0}),Op=eh(_p,{DCP:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("DCP"==t.localName,"localName should be DCP"),nh({},Rp,t,e)})}),Fp=eh(_p,{Operation:function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Operation"==t.localName,"localName should be Operation");var i=t.getAttribute("name"),n=nh({},Op,t,e);n&&(e[e.length-1][i]=n)}}),Bp=eh(_p,{Voice:Ka(Hh),Facsimile:Ka(Hh)}),Up=eh(_p,{Constraint:Ja(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Constraint"==t.localName,"localName should be Constraint");var i=t.getAttribute("name");return i?nh({name:i},Ip,t,e):void 0})}),Wp=eh(_p,{IndividualName:Ka(Hh),PositionName:Ka(Hh),ContactInfo:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactInfo"==t.localName,"localName should be ContactInfo"),nh({},jp,t,e)})}),Vp=eh(_p,{Title:Ka(Hh),ServiceTypeVersion:Ka(Hh),ServiceType:Ka(Hh)}),Gp=eh(_p,{ProviderName:Ka(Hh),ProviderSite:Ka(jl),ServiceContact:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ServiceContact"==t.localName,"localName should be ServiceContact"),nh({},Wp,t,e)})});Ka(Oh.prototype.i,"bounds");var Xp={"http://www.opengis.net/wfs":{totalInserted:Ka(Xh),totalUpdated:Ka(Xh),totalDeleted:Ka(Xh)}},zp={"http://www.opengis.net/ogc":{FeatureId:Ya(function(t){return t.getAttribute("fid")})}},Hp={"http://www.opengis.net/wfs":{Feature:function(t,e){ih(zp,t,e)}}};Ka(function(t,e){return nh({},Xp,t,e)},"transactionSummary"),Ka(function(t,e){return nh([],Hp,t,e)},"insertIds");var Yp=[null,"http://www.opengis.net/wms"];eh(Yp,{Service:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Service"==t.localName,"localName should be Service"),nh({},Jp,t,e)}),Capability:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Capability"==t.localName,"localName should be Capability"),nh({},Zp,t,e)})});var Zp=eh(Yp,{Request:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Request"==t.localName,"localName should be Request"),nh({},nv,t,e)}),Exception:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Exception"==t.localName,"localName should be Exception"),nh([],Qp,t,e)}),Layer:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer"),nh({},tv,t,e)})}),Jp=eh(Yp,{Name:Ka(Hh),Title:Ka(Hh),Abstract:Ka(Hh),KeywordList:Ka(Fl),OnlineResource:Ka(jl),ContactInformation:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType shpuld be ELEMENT"),console.assert("ContactInformation"==t.localName,"localName should be ContactInformation"),nh({},Kp,t,e)}),Fees:Ka(Hh),AccessConstraints:Ka(Hh),LayerLimit:Ka(Xh),MaxWidth:Ka(Xh),MaxHeight:Ka(Xh)}),Kp=eh(Yp,{ContactPersonPrimary:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactPersonPrimary"==t.localName,"localName should be ContactPersonPrimary"),nh({},qp,t,e)}),ContactPosition:Ka(Hh),ContactAddress:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("ContactAddress"==t.localName,"localName should be ContactAddress"),nh({},$p,t,e)}),ContactVoiceTelephone:Ka(Hh),ContactFacsimileTelephone:Ka(Hh),ContactElectronicMailAddress:Ka(Hh)}),qp=eh(Yp,{ContactPerson:Ka(Hh),ContactOrganization:Ka(Hh)}),$p=eh(Yp,{AddressType:Ka(Hh),Address:Ka(Hh),City:Ka(Hh),StateOrProvince:Ka(Hh),PostCode:Ka(Hh),Country:Ka(Hh)}),Qp=eh(Yp,{Format:Ya(Hh)}),tv=eh(Yp,{Name:Ka(Hh),Title:Ka(Hh),Abstract:Ka(Hh),KeywordList:Ka(Fl),CRS:Ja(Hh),EX_GeographicBoundingBox:Ka(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("EX_GeographicBoundingBox"==t.localName,"localName should be EX_GeographicBoundingBox");var i=nh({},iv,t,e);if(i){var n=i.westBoundLongitude,o=i.southBoundLatitude,s=i.eastBoundLongitude,i=i.northBoundLatitude;return void 0===n||void 0===o||void 0===s||void 0===i?void 0:[n,o,s,i]}}),BoundingBox:Ja(function(t){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("BoundingBox"==t.localName,"localName should be BoundingBox");var e=[Gh(t.getAttribute("minx")),Gh(t.getAttribute("miny")),Gh(t.getAttribute("maxx")),Gh(t.getAttribute("maxy"))],i=[Gh(t.getAttribute("resx")),Gh(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:Ja(function(t){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Dimension"==t.localName,"localName should be Dimension"),{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Uh(t.getAttribute("multipleValues")),nearestValue:Uh(t.getAttribute("nearestValue")),current:Uh(t.getAttribute("current")),values:Hh(t)}}),Attribution:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Attribution"==t.localName,"localName should be Attribution"),nh({},ev,t,e)}),AuthorityURL:Ja(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("AuthorityURL"==t.localName,"localName should be AuthorityURL");var i=Rl(t,e);if(i)return i.name=t.getAttribute("name"),i}),Identifier:Ja(Hh),MetadataURL:Ja(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("MetadataURL"==t.localName,"localName should be MetadataURL");var i=Rl(t,e);if(i)return i.type=t.getAttribute("type"),i}),DataURL:Ja(Rl),FeatureListURL:Ja(Rl),Style:Ja(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Style"==t.localName,"localName should be Style"),nh({},av,t,e)}),MinScaleDenominator:Ka(Vh),MaxScaleDenominator:Ka(Vh),Layer:Ja(function(t,e){console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer");var i=e[e.length-1],n=nh({},tv,t,e);if(n){var o=Uh(t.getAttribute("queryable"));return void 0===o&&(o=i.queryable),n.queryable=void 0!==o&&o,o=zh(t.getAttribute("cascaded")),void 0===o&&(o=i.cascaded),n.cascaded=o,o=Uh(t.getAttribute("opaque")),void 0===o&&(o=i.opaque),n.opaque=void 0!==o&&o,o=Uh(t.getAttribute("noSubsets")),void 0===o&&(o=i.noSubsets),n.noSubsets=void 0!==o&&o,(o=Gh(t.getAttribute("fixedWidth")))||(o=i.fixedWidth),n.fixedWidth=o,(o=Gh(t.getAttribute("fixedHeight")))||(o=i.fixedHeight),n.fixedHeight=o,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n}})}),ev=eh(Yp,{Title:Ka(Hh),OnlineResource:Ka(jl),LogoURL:Ka(Ol)}),iv=eh(Yp,{westBoundLongitude:Ka(Vh),eastBoundLongitude:Ka(Vh),southBoundLatitude:Ka(Vh),northBoundLatitude:Ka(Vh)}),nv=eh(Yp,{GetCapabilities:Ka(kl),GetMap:Ka(kl),GetFeatureInfo:Ka(kl)}),ov=eh(Yp,{Format:Ja(Hh),DCPType:Ja(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("DCPType"==t.localName,"localName should be DCPType"),nh({},sv,t,e)})}),sv=eh(Yp,{HTTP:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("HTTP"==t.localName,"localName should be HTTP"),nh({},rv,t,e)})}),rv=eh(Yp,{Get:Ka(Rl),Post:Ka(Rl)}),av=eh(Yp,{Name:Ka(Hh),Title:Ka(Hh),Abstract:Ka(Hh),LegendURL:Ja(Ol),StyleSheetURL:Ka(Rl),StyleURL:Ka(Rl)}),hv=eh(Yp,{Format:Ka(Hh),OnlineResource:Ka(jl)}),lv=eh(Yp,{Keyword:Ya(Hh)}),uv=[null,"http://www.opengis.net/wmts/1.0"],cv=[null,"http://www.opengis.net/ows/1.1"];eh(uv,{Contents:Ka(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Contents"==t.localName,"localName should be Contents"),nh({},fv,t,e)})});var fv=eh(uv,{Layer:Ja(function(t,e){return console.assert(t.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),console.assert("Layer"==t.localName,"localName should be Layer"),nh({},dv,t,e)}),TileMatrixSet:Ja(function(t,e){return nh({},xv,t,e)})}),dv=eh(uv,{Style:Ja(function(t,e){var i=nh({},pv,t,e);if(i){var n="true"===t.getAttribute("isDefault");return i.isDefault=n,i}}),Format:Ja(Hh),TileMatrixSetLink:Ja(function(t,e){return nh({},vv,t,e)}),Dimension:Ja(function(t,e){return nh({},yv,t,e)}),ResourceURL:Ja(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},eh(cv,{Title:Ka(Hh),Abstract:Ka(Hh),WGS84BoundingBox:Ka(function(t,e){var i=nh([],mv,t,e);return 2!=i.length?void 0:et(i)}),Identifier:Ka(Hh)})),pv=eh(uv,{LegendURL:Ja(function(t){var e={};return e.format=t.getAttribute("format"),e.href=jl(t),e})},eh(cv,{Title:Ka(Hh),Identifier:Ka(Hh)})),vv=eh(uv,{TileMatrixSet:Ka(Hh),TileMatrixSetLimits:Ka(function(t,e){return nh([],gv,t,e)})}),gv=eh(uv,{TileMatrixLimits:Ya(function(t,e){return nh({},bv,t,e)})}),bv=eh(uv,{TileMatrix:Ka(Hh),MinTileRow:Ka(Xh),MaxTileRow:Ka(Xh),MinTileCol:Ka(Xh),MaxTileCol:Ka(Xh)}),yv=eh(uv,{Default:Ka(Hh),Value:Ja(Hh)},eh(cv,{Identifier:Ka(Hh)})),mv=eh(cv,{LowerCorner:Ya(Bl),UpperCorner:Ya(Bl)}),xv=eh(uv,{WellKnownScaleSet:Ka(Hh),TileMatrix:Ja(function(t,e){return nh({},Ev,t,e)})},eh(cv,{SupportedCRS:Ka(Hh),Identifier:Ka(Hh)})),Ev=eh(uv,{TopLeftCorner:Ka(Bl),ScaleDenominator:Ka(Vh),TileWidth:Ka(Xh),TileHeight:Ka(Xh),MatrixWidth:Ka(Xh),MatrixHeight:Ka(Xh)},eh(cv,{Identifier:Ka(Hh)}));i(Ul,zt),Ul.prototype.clone=function(){var t=new Ul(null);return Yt(t,this.Y,this.u.slice()),t.B(),t},Ul.prototype.Ob=function(t){var e=this.u,i=e[this.a]-e[0];return rt(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},Ul.prototype.ca=function(){return"Circle"},i(Vl,qi),Ou=Vl.prototype,Ou.aa=function(){1==this.state&&Gl(this),this.a&&L(this.a),this.state=5,this.B(),qi.prototype.aa.call(this)},Ou.gb=function(){return this.f},Ou.getKey=function(){return this.c},Ou.af=function(){this.state=3,Gl(this),this.B()},Ou.bf=function(){this.state=this.f.naturalWidth&&this.f.naturalHeight?Sc:4,Gl(this),this.B()},Ou.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.B(),console.assert(!this.b,"this.imageListenerKeys_ should be null"),this.b=[w(this.f,"error",this.af,this,!0),w(this.f,"load",this.bf,this,!0)],this.i(this,this.c))},i(zl,ya),Ou=zl.prototype,Ou.lc=function(t){var e=s(t).toString();if(Yl(this,e,t)){Hl(this,e,t);var i=t.V();i?(e=i.L(),this.ba&&this.ba.Na(e,t)):this.ta[e]=t,P(this,new Ql(wv,t))}this.B()},Ou.mc=function(t){Zl(this,t),this.B()},Ou.clear=function(t){if(t){for(var e in this.j)this.j[e].forEach(T);this.a||(this.j={},this.b={},this.g={})}else if(this.ba){this.ba.forEach(this.Kc,this);for(var i in this.ta)this.Kc(this.ta[i])}this.a&&this.a.clear(),console.assert(g(this.j),"featureChangeKeys is an empty object now"),console.assert(g(this.b),"idIndex is an empty object now"),console.assert(g(this.g),"undefIdIndex is an empty object now"),this.ba&&this.ba.clear(),this.v.clear(),this.ta={},P(this,new Ql(Tv)),this.B()},Ou.je=function(t,e){return this.ba?this.ba.forEach(t,e):this.a?this.a.forEach(t,e):void 0},Ou.hf=function(){var t;return this.a?t=this.a.a:this.ba&&(t=jr(this.ba),g(this.ta)||U(t,v(this.ta))),t},Ou.L=function(){return console.assert(this.ba,"getExtent does not work when useSpatialIndex is set to false"),this.ba.L()},Ou.Ed=function(t){t=t.target;var e=s(t).toString(),i=t.V();if(i?(i=i.L(),e in this.ta?(delete this.ta[e],this.ba&&this.ba.Na(i,t)):this.ba&&Ir(this.ba,i,t)):e in this.ta||(this.ba&&this.ba.remove(t),this.ta[e]=t),i=t.a,void 0!==i){var n=i.toString();e in this.g?(delete this.g[e],this.b[n]=t):this.b[n]!==t&&(i=$l(this,t),console.assert(i,"Expected feature to be removed from index"),this.b[n]=t)}else e in this.g?console.assert(this.g[e]===t,"feature keyed under %s in undefIdKeys",e):(i=$l(this,t),console.assert(i,"Expected feature to be removed from index"),this.g[e]=t);this.B(),P(this,new Ql(Mv,t))},Ou.Kc=function(t){var e=s(t).toString();console.assert(e in this.j,"featureKey exists in featureChangeKeys"),this.j[e].forEach(T),delete this.j[e];var i=t.a;void 0!==i?delete this.b[i.toString()]:delete this.g[e],P(this,new Ql(Nv,t))},i(Ql,A);var wv="addfeature",Mv="changefeature",Tv="clear",Nv="removefeature";i(tu,mn),tu.prototype.setMap=function(t){mn.prototype.setMap.call(this,t),this.Fb()},tu.prototype.G=wt,tu.prototype.Fb=function(){var t=this.Z,e=this.get(Lc);t&&e||uu(this),this.ia.setMap(e?t:null)};var Sv="Point",Lv="LineString",Av="Polygon",Cv="Circle";i(du,A);var _v="drawstart",Pv="drawend";i(pu,qi),pu.prototype.aa=function(){1==this.state&&(this.Va.forEach(T),this.Va=null),qi.prototype.aa.call(this)},pu.prototype.gb=function(){return this.l},pu.prototype.Id=function(){var t=[];if(this.f.forEach(function(e){e&&e.da()==Sc&&t.push({extent:We(this.b,e.ka),image:e.gb()})},this),this.f.length=0,0===t.length)this.state=3;else{var e=this.g[0],i=Ge(this.i,e),n="number"==typeof i?i:i[0],i="number"==typeof i?i:i[1],e=ke(this.i,e),o=ke(this.b,this.c),s=We(this.i,this.g);this.l=pa(n,i,this.o,o,this.b.L(),e,s,this.j,t,this.s,this.v),this.state=Sc}this.B()},pu.prototype.load=function(){if(0==this.state){this.state=1,this.B();var t=0;console.assert(!this.Va,"this.sourcesListenerKeys_ should be null"),this.Va=[],this.f.forEach(function(e){var i=e.da();if(0==i||1==i){t++;var n;n=w(e,"change",function(){var i=e.da();i!=Sc&&3!=i&&4!=i||(T(n),t--,console.assert(0<=t,"leftToLoad should not be negative"),0===t&&(this.Va.forEach(T),this.Va=null,this.Id()))},this),this.Va.push(n)}},this),this.f.forEach(function(t){0==t.da()&&t.load()}),0===t&&setTimeout(this.Id.bind(this),0)}},i(mu,Na),mu.prototype.Ya=function(t){for(var e,i;xu(this);){e=La(this),i=e.ka[0].toString();var n;if((n=i in t)&&(e=e.ka,n=Ae(t[i],e[1],e[2])),n)break;L(this.pop())}},i(Eu,ya),Ou=Eu.prototype,Ou.Dd=function(){return xu(this.a)},Ou.Ya=function(t,e){var i=this.yb(t);i&&i.Ya(e)},Ou.vc=function(){return 0},Ou.getKey=function(){return this.Fa},Ou.Rb=function(t,e,i){return t+"/"+e+"/"+i},Ou.xc=function(){return this.Z},Ou.Ja=function(t){return this.tileGrid?this.tileGrid:Ye(t)},Ou.yb=function(t){var e=this.c;return e&&!kt(e,t)?null:this.a},Ou.zb=function(){return this.ia},Ou.Sa=function(){this.a.clear(),this.B()},Ou.Od=o,i(Nu,A),i(Su,Eu),Su.prototype.X=function(t){switch(t=t.target,t.da()){case 1:P(this,new Nu("tileloadstart",t));break;case Sc:P(this,new Nu("tileloadend",t));break;case 3:P(this,new Nu("tileloaderror",t))}},Su.prototype.C=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,o=i[2].charCodeAt(0);for(n=i[1].charCodeAt(0);n<=o;++n)e.push(t.replace(i[0],String.fromCharCode(n)))}else if(i=i=/\{(\d+)-(\d+)\}/.exec(t))for(o=parseInt(i[2],10),n=parseInt(i[1],10);n<=o;n++)e.push(t.replace(i[0],n.toString()));else e.push(t);e=this.urls=e,Lu(this,this.g?this.g.bind(this):gu(e,this.tileGrid),t)},Su.prototype.Od=function(t,e,i){t=this.Rb(t,e,i),Sa(this.a,t)&&this.a.get(t)},i(Au,Su),Ou=Au.prototype,Ou.Dd=function(){if(xu(this.a))return!0;for(var t in this.b)if(xu(this.b[t]))return!0;return!1},Ou.Ya=function(t,e){var i=this.yb(t);this.a.Ya(this.a==i?e:{});for(var n in this.b){var o=this.b[n];o.Ya(o==i?e:{})}},Ou.vc=function(t){return this.c&&t&&kt(this.c,t),0},Ou.xc=function(t){return!(this.c&&t&&!kt(this.c,t))&&Su.prototype.xc.call(this,t)},Ou.Ja=function(t){var e=this.c;return!this.tileGrid||e&&!kt(e,t)?(e=s(t).toString(),e in this.v||(this.v[e]=Ye(t)),this.v[e]):this.tileGrid},Ou.yb=function(t){var e=this.c;return!e||kt(e,t)?this.a:(t=s(t).toString(),t in this.b||(this.b[t]=new mu),this.b[t])},i(Iu,Au),i(Ru,Iu);var Dv=new Ke({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});!function(){var e={},i={U:e};!function(n){
if("object"==typeof e&&"undefined"!=typeof i)i.U=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,o.dg=n()}}(function(){return function t(e,i,o){function s(a,h){if(!i[a]){if(!e[a]){var l="function"==typeof n&&n;if(!h&&l)return n(a,!0);if(r)return r(a,!0);throw l=Error("Cannot find module '"+a+"'"),l.code="MODULE_NOT_FOUND",l}l=i[a]={U:{}},e[a][0].call(l.U,function(t){var i=e[a][1][t];return s(i?i:t)},l,l.U,t,e,i,o)}return i[a].U}for(var r="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(t,e,i){t=t("./processor"),i.Wf=t},{"./processor":2}],2:[function(t,e){function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(i){var n=i.buffers,o=i.meta,s=i.width,r=i.height,a=n.length,h=n[0].byteLength;if(i.imageOps){for(h=Array(a),i=0;i<a;++i){var l,u=h,c=i;l=new Uint8ClampedArray(n[i]);var f=s,d=r;l=e?new ImageData(l,f,d):{data:l,width:f,height:d},u[c]=l}s=t(h,o).data}else{for(s=new Uint8ClampedArray(h),r=Array(a),u=Array(a),i=0;i<a;++i)r[i]=new Uint8ClampedArray(n[i]),u[i]=[0,0,0,0];for(n=0;n<h;n+=4){for(i=0;i<a;++i)c=r[i],u[i][0]=c[n],u[i][1]=c[n+1],u[i][2]=c[n+2],u[i][3]=c[n+3];i=t(u,o),s[n]=i[0],s[n+1]=i[1],s[n+2]=i[2],s[n+3]=i[3]}}return s.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),n=new Worker(n);return n.addEventListener("message",e),n}function o(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function s(t){this.hc=!!t.bg;var e;e=0===t.threads?0:this.hc?1:t.threads||1;var i=[];if(e)for(var s=0;s<e;++s)i[s]=n(t,this.Yc.bind(this,s));else i[0]=o(t,this.Yc.bind(this,0));this.Kb=i,this.Zc=[],this.Ib=0,this.Wa={},this.ic=null}var r=t("./util").Ye;s.prototype.Wd=function(){if(0===this.Ib&&0<this.Zc.length){var t=this.ic=this.Zc.shift(),e=t.cb[0].width,i=t.cb[0].height,n=t.cb.map(function(t){return t.data.buffer}),o=this.Kb.length;if(this.Ib=o,1===o)this.Kb[0].postMessage({buffers:n,meta:t.Je,imageOps:this.hc,width:e,height:i},n);else for(var s=4*Math.ceil(t.cb[0].data.length/4/o),r=0;r<o;++r){for(var a=r*s,h=[],l=0,u=n.length;l<u;++l)h.push(n[r].slice(a,a+s));this.Kb[r].postMessage({buffers:h,meta:t.Je,imageOps:this.hc,width:e,height:i},h)}}},s.prototype.Yc=function(t,e){this.ag||(this.Wa[t]=e.data,--this.Ib,0===this.Ib&&this.Yd())},s.prototype.Yd=function(){var t,e,i=this.ic,n=this.Kb.length;if(1===n)t=new Uint8ClampedArray(this.Wa[0].buffer),e=this.Wa[0].meta;else{var o=i.cb[0].data.length;t=new Uint8ClampedArray(o),e=Array(o);for(var o=4*Math.ceil(o/4/n),s=0;s<n;++s){var a=s*o;t.set(new Uint8ClampedArray(this.Wa[s].buffer),a),e[s]=this.Wa[s].meta}}this.ic=null,this.Wa={},i.Nb(null,r(t,i.cb[0].width,i.cb[0].height),e),this.Wd()},e.U=s},{"./util":3}],3:[function(t,e,i){var n=!0;try{new ImageData(10,10)}catch(t){n=!1}var o=document.createElement("canvas").getContext("2d");i.Ye=function(t,e,i){return n?new ImageData(t,e,i):(e=o.createImageData(e,i),e.data.set(t),e)}},{}]},{},[1])(1)})}(),i(ku,Au),ku.prototype.zb=function(t){return t},ku.prototype.g=function(t,e,i){var n=this.tileGrid;if(n||(n=this.Ja(i)),!(n.a.length<=t[0])){var o=We(n,t,this.G),s=De(Ge(n,t[0]),this.j);1!=e&&(s=Pe(s,e,this.j)),n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Vu(n,this.o);var r=this.urls;return r?(i=i.Ia.split(":").pop(),n.SIZE=s[0]+","+s[1],n.BBOX=o.join(","),n.BBOXSR=i,n.IMAGESR=i,n.DPI=Math.round(n.DPI?n.DPI*e:90*e),t=(1==r.length?r[0]:r[u((t[1]<<t[0])+t[2],r.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=ju(t,n)):t=void 0,t}},e("ol.format.GeoJSON",Dh),Dh.prototype.readFeatures=Dh.prototype.Yb,Dh.prototype.readFeature=Dh.prototype.Fc,e("ol.format.EsriJSON",Sh),Sh.prototype.readFeatures=Sh.prototype.Yb,Sh.prototype.readFeature=Sh.prototype.Fc,e("ol.style.Style",jo),e("ol.style.Circle",Po),e("ol.style.RegularShape",_o),e("ol.style.Fill",Do),e("ol.style.Stroke",Io),e("ol.style.Icon",sl),e("ol.style.Text",rl),e("ol.View",pe),pe.prototype.on=pe.prototype.fa,pe.prototype.getZoom=pe.prototype.ne,pe.prototype.setZoom=pe.prototype.Ef,pe.prototype.getCenter=pe.prototype.ya,pe.prototype.setCenter=pe.prototype.Oa,pe.prototype.calculateExtent=pe.prototype.dd,pe.prototype.getProjection=pe.prototype.df,pe.prototype.fit=pe.prototype.ie,e("ol.control.defaults",xi),e("ol.layer.Tile",Lo),Lo.prototype.getVisible=Lo.prototype.Ab,Lo.prototype.setVisible=Lo.prototype.wd,Lo.prototype.getZIndex=Lo.prototype.Dc,Lo.prototype.setZIndex=Lo.prototype.xd,Lo.prototype.getOpacity=Lo.prototype.Cc,Lo.prototype.setOpacity=Lo.prototype.vd,Lo.prototype.getSource=Lo.prototype.na,Lo.prototype.setSource=Lo.prototype.Mc,Lo.prototype.on=Lo.prototype.fa,e("ol.layer.Vector",Bo),Bo.prototype.getVisible=Bo.prototype.Ab,Bo.prototype.setVisible=Bo.prototype.wd,Bo.prototype.getSource=Bo.prototype.na,Bo.prototype.setStyle=Bo.prototype.o,Bo.prototype.getZIndex=Bo.prototype.Dc,Bo.prototype.setZIndex=Bo.prototype.xd,Bo.prototype.getOpacity=Bo.prototype.Cc,Bo.prototype.setOpacity=Bo.prototype.vd,Bo.prototype.getSource=Bo.prototype.na,Bo.prototype.setSource=Bo.prototype.Mc,Bo.prototype.on=Bo.prototype.fa,e("ol.source.OSM",Ru),Ru.prototype.refresh=Ru.prototype.Sa,e("ol.source.XYZ",Iu),Iu.prototype.refresh=Iu.prototype.Sa,Iu.prototype.setUrl=Iu.prototype.C,Iu.prototype.refresh=Iu.prototype.Sa,e("ol.Map",Da),Da.prototype.on=Da.prototype.fa,Da.prototype.getTarget=Da.prototype.Ac,Da.prototype.getTargetElement=Da.prototype.ab,Da.prototype.getView=Da.prototype.$,Da.prototype.addOverlay=Da.prototype.ee,Da.prototype.addLayer=Da.prototype.de,Da.prototype.removeLayer=Da.prototype.zf,Da.prototype.getEventPixel=Da.prototype.kd,Da.prototype.hasFeatureAtPixel=Da.prototype.He,Da.prototype.getSize=Da.prototype.fb,Da.prototype.updateSize=Da.prototype.fc,Da.prototype.forEachFeatureAtPixel=Da.prototype.ke,Da.prototype.addInteraction=Da.prototype.ce,Da.prototype.removeInteraction=Da.prototype.yf,Da.prototype.beforeRender=Da.prototype.fe,Da.prototype.addControl=Da.prototype.be,Da.prototype.once=Da.prototype.le,Da.prototype.renderSync=Da.prototype.Cf,e("ol.source.Vector",zl),zl.prototype.getFeatures=zl.prototype.hf,zl.prototype.getExtent=zl.prototype.L,zl.prototype.refresh=zl.prototype.Sa,zl.prototype.addFeatures=zl.prototype.mc,zl.prototype.addFeature=zl.prototype.lc,zl.prototype.clear=zl.prototype.clear,zl.prototype.forEachFeature=zl.prototype.je,zl.prototype.refresh=zl.prototype.Sa,e("ol.source.TileArcGISRest",ku),ku.prototype.refresh=ku.prototype.Sa,e("ol.Overlay",Ra),Ra.prototype.setPosition=Ra.prototype.ud,e("ol.Feature",Ba),Ba.prototype.getProperties=Ba.prototype.J,Ba.prototype.setProperties=Ba.prototype.i,Ba.prototype.getGeometry=Ba.prototype.V,e("ol.geom.Point",ne),ne.prototype.transform=ne.prototype.s,ne.prototype.getCoordinates=ne.prototype.sa,ne.prototype.getExtent=ne.prototype.L,e("ol.geom.Polygon",ue),ue.prototype.getCoordinates=ue.prototype.sa,ue.prototype.getExtent=ue.prototype.L,ue.prototype.transform=ue.prototype.s,e("ol.geom.LineString",ph),ph.prototype.getCoordinates=ph.prototype.sa,ph.prototype.getExtent=ph.prototype.L,ph.prototype.transform=ph.prototype.s,e("ol.proj.Projection",Nt),Nt.prototype.getCode=Nt.prototype.j,e("ol.interaction.Draw",tu),tu.prototype.on=tu.prototype.fa,e("ol.animation.pan",function(t){console.warn("ol.animation.pan() is deprecated.  Use view.animate() instead.");var e=t.source,i=t.start?t.start:Date.now(),n=e[0],o=e[1],s=void 0!==t.duration?t.duration:1e3,r=t.easing?t.easing:Q;return function(t,e){if(e.time<i)return e.animate=!0,e.viewHints[$u]+=1,!0;if(e.time<i+s){var a=1-r((e.time-i)/s),h=n-e.viewState.center[0],l=o-e.viewState.center[1];return e.animate=!0,e.viewState.center[0]+=a*h,e.viewState.center[1]+=a*l,e.viewHints[$u]+=1,!0}return!1}}),e("ol.control.FullScreen",di),e("ol.easing.inAndOut",Q)}).call(e,function(){return this}())}]);
//# sourceMappingURL=custom-ol-build.js.map